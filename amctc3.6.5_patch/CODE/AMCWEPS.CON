/* 
AKIMBO BIT LIST

Chaingun = 2
Pistols = 4
Shotguns = 8

ALTERNATE AMMO BIT LIST

Explosive shells = 1
Tommy Gun silver bullets = 2
Flechete Shells = 4
Tesla ammo = 8
Silver bolts = 16

ALERNATE FIRE BIT LIST

Plasma gun (Bouncing projectiles) = 8
Riotgun Full-auto = 16
Prox alternate mode = 32
pistol double = 64
Sawn off double fire = 256
deployed = 512
Chaingun double = 1024
Laser sight = 2048
Semi-auto = 8192
Small zoom = 16384
Grenade firing mode = 32768
Suppressor = 65536

Gunsight = 131072
Vehicle missile mode = 262144

Stygian warcannon = 524288  

ALTERNATE FIRE BIT LIST 2

Zilla Inc Heat mode = 1
Zilla Inc Nuke mode = 2
Zilla Inc DUP mode = 4
Shotgun duel tube mode = 8
RG-warm up = 16
Sword block = 32
Shotgun double = 64
Super galil rocket = 128

UPGRADE BIT LIST

James' Glock (Extended Magazine) = 1
James' Glock (Rate of Fire) = 2
James' Glock (Accuracy) = 8
James' TMP (Magazine) = 16
James' M16 (Drum magazine) = 32
James' TMP (Suppressor) = 128
James' Aug (Magazine) = 4
James' Aug (handle) = 256
James' M16 (autoshotgun) = 512
James' Protecta (extended Mag) = 1024

Zaxtor's Rifle (Grenade Launcher) = 1
Zaxtor's Rifle (Power) = 2
Zaxtor's Rifle (Accuracy) = 4

Merlijn's Blunderbuss (Speed + One handed) = 1
Merlijn's Blunderbuss (Power) = 2
Merlijn's Blunderbuss (Accuracy) = 4

Highwire's AKM (Drum magazine) = 1
Highwire's Tokarov (Extended Magazine) = 2
Highwire's Tokarov (Automatic) = 4
Highwire's Tokarov (Accuracy) = 8
Highwire's AKM (Grenade Launcher) = 16
Highwire's 870 (Box Magazine) = 32
Highwire's AKM (Red Dot Sight) = 64

Sang's Uzi (Accuracy) = 1
Sang's Uzi (Extended Magazine) = 2

Rusty's FG42 (Accuracy) = 1
Rusty's FG42 (chain) = 2
Rusty's Revolver (Accuracy) = 4
Rusty's FG42 (Rate of Fire) = 8
Rusty's Revolver (Scope) = 16
Rusty's Nailgun (Magazine) = 32
Rusty's Shotgun (Drum magazine) = 64

Geoffrey's Pistol (Laser Power) = 1
Geoffrey's Pistol (Faster burst fire) = 2
Geoffrey's GL (ROF) = 4
Geoffrey's SMG (magazine) = 8
Geoffrey's Shotgun (Accuracy) = 16

Mikko's pistol (Extended Magazine) = 1
Mikko's pistol (Faster reload) = 2
Mikko's pistol (ROF) = 4
Mikko's Assault Rifle (Drum Magazine) = 8
Mikko's Assault Rifle (HP mode) = 16
Mikko's shotgun (double-shot Accuracy) = 32
Mikko's red materia gun (charge holder) = 64

Micky's Pistol (AP bullets) = 1
Micky's Pistol (Stabiliser clamp) = 16
Micky's Pulse rifle (Scope) = 2
Micky's AR (Extended magazine) = 4
Micky's AR (Accuracy) = 8
Micky's AR (Grenade launcher) = 32

Snowfall's AR (Extended Magazine) = 1
Snowfall's AR (spread reducer) = 2
Snowfall's AR (something something) = 4
Snowfall's Shotgun (Dual ability) = 8
Snowfall's Shotgun (Double ammo cap) = 16

WEAP_DISP_TEMP WEAPON

MINISHRINKERSPRITE 1
BARRETTRIFLESPRITE 2
SMGSPRITE 3
BLOODSTAFFSPRITE 4
LIZMANGUNSPRITE 5
PIGCOPGUNSPRITE 6
SKULLDUSTERSPRITE 7
FLESHSQUIRTERSPRITE 8
STYGIANGUNSPRITE 9
SAWNOFFSPRITE 10
TOMMYGUNSPRITE 11
RIOTGUNSPRITE 12
CROSSBOWSPRITE 13
MIAGUNSPRITE 14
LASERGUNSPRITE 15
TMISSILESPRITE 16
CHAINSAWSPRITE 17
FLAMETHROWERSPRITE 18
SWORDSPRITE 19
MOPSPRITE 20
FNFALSPRITE 21
MP40SPRITE 22
JPLASMASPRITE 23
LIZMANFGUNSPRITE 24

*/

define M4A1_SIZE 52500

define FNFAL_SIZE 52500

defstate wep_drawup
  set WEAP_DISP_TEMP2 player[].weapon_pos
  mulvar WEAP_DISP_TEMP2 -5
  ifg WEAP_DISP_TEMP2 0 mul WEAP_DISP_TEMP2 -1
  add x WEAP_DISP_TEMP2  
ends

defstate wep_drawup_rev
  set WEAP_DISP_TEMP2 player[].weapon_pos
  mulvar WEAP_DISP_TEMP2 -5
  ifg WEAP_DISP_TEMP2 0 mul WEAP_DISP_TEMP2 -1
  add x2 WEAP_DISP_TEMP2
  add WEAP_DISP_TEMP2 1024
ends

defstate gunpushback_display
   ifg GUN_PUSHBACK_DISPLAY 0
	{
	add x GUN_PUSHBACK_DISPLAY
	add y GUN_PUSHBACK_DISPLAY
	sub GUN_PUSHBACK_DISPLAY 1
	}
ends

defstate gunpushback_sight_display
set WEAP_DISP_TEMP8 52500
   ifg GUN_PUSHBACK_DISPLAY 0
	{
	set WEAP_DISP_TEMP7 32 // base value
	mul WEAP_DISP_TEMP7 GUN_SPREAD // weapon shake affected by gun spread too
	mul WEAP_DISP_TEMP7 GUN_PUSHBACK_DISPLAY // countdown
	add WEAP_DISP_TEMP8 WEAP_DISP_TEMP7 // add to zoom value
	sub GUN_PUSHBACK_DISPLAY 2
	}
ends


defstate gold_sparkle
ife GOLD_SPARKLE YES
	{
	set WEAP_DISP_TEMP7 4096
	sub WEAP_DISP_TEMP7 128		
	set WEAP_DISP_TEMP9 player[].player_par
	set WEAP_DISP_TEMP8 THISACTOR
	ifand WEAP_DISP_TEMP8 1 add WEAP_DISP_TEMP8 256
	add WEAP_DISP_TEMP9 WEAP_DISP_TEMP8
	shiftvarl WEAP_DISP_TEMP9 4
	sin WEAP_DISP_TEMP8 WEAP_DISP_TEMP9
	shiftvarr WEAP_DISP_TEMP8 2	
	sub WEAP_DISP_TEMP7 WEAP_DISP_TEMP8
	rotatespritea x y WEAP_DISP_TEMP7 0 3605 shade 12 0 -255 windowx1 windowy1 windowx2 windowy2
	}
ends

defstate gold_sparkle2
ife GOLD_SPARKLE YES
	{
	set WEAP_DISP_TEMP7 4096
	sub WEAP_DISP_TEMP7 128		
	set WEAP_DISP_TEMP9 player[].player_par
	set WEAP_DISP_TEMP8 THISACTOR
	ifand WEAP_DISP_TEMP8 1 add WEAP_DISP_TEMP8 256
	add WEAP_DISP_TEMP9 WEAP_DISP_TEMP8
	shiftvarl WEAP_DISP_TEMP9 4
	sin WEAP_DISP_TEMP8 WEAP_DISP_TEMP9
	shiftvarr WEAP_DISP_TEMP8 2	
	sub WEAP_DISP_TEMP7 WEAP_DISP_TEMP8
	rotatespritea x2 y WEAP_DISP_TEMP7 0 3605 shade 12 0 -255 windowx1 windowy1 windowx2 windowy2
	}
ends

defstate GLOWCODE
 getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 4 
ends


defstate crystal_glow
 getp[].random_club_frame crystal_shade
			   sin crystal_shade crystal_shade
			   divvar crystal_shade 1024 // 2^10
			   add crystal_shade 40
			   sub crystal_shade shade
ends

defstate tempm16_arm
	  sub x 95
	  add y 16
	  ife weaponcount 2 myospal x y C_ARM_2 0 0 107
	  else myospal x y C_ARM_2 shade 0 wep_pal
	  sub y 16
	  add x 95
ends

// WEAPON ICONS===============================================================================================================

defstate weaponicons
      set RETURN 1
	    ife currentweapon 0
			nullop
		else ife currentweapon 1 set WEAP_DISP_TEMP2 WEAPON1_TILE
		else ife currentweapon 2 set WEAP_DISP_TEMP2 WEAPON2_TILE
		else ife currentweapon 3 set WEAP_DISP_TEMP2 WEAPON3_TILE
		else ife currentweapon 4 set WEAP_DISP_TEMP2 WEAPON4_TILE
		else ife currentweapon 5 set WEAP_DISP_TEMP2 WEAPON5_TILE
		else ife currentweapon 6 set WEAP_DISP_TEMP2 WEAPON6_TILE
		else ife currentweapon 7 set WEAP_DISP_TEMP2 WEAPON7_TILE
		else ife currentweapon 8 set WEAP_DISP_TEMP2 WEAPON8_TILE		
		else ife currentweapon 9 set WEAP_DISP_TEMP2 WEAPON9_TILE
		else ife currentweapon 11 set WEAP_DISP_TEMP2 WEAPON6_TILE		

		rotatesprite 160 180 QUARTERSIZE 0 WEAP_DISP_TEMP2 0 0 0 windowx1 windowy1 windowx2 windowy2
		rotatesprite 161 181 QUARTERSIZE 0 WEAP_DISP_TEMP2 0 4 33 windowx1 windowy1 windowx2 windowy2

ends

// Random big AR muzzle flash

defstate random_AR_flash
  displayrandvar M60FLASH 5
  add M60FLASH 16116
ends


// JAMES' GLOCK AND 1911===============================================================================================================

defstate OTHERONE2
ifand GUNFIREMODE 64
{
  set x2 96
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  add x2 looking_angSR1
      
  set y2 245
  sub y2 WEAPSWAYY
  add y2 looking_arc
  sub y2 gun_pos
  

  ife KICKBACKPIC 1
	{
	ife SPECIALIST_EQUIPMENT[44] 2 ifand GUNFIREMODE 65536 nullop else
			{
			 displayrandvar WEAP_DISP_TEMP 5
		  add x2 WEAP_DISP_TEMP
		  add y2 WEAP_DISP_TEMP
			  sub y2 40
			  add x2 20
		  displayrandvar M60FLASH 2048
			 ifand AMMO_TYPES[CURWEAP] 2 ifand GUN_AMMO_TYPES 2 set WEAP_DISP_TEMP7 17 else set WEAP_DISP_TEMP7 0 
			  rotatespritea x2 y2 14000 M60FLASH 16115 0 WEAP_DISP_TEMP7 0 -255 windowx1 windowy1 windowx2 windowy2
			  add y2 40
			  sub x2 20
		  }
	}
	
   ifg GUN_PUSHBACK_DISPLAY 0
	{
	sub x GUN_PUSHBACK_DISPLAY
	add y GUN_PUSHBACK_DISPLAY
	}
	
  state wep_drawup_rev
  rotatesprite x2 y2 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
    add y2 20
  sub x2 5
  rotatesprite x2 y2 65536 WEAP_DISP_TEMP2 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
}
ends


defstate drawglock

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 4
case 5
case 6
case 67
case 68
case 69
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  getp[].ammo_amount 1 WEAP_DISP_TEMP 
  ifand JAMES_UPGRADE 8 // PISTOL UPGRADE 2
	{
  ife PISTOLMAG 0 set tilenum 5185 else ife WEAP_DISP_TEMP 0 set tilenum 5185 else set tilenum 5183
	}
	else
	{
  ife PISTOLMAG 0 set tilenum 5122 else ife WEAP_DISP_TEMP 0 set tilenum 5122 else set tilenum 5120
	}
	
 state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 1
 displayrandvar WEAP_DISP_TEMP 2
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  ife weaponcount 3 ifand GUNFIREMODE 64 soundvar WEAPON1_FIRESOUND
    sub y 40
  sub x 20
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 20
  ifand JAMES_UPGRADE 8 set tilenum 5184 else set tilenum 5121
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  ifand JAMES_UPGRADE 8 set tilenum 5185 else set tilenum 5122
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
  ifand JAMES_UPGRADE 8 
	  {
	  ife PISTOLMAG 0 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife PISTOLMAG 0 set tilenum 5123 else
	  set tilenum 5124
	  }
  ife weaponcount 13 add y 5
  rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 8
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
  ifand JAMES_UPGRADE 8 
	  {
	  ife PISTOLMAG 0 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife PISTOLMAG 0 set tilenum 5123 else
	  set tilenum 5124
	  }
  rotatesprite x y 40960 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 12
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 27
case 28
case 29
  sub y 5
  sub x 5
  ifand JAMES_UPGRADE 8 
	  {
	  ife PISTOLMAG 0 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife PISTOLMAG 0 set tilenum 5123 else
	  set tilenum 5124
	  }
  rotatesprite x y 40960 128 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 23
  sub x 14
  rotatesprite x y 65536 192 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
  ifand JAMES_UPGRADE 8 
	  {
	  ife PISTOLMAG 0 set tilenum 5185 else
	  set tilenum 5183
	  }  
  else 
	  {
	  ife PISTOLMAG 0 set tilenum 5122 else
	  set tilenum 5120
	  }
  ife weaponcount 34 sub y 5
  rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 27
  sub x 3
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND

  ifand GUNFIREMODE 64
  {
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
     
  set y 280
  add y looking_arc
  sub y gun_pos
   rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 5
  rotatesprite x y 65536 1024 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  }
  break
case 36
case 37
case 38
case 39
case 40

  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 260
  add y looking_arc
  sub y gun_pos
  ifand JAMES_UPGRADE 8 set tilenum 5183 else set tilenum 5120 
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	
  
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
	  ifand JAMES_UPGRADE 8 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5123 else
	  set tilenum 5124
	  }
	  
  set y 260
  add y looking_arc
  sub y gun_pos
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
}
case 41
case 42
case 43
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos
  ifand JAMES_UPGRADE 8 set tilenum 5183 else set tilenum 5120
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	

  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  add y looking_arc
  sub y gun_pos
  
	  ifand JAMES_UPGRADE 8 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5123 else
	  set tilenum 5124
	  }
  ife weaponcount 45 sub y 5
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  }
  break
case 44
case 45
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
	  ifand JAMES_UPGRADE 8 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5123 else
	  set tilenum 5124
	  }
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 48
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ifand JAMES_UPGRADE 8 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5123 else
	  set tilenum 5124
	  }
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ifand JAMES_UPGRADE 8 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5123 else
	  set tilenum 5124
	  }
  rotatesprite x y 40960 -1152 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 23
  add x 17
  rotatesprite x y 65536 800 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 59
case 60
case 61
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  sub y 5
  add x 5
	  ifand JAMES_UPGRADE 8 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5165 else
	  set tilenum 5166
	  }  
  else 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5123 else
	  set tilenum 5124
	  }
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 62
case 63
case 64
case 65
case 66
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos

  ifand JAMES_UPGRADE 8 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5185 else
	  set tilenum 5183
	  }  
  else 
	  {
	  ife RELOAD_TYPE 2 set tilenum 5122 else
	  set tilenum 5120
	  }
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
  ife weaponcount 65 sub y 5
  sub y 5
  add x 5
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

// M1911 ======================================================================================================================

defstate OTHERONE_1911
ifand GUNFIREMODE 64
{
  set x2 96
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  add x2 looking_angSR1
      
  set y2 245
  sub y2 WEAPSWAYY
  add y2 looking_arc
  sub y2 gun_pos
  

  ife KICKBACKPIC 2
	{
			 displayrandvar WEAP_DISP_TEMP 5
		  add x2 WEAP_DISP_TEMP
		  add y2 WEAP_DISP_TEMP
			  sub y2 50
			  add x2 30
		  displayrandvar M60FLASH 2048
			 ifand AMMO_TYPES[CURWEAP] 2 ifand GUN_AMMO_TYPES 2 set WEAP_DISP_TEMP7 17 else set WEAP_DISP_TEMP7 0 
			  rotatespritea x2 y2 14000 M60FLASH 16115 0 WEAP_DISP_TEMP7 0 -255 windowx1 windowy1 windowx2 windowy2
			  add y2 50
			  sub x2 30
	}
	
   ifg GUN_PUSHBACK_DISPLAY 0
	{
	sub x GUN_PUSHBACK_DISPLAY
	add y GUN_PUSHBACK_DISPLAY
	}
	
  state wep_drawup_rev
  rotatesprite x2 y2 49152 WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
    add y2 20
  sub x2 5
  rotatesprite x2 y2 65536 WEAP_DISP_TEMP2 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
}
ends

defstate draw1911

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 67
case 68
case 69
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  getp[].ammo_amount 1 WEAP_DISP_TEMP 
  ife PISTOLMAG 0 set tilenum 10388 else ife WEAP_DISP_TEMP 0 set tilenum 10388 else set tilenum 10386
	
 state wep_drawup
  state gunpushback_display
  rotatesprite x y 49152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE_1911
  break
case 2 // Firing frame ==========================================
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  ife weaponcount 3 ifand GUNFIREMODE 64 soundvar WEAPON1_FIRESOUND
			sub y 50
		  sub x 30
		 displayrandvar M60FLASH 2048
		  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  add y 50
		  add x 30
  set tilenum 10387
  rotatesprite x y 49152 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE_1911
  break
case 3 // RECOIL FRAME
  set tilenum 10388
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE_1911
  break
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
	  ife PISTOLMAG 0 set tilenum 10357 else
	  set tilenum 10358
  ife weaponcount 13 add y 5
  rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 8
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
	  ife PISTOLMAG 0 set tilenum 10357 else
	  set tilenum 10358
  rotatesprite x y 40960 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 12
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 27
case 28
case 29
  sub y 5
  sub x 5
	  ife PISTOLMAG 0 set tilenum 10357 else
	  set tilenum 10358
	 
  rotatesprite x y 40960 128 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 23
  sub x 14
  rotatesprite x y 65536 192 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
	  ife PISTOLMAG 0 set tilenum 10388 else
	  set tilenum 10386
	  
  ife weaponcount 34 sub y 5
  rotatesprite x y 49152 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 27
  sub x 3
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND

  ifand GUNFIREMODE 64
  {
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
     
  set y 280
  add y looking_arc
  sub y gun_pos
   rotatesprite x y 49152 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 5
  rotatesprite x y 65536 1024 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  }
  break
case 36
case 37
case 38
case 39
case 40

  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 260
  add y looking_arc
  sub y gun_pos
  set tilenum 10386 
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	
  
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1

	  ife RELOAD_TYPE 2 set tilenum 10357 else
	  set tilenum 10358
	  
  set y 260
  add y looking_arc
  sub y gun_pos
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
}
case 41
case 42
case 43
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos
  set tilenum 10386
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	

  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  add y looking_arc
  sub y gun_pos
	  ife RELOAD_TYPE 2 set tilenum 10357 else
	  set tilenum 10358
	  
  ife weaponcount 45 sub y 5
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  }
  break
case 44
case 45
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
	  ife RELOAD_TYPE 2 set tilenum 10357 else
	  set tilenum 10358
	 
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 48
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ife RELOAD_TYPE 2 set tilenum 10357 else
	  set tilenum 10358
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ife RELOAD_TYPE 2 set tilenum 10357 else
	  set tilenum 10358
	 
  rotatesprite x y 40960 -1152 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 23
  add x 17
  rotatesprite x y 65536 800 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 59
case 60
case 61
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  sub y 5
  add x 5
	  ife RELOAD_TYPE 2 set tilenum 10357 else
	  set tilenum 10358
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 62
case 63
case 64
case 65
case 66
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos

	  ife RELOAD_TYPE 2 set tilenum 10388 else
	  set tilenum 10386
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
  ife weaponcount 65 sub y 5
  sub y 5
  add x 5
  rotatesprite x y 49152 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

// FN57 =============================================================================================================

defstate draw_fn57


  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
    ifl KICKBACKPIC 7
    ifand GUNFIREMODE 2048
	{
	sub x 26
	sub y 20
	ifand SPECIALIST_CUSTOM[2] 1073741824 set WEAP_DISP_TEMP3 1
	else ifand SPECIALIST_CUSTOM[2] 2147483648 set WEAP_DISP_TEMP3 8
	else set WEAP_DISP_TEMP3 2
	rotatespritea x y 27000 WEAP_DISP_TEMP2 8623 0 WEAP_DISP_TEMP3 33 -255 windowx1 windowy1 windowx2 windowy2 // laser sight light
	add x 26
	add y 20
	}


switch weaponcount
case 0
case 4
case 5
case 6
case 67
case 68
case 69
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  getp[].ammo_amount 1 WEAP_DISP_TEMP 
  ife PISTOLMAG 0 set tilenum 10393 else ife WEAP_DISP_TEMP 0 set tilenum 10393 else set tilenum 10391
	
 state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 1
 displayrandvar WEAP_DISP_TEMP 2
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  ife weaponcount 3 ifand GUNFIREMODE 64 soundvar WEAPON1_FIRESOUND
    sub y 40
  sub x 20
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 20
  set tilenum 10392
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  set tilenum 10393
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
	  ife PISTOLMAG 0 set tilenum 10395 else
	  set tilenum 10396
  ife weaponcount 13 add y 5
  rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 8
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
	  ife PISTOLMAG 0 set tilenum 10395 else
	  set tilenum 10396
  rotatesprite x y 40960 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 12
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 27
case 28
case 29
  sub y 5
  sub x 5
	  ife PISTOLMAG 0 set tilenum 10395 else
	  set tilenum 10396
	 
  rotatesprite x y 40960 128 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 23
  sub x 14
  rotatesprite x y 65536 192 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
	  ife PISTOLMAG 0 set tilenum 10393 else
	  set tilenum 10391
	  
  ife weaponcount 34 sub y 5
  rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 27
  sub x 3
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND

  ifand GUNFIREMODE 64
  {
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
     
  set y 280
  add y looking_arc
  sub y gun_pos
   rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 5
  rotatesprite x y 65536 1024 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  }
  break
case 36
case 37
case 38
case 39
case 40

  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 260
  add y looking_arc
  sub y gun_pos
  set tilenum 10391 
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	
  
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1

	  ife RELOAD_TYPE 2 set tilenum 10395 else
	  set tilenum 10396
	  
  set y 260
  add y looking_arc
  sub y gun_pos
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
}
case 41
case 42
case 43
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos
  set tilenum 10391
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	

  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  add y looking_arc
  sub y gun_pos
	  ife RELOAD_TYPE 2 set tilenum 10395 else
	  set tilenum 10396
	  
  ife weaponcount 45 sub y 5
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  }
  break
case 44
case 45
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
	  ife RELOAD_TYPE 2 set tilenum 10395 else
	  set tilenum 10396
	 
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 48
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ife RELOAD_TYPE 2 set tilenum 10395 else
	  set tilenum 10396
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ife RELOAD_TYPE 2 set tilenum 10395 else
	  set tilenum 10396
	 
  rotatesprite x y 40960 -1152 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 23
  add x 17
  rotatesprite x y 65536 800 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 59
case 60
case 61
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  sub y 5
  add x 5
	  ife RELOAD_TYPE 2 set tilenum 10395 else
	  set tilenum 10396
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 62
case 63
case 64
case 65
case 66
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos

	  ife RELOAD_TYPE 2 set tilenum 10393 else
	  set tilenum 10391
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
  ife weaponcount 65 sub y 5
  sub y 5
  add x 5
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

// OTs-33 =========================================================================================================================================

defstate draw_OTs-33
 
  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 4
case 5
case 6
case 67
case 68
case 69
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  getp[].ammo_amount 1 WEAP_DISP_TEMP 
  ife PISTOLMAG 0 set tilenum 13415 else ife WEAP_DISP_TEMP 0 set tilenum 13415 else set tilenum 13413
	
 state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 1
 displayrandvar WEAP_DISP_TEMP 2
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  ife weaponcount 3 ifand GUNFIREMODE 64 soundvar WEAPON1_FIRESOUND
    sub y 40
  sub x 20
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 20
  set tilenum 13414
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  set tilenum 13415
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
	  ife PISTOLMAG 0 set tilenum 13416 else
	  set tilenum 13417
  ife weaponcount 13 add y 5
  rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 8
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
	  ife PISTOLMAG 0 set tilenum 13416 else
	  set tilenum 13417
  rotatesprite x y 40960 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 12
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 27
case 28
case 29
  sub y 5
  sub x 5
	  ife PISTOLMAG 0 set tilenum 13416 else
	  set tilenum 13417
	 
  rotatesprite x y 40960 128 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 23
  sub x 14
  rotatesprite x y 65536 192 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
	  ife PISTOLMAG 0 set tilenum 13415 else
	  set tilenum 13413
	  
  ife weaponcount 34 sub y 5
  rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 27
  sub x 3
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND

  ifand GUNFIREMODE 64
  {
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
     
  set y 280
  add y looking_arc
  sub y gun_pos
   rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 5
  rotatesprite x y 65536 1024 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  }
  break
case 36
case 37
case 38
case 39
case 40

  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 260
  add y looking_arc
  sub y gun_pos
  set tilenum 13413 
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	
  
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1

	  ife RELOAD_TYPE 2 set tilenum 13416 else
	  set tilenum 13417
	  
  set y 260
  add y looking_arc
  sub y gun_pos
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
}
case 41
case 42
case 43
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos
  set tilenum 13413
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	

  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  add y looking_arc
  sub y gun_pos
	  ife RELOAD_TYPE 2 set tilenum 13416 else
	  set tilenum 13417
	  
  ife weaponcount 45 sub y 5
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  }
  break
case 44
case 45
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
	  ife RELOAD_TYPE 2 set tilenum 13416 else
	  set tilenum 13417
	 
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 48
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ife RELOAD_TYPE 2 set tilenum 13416 else
	  set tilenum 13417
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ife RELOAD_TYPE 2 set tilenum 13416 else
	  set tilenum 13417
	 
  rotatesprite x y 40960 -1152 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 23
  add x 17
  rotatesprite x y 65536 800 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 59
case 60
case 61
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  sub y 5
  add x 5
	  ife RELOAD_TYPE 2 set tilenum 13416 else
	  set tilenum 13417
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 62
case 63
case 64
case 65
case 66
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos

	  ife RELOAD_TYPE 2 set tilenum 13415 else
	  set tilenum 13413
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
  ife weaponcount 65 sub y 5
  sub y 5
  add x 5
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

// GOLD JERICHO =========================================================================================================================

defstate draw_gold_jericho
  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 4
case 5
case 6
case 67
case 68
case 69
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  getp[].ammo_amount 1 WEAP_DISP_TEMP 
  ife PISTOLMAG 0 set tilenum 14614 else ife WEAP_DISP_TEMP 0 set tilenum 14614 else set tilenum 14612
	
 state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 1
 displayrandvar WEAP_DISP_TEMP 2
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  ife weaponcount 3 ifand GUNFIREMODE 64 soundvar WEAPON1_FIRESOUND
    sub y 40
  sub x 20
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 20
  set tilenum 14613
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  set tilenum 14614
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE2
  break
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
	  ife PISTOLMAG 0 set tilenum 14615 else
	  set tilenum 14616
  ife weaponcount 13 add y 5
  rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 8
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
	  ife PISTOLMAG 0 set tilenum 14615 else
	  set tilenum 14616
  rotatesprite x y 40960 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 12
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 27
case 28
case 29
  sub y 5
  sub x 5
	  ife PISTOLMAG 0 set tilenum 14615 else
	  set tilenum 14616
	 
  rotatesprite x y 40960 128 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 23
  sub x 14
  rotatesprite x y 65536 192 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
	  ife PISTOLMAG 0 set tilenum 14614 else
	  set tilenum 14612
	  
  ife weaponcount 34 sub y 5
  rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 27
  sub x 3
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND

  ifand GUNFIREMODE 64
  {
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
     
  set y 280
  add y looking_arc
  sub y gun_pos
   rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 5
  rotatesprite x y 65536 1024 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  }
  break
case 36
case 37
case 38
case 39
case 40

  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 260
  add y looking_arc
  sub y gun_pos
  set tilenum 14612 
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	
  
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1

	  ife RELOAD_TYPE 2 set tilenum 14615 else
	  set tilenum 14616
	  
  set y 260
  add y looking_arc
  sub y gun_pos
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
}
case 41
case 42
case 43
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos
  set tilenum 14612
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	

  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  add y looking_arc
  sub y gun_pos
	  ife RELOAD_TYPE 2 set tilenum 14615 else
	  set tilenum 14616
	  
  ife weaponcount 45 sub y 5
  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  }
  break
case 44
case 45
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
	  ife RELOAD_TYPE 2 set tilenum 14615 else
	  set tilenum 14616
	 
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 48
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ife RELOAD_TYPE 2 set tilenum 14615 else
	  set tilenum 14616
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
	  ife RELOAD_TYPE 2 set tilenum 14615 else
	  set tilenum 14616
	 
  rotatesprite x y 40960 -1152 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 23
  add x 17
  rotatesprite x y 65536 800 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 59
case 60
case 61
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  sub y 5
  add x 5
	  ife RELOAD_TYPE 2 set tilenum 14615 else
	  set tilenum 14616
  rotatesprite x y 40960 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 62
case 63
case 64
case 65
case 66
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos

	  ife RELOAD_TYPE 2 set tilenum 14614 else
	  set tilenum 14612
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
  ife weaponcount 65 sub y 5
  sub y 5
  add x 5
  rotatesprite x y 40960 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

// PPK =====================================================================================================================================================

defstate OTHERONE_PPK
ifand GUNFIREMODE 64
{
  set x2 96
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  add x2 looking_angSR1
      
  set y2 245
  sub y2 WEAPSWAYY
  add y2 looking_arc
  sub y2 gun_pos
  
	
   ifg GUN_PUSHBACK_DISPLAY 0
	{
	sub x GUN_PUSHBACK_DISPLAY
	add y GUN_PUSHBACK_DISPLAY
	}
	
  state wep_drawup_rev
  rotatesprite x2 y2 57344 WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
    add y2 20
  sub x2 5
  rotatesprite x2 y2 65536 WEAP_DISP_TEMP2 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
}
ends

defstate draw_ppk
   set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 4
case 5
case 6
case 67
case 68
case 69
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  getp[].ammo_amount 1 WEAP_DISP_TEMP
  ife PISTOLMAG 0 set tilenum 15874 else ife WEAP_DISP_TEMP 0 set tilenum 15874 else set tilenum 15872
 state wep_drawup
  state gunpushback_display
  rotatesprite x y 57344 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE_PPK
  break
case 1
 displayrandvar WEAP_DISP_TEMP 2
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  ife weaponcount 3 ifand GUNFIREMODE 64 soundvar WEAPON1_FIRESOUND
    sub y 40
  sub x 20
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 20
  set tilenum 15873
  rotatesprite x y 57344 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE_PPK
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  set tilenum 15874
  rotatesprite x y 57344 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
state OTHERONE_PPK
  break
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16

	  ife PISTOLMAG 0 set tilenum 15875 else
	  set tilenum 15876

  ife weaponcount 13 add y 5
  rotatesprite x y 57344 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 8
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5

	  ife PISTOLMAG 0 set tilenum 15875 else
	  set tilenum 15876

  rotatesprite x y 57344 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 25
  sub x 12
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 27
case 28
case 29
  sub y 5
  sub x 5

	  ife PISTOLMAG 0 set tilenum 15875 else
	  set tilenum 15876
	 
  rotatesprite x y 57344 128 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 23
  sub x 14
  rotatesprite x y 65536 192 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2 // HAND
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5

	  ife PISTOLMAG 0 set tilenum 15874 else
	  set tilenum 15872

  ife weaponcount 34 sub y 5
  rotatesprite x y 57344 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 27
  sub x 3
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND

  ifand GUNFIREMODE 64
  {
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
     
  set y 280
  add y looking_arc
  sub y gun_pos
   rotatesprite x y 57344 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 5
  rotatesprite x y 65536 1024 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  }
  break
case 36
case 37
case 38
case 39
case 40

  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 260
  add y looking_arc
  sub y gun_pos
  set tilenum 15872 
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 57344 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	
  
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1

	ife RELOAD_TYPE 2 set tilenum 15875 else
	set tilenum 15876
	  
  set y 260
  add y looking_arc
  sub y gun_pos
  rotatesprite x y 57344 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
}
case 41
case 42
case 43
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos
  set tilenum 15872
  ifand GUNFIREMODE 64
  {
  rotatesprite x y 57344 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND	

  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  add y looking_arc
  sub y gun_pos
  
	ife RELOAD_TYPE 2 set tilenum 15875 else
 set tilenum 15876

  ife weaponcount 45 sub y 5
  rotatesprite x y 57344 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 5
  rotatesprite x y 65536 960 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  }
  break
case 44
case 45
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1

	  ife RELOAD_TYPE 2 set tilenum 15875 else
	  set tilenum 15876

  rotatesprite x y 57344 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 48
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5

	  ife RELOAD_TYPE 2 set tilenum 15875 else
	  set tilenum 15876

  rotatesprite x y 57344 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5

	  ife RELOAD_TYPE 2 set tilenum 15875 else
	  set tilenum 15876

  rotatesprite x y 57344 -1152 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 23
  add x 17
  rotatesprite x y 65536 800 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 59
case 60
case 61
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  sub y 5
  add x 5

	  ife RELOAD_TYPE 2 set tilenum 15875 else
	  set tilenum 15876

  rotatesprite x y 57344 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 15
  rotatesprite x y 65536 832 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
  break
case 62
case 63
case 64
case 65
case 66
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos


	  ife RELOAD_TYPE 2 set tilenum 15874 else
	  set tilenum 15872

  rotatesprite x y 57344 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 25
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
  ife weaponcount 65 sub y 5
  sub y 5
  add x 5
  rotatesprite x y 57344 1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  add y 27
  add x 10
  rotatesprite x y 65536 896 C_PISTOL_2 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

// PROTECTA===============================================================================================================

defstate draw_protecta

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

switch weaponcount
case 0
case 1
case 36
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce WINCHUP 
  ifg WEAP_DISP_TEMP4 0
  {
  set WEAP_DISP_TEMP4 WEAP_DISP_TEMP2
  sub WEAP_DISP_TEMP2 1
  }
  else
  state wep_drawup
state gunpushback_display

	sub x 45
	// add y 25
	rotatesprite x y 55000 WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 45
	// sub y 25

  rotatesprite x y 36864 WEAP_DISP_TEMP2 5360 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 17998 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
	set GUN_PUSHBACK_DISPLAY 7
   displayrandvar M60FLASH 2048
    sub x 40
  sub y 37
  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 37
  
	sub x 45
	// add y 25
	rotatesprite x y 55000 WEAP_DISP_TEMP2 C_ARM_1 shade 107 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 45
	// sub y 25
  
  
  rotatesprite x y 36864 0 5361 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
 // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 0 17999 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
  add x 7
  add y 7
  set WEAP_DISP_TEMP4 20
  
 	sub x 45
	// add y 25
	rotatesprite x y 55000 WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 45
	// sub y 25
  
  rotatesprite x y 36864 20 5360 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 20 17998 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 	case 13
	case 14
	  add x 10
	  sub y 20
	  rotatesprite x y 40960 0 5348 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 0 18000 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 15
	case 16
	  add x 10
	  sub y 20
	  rotatesprite x y 40960 32 5348 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 32 18000 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 17
	case 18
	  add x 10
	  sub y 18
	 rotatesprite x y 40960 5 5349 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 5 18001 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 19
	case 20
	  add x 10
	  sub y 18
	  rotatesprite x y 40960 20 5349 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 20 18001 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
	  sub x 60
	  add y 15
	  rotatesprite x y NORMALSIZE 1024 7893 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  ifand AMMO_TYPES[CURWEAP] 1 ifg explosive_shells 0 rotatesprite x y NORMALSIZE 1024 7903 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  ifand AMMO_TYPES[CURWEAP] 4 ifg flechete_shells 0 rotatesprite x y NORMALSIZE 1024 7867 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  
	  break
	case 21
	case 22
	  add x 10
	  sub y 15
	  rotatesprite x y 40960 10 5349 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 20
	  rotatesprite x y NORMALSIZE 10 5350 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 10 18002 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 23
	case 24
	  add x 10
	  sub y 15
	  rotatesprite x y 40960 20 5349 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 20
	  rotatesprite x y NORMALSIZE 20 5350 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 20 18002 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 25
	case 26
	case 27
	sub y 20
	rotatesprite x y 40960 40 5348 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	// ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 40 18000 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
	case 28
	case 29
	case 30
	  sub y 10
	  rotatesprite x y 40960 20 5348 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  // ifand JAMES_UPGRADE 1024 rotatesprite x y NORMALSIZE 20 18000 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
endswitch

ends


// KSG-12===============================================================================================================

defstate draw_ksg12

  set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

ifl KICKBACKPIC 18
state gunpushback_display

set pal_2 wep_pal

ifn wep_pal 1
ifn wep_pal 2
ifn wep_pal 4
ifn wep_pal 7
ifn wep_pal 8
ifn wep_pal 18
ifn wep_pal 26
ifn wep_pal 27
ifn wep_pal 28
ifn wep_pal 29
ifn wep_pal 30
ifn wep_pal 31
ifn wep_pal 32
ifn wep_pal 33
ifn wep_pal 34
ifn wep_pal 35
{
ifand SPECIALIST_CUSTOM[53] 1 set wep_pal 0 
else ifand SPECIALIST_CUSTOM[53] 2 set wep_pal 21 
else ifand SPECIALIST_CUSTOM[53] 4 set wep_pal 18
else ifand SPECIALIST_CUSTOM[53] 8 set wep_pal 13
else ifand SPECIALIST_CUSTOM[53] 16 set wep_pal 15
else set wep_pal 11
}

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 8 soundonce WINCHUP 
  state wep_drawup
  state gunpushback_display
	  sub x 60
	  add y 20
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  sub y 20
  rotatesprite x y 45152 WEAP_DISP_TEMP2 16080 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
	set GUN_PUSHBACK_DISPLAY 14
	ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 57
  sub y 45
  rotatespritea x y 18000 M60FLASH 16114 0 94 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 45
	  sub x 60
	  add y 20
	  rotatesprite x y NNORMALSIZE 0 C_ARM_1 0 106 0 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  sub y 20
  rotatesprite x y 45152 0 16081 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
	set GUN_PUSHBACK_DISPLAY 14
  sub x 57
  sub y 45
  rotatespritea x y 19000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 45
	  sub x 60
	  add y 20
	  rotatesprite x y NNORMALSIZE 0 C_ARM_1 0 107 0 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  sub y 20
  rotatesprite x y 45152 0 16081 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
	  set M60FLASH 0
	  set WEAP_DISP_TEMP4 20
	  state gunpushback_display
	  sub x 60
	  add y 20
	  rotatesprite x y NNORMALSIZE 0 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  sub y 20
	  rotatesprite x y 45152 20 16080 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break  
 	case 7
	case 8
	case 14
	case 15
		  add x 5
		  add y 3
	  sub x 55
	  add y 15
	  rotatesprite x y NNORMALSIZE 0 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  sub y 15
	  rotatesprite x y 45152 0 16082 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 9
	case 13	  
		  add x 8
		  add y 5
	  sub x 50
	  add y 12
	  rotatesprite x y NNORMALSIZE 0 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  sub y 12
	  rotatesprite x y 45152 0 16083 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 10
	case 12
		  add x 10
		  add y 7
	  sub x 35
	  add y 30
	  rotatesprite x y NNORMALSIZE 0 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 30
	  rotatesprite x y 45152 0 16086 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 11  
		  add x 10
		  add y 7
	  sub x 35
	  add y 30
	  rotatesprite x y NNORMALSIZE 32 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 30
	  rotatesprite x y 45152 32 16086 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 16
	case 17
	case 18
		  add x 5
		  add y 3
	  sub x 60
	  add y 20
	  rotatesprite x y NNORMALSIZE 5 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  sub y 20
	  rotatesprite x y 45152 5 16080 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 19
	case 20
	case 21
	case 22
	  sub x 20
	  sub y 18
	  rotatesprite x y 45152 20 16084 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  
	  add x 45
	  add y 5
	  sub x KICKBACKPIC
	  add y KICKBACKPIC
	  ifand CHAR_APP 1 rotatesprite x y 76638 0 C_HAND_1 shade pal_2 512 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y 76638 0 C_HAND_1 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  ifand GUNFIREMODE_2 8
	  {
	  ifand AMMO_TYPES[15] 1 ifg explosive_shells 0 rotatesprite x y 76638 0 7903 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[15] 4 ifg flechete_shells 0 rotatesprite x y 76638 0 7867 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[15] 64 ifg magnum_shells 0 rotatesprite x y 76638 0 7868 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[15] 1024 ifg dragon_shells 0 rotatesprite x y 76638 0 7866 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y 76638 0 7867 shade 25 512 windowx1 windowy1 windowx2 windowy2
	  }
	  else
	  {
	  ifand AMMO_TYPES[CURWEAP] 1 ifg explosive_shells 0 rotatesprite x y 76638 0 7903 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[CURWEAP] 4 ifg flechete_shells 0 rotatesprite x y 76638 0 7867 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[CURWEAP] 64 ifg magnum_shells 0 rotatesprite x y 76638 0 7868 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[CURWEAP] 1024 ifg dragon_shells 0 rotatesprite x y 76638 0 7866 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y 76638 0 7867 shade 25 512 windowx1 windowy1 windowx2 windowy2
	  }
	  break
	case 23
	case 24
	  sub x 23
	  sub y 15
	  rotatesprite x y 45152 20 16085 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 25
	case 26
	case 27
	sub x 20
	sub y 20
	rotatesprite x y 45152 40 16084 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	break
	case 28
	case 29
	case 30
	  sub x 20
	  sub y 10
	  rotatesprite x y 45152 20 16084 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 31
	case 32
	case 33
	  sub x 15
	  sub y 8
	  rotatesprite x y 45152 0 16084 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 34
	case 35
	case 36
	  sub x 40
	  rotatesprite x y 45152 0 16078 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
endswitch

ends

// MP7===============================================================================================================

defstate OTHERONE
ifand GUNFIREMODE 1024
{
  set x2 85
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  add x2 looking_angSR1
      
  set y2 235
  sub y2 WEAPSWAYY
  add y2 looking_arc
  sub y2 gun_pos
  
  switch weaponcount
  case 1
  case 3
  case 5
	displayrandvar WEAP_DISP_TEMP4 5
    sub x2 WEAP_DISP_TEMP4
    add y2 WEAP_DISP_TEMP4
	  ifand JAMES_UPGRADE 128 nullop else
		{
		  sub y2 35
		  add x2 45
		  mulvar M60FLASH -1
		  rotatespritea x2 y2 20000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  add y2 35
		  sub x2 45
		}
	ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5156 
	break
  case 0
  case 2
  case 4
  case 6
	ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
    break
  endswitch

     state wep_drawup_rev
  rotatesprite x2 y2 49152 WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
}

ends

defstate drawtmp


  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifand GUNFIREMODE 1024 set HANDS_DRAW 1

switch weaponcount
case 0
case 4
case 5
case 6
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  getp[].ammo_amount 1 WEAP_DISP_TEMP 
  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
  state wep_drawup
  ife HANDS_DRAW 2
  {
  ifand JAMES_UPGRADE 128 set tilenum2 5150 else set tilenum2 5151 
  sub x 55
  add y 25
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 55
  sub y 25
  rotatesprite x y 49152 WEAP_DISP_TEMP2 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  rotatesprite x y 49152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state OTHERONE
  break
case 1
 displayrandvar WEAP_DISP_TEMP 5
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  	  ifand JAMES_UPGRADE 128 nullop else
		{
		sub y 35
		sub x 45
		displayrandvar M60FLASH 2048
		 rotatespritea x y 20000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  add y 35
		  add x 45
		  }
  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5156 
  ife HANDS_DRAW 2
  {
  ifand JAMES_UPGRADE 128 set tilenum2 5150 else set tilenum2 5152 
  sub x 55
  add y 25
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  add x 55
  sub y 25
  rotatesprite x y 49152 WEAP_DISP_TEMP2 tilenum2 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  rotatesprite x y 49152 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state OTHERONE
  break
case 2
case 3
 displayrandvar WEAP_DISP_TEMP 5
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155
  ife HANDS_DRAW 2
	  {
	  ifand JAMES_UPGRADE 128 set tilenum2 5150 else set tilenum2 5151 
	  sub x 55
	  add y 25
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  sub y 25
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  else
  rotatesprite x y 49152 0 tilenum 0 0 0 windowx1 windowy1 windowx2 windowy2
state OTHERONE
  break
case 7
case 8
case 9
case 10
  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
  rotatesprite x y 49152 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
 ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
  rotatesprite x y 49152 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 5
  add x 5
   ifand JAMES_UPGRADE 128 set tilenum 5160 else set tilenum 5157 
  rotatesprite x y 49152 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
  ife KICKBACKPIC 26 sub y 10
   ifand JAMES_UPGRADE 128 set tilenum 5161 else set tilenum 5158
  rotatesprite x y 49152 128 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
  sub y 5
  sub x 5
  ifand JAMES_UPGRADE 128 set tilenum 5160 else set tilenum 5157 
  rotatesprite x y 49152 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
  rotatesprite x y 49152 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE 1024
	  {
	  set x 115
	  sub x weapon_xoffset
	  sub x looking_angSR1
		 
	  set y 280
	  add y looking_arc
	  sub y gun_pos
	  rotatesprite x y 49152 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 36
case 37
case 38
case 39
case 40

  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 260
  add y looking_arc
  sub y gun_pos
  ifand GUNFIREMODE 1024
		  {
		  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
		  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  set x 115
		  sub x weapon_xoffset
		  sub x looking_angSR1
			  
		  set y 260
		  add y looking_arc
		  sub y gun_pos
		   ifand JAMES_UPGRADE 128 set tilenum 5160 else set tilenum 5157 
		  rotatesprite x y 49152 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2

		}
  break
case 41
case 42
case 43
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos
  ifand GUNFIREMODE 1024
	  {
	  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
	  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  set x 115
	  sub x weapon_xoffset
	  sub x looking_angSR1
		  
	  set y 240
	  add y looking_arc
	  sub y gun_pos
	   ifand JAMES_UPGRADE 128 set tilenum 5160 else set tilenum 5157 
	  rotatesprite x y 49152 -1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 44
case 45
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
   ifand JAMES_UPGRADE 128 set tilenum 5161 else set tilenum 5158
  rotatesprite x y 49152 -1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 48
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
  ifand JAMES_UPGRADE 128 set tilenum 5161 else set tilenum 5158
  rotatesprite x y 49152 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  add y 15
  sub x 5
  ifand JAMES_UPGRADE 128 set tilenum 5161 else set tilenum 5158
  ife KICKBACKPIC 58 sub y 10
  rotatesprite x y 49152 -1152 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 59
case 60
case 61
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  sub y 5
  add x 5
  ifand JAMES_UPGRADE 128 set tilenum 5160 else set tilenum 5157
  rotatesprite x y 49152 -1120 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 62
case 63
case 64
case 65
case 66
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 280
  add y looking_arc
  sub y gun_pos

  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1
      
  sub y 5
  add x 5
  rotatesprite x y 49152 -1088 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 67
case 68
case 69
  set x 215
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 260
  add y looking_arc
  sub y gun_pos

  ifand JAMES_UPGRADE 128 set tilenum 5159 else set tilenum 5155 
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set x 115
  sub x weapon_xoffset
  sub x looking_angSR1

  set y 240
  add y looking_arc
  sub y gun_pos

  rotatesprite x y 49152 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

// ********************************************************************************************************************************************
// JAMES' MP5SD
// ********************************************************************************************************************************************

defstate draw_mp5

  set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  set y 237
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
ifand GUNFIREMODE 32768 // Using the GL?
{
	switch GL_COUNTDOWN 
	case 0
	case 43
	case 42
	case 41
	state wep_drawup
	rotatesprite x y 49152 WEAP_DISP_TEMP2 11887 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 1
	case 2
	case 3
	case 4
	 rotatesprite x y 49152 0 12071 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 5
	case 6
	case 7
	case 8
	 rotatesprite x y 49152 32 12071 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 9
	case 10
	case 11
	case 12
	case 13
	 rotatesprite x y 49152 32 12073 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 14
	case 15
	case 16
	 rotatesprite x y 49152 0 12072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			sub x 120
			add y 5
			rotatesprite x y 58500 1024 7894 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	 break
	case 17
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	 rotatesprite x y 49152 64 12072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			set WEAP_DISP_TEMP7 GL_COUNTDOWN
			mulvar WEAP_DISP_TEMP7 2
			sub WEAP_DISP_TEMP7 20
			add y WEAP_DISP_TEMP7
			sub x 125
			rotatesprite x y NORMALSIZE 0 11893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 30
	case 31
	case 32
	 rotatesprite x y 49152 0 12072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 33
	case 34
	case 35
	case 36
	 rotatesprite x y 49152 32 12071 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 37
	case 38
	case 39
	case 40
	 rotatesprite x y 49152 0 11887 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 44
	case 45
	case 46
	case 47
	case 48
			set WEAP_DISP_TEMP6 x
			sub WEAP_DISP_TEMP6 64
			set WEAP_DISP_TEMP7 y
			sub WEAP_DISP_TEMP7 22
			displayrandvar M60FLASH 2048
			rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			rotatesprite x y 49152 WEAP_DISP_TEMP2 11888 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	endswitch
}
else
{
	switch weaponcount
	case 0
	case 2
	case 6
	  state wep_drawup
	  
	  ifand GUNFIREMODE 16384
	  {
	  
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12070 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
	  sub y 40
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  add x weapon_xoffset // add weaponxsway to position
	  sub x 10 // offset it by 10
	  set y 142
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12069 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // red dot sight
	  		ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				sub y 37
				rotatespritea x y 10192 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
				}
	  }
	  else
	  {
	  state gunpushback_display
	  ife WEAPON_GLOW YES // not a glow but it's fluff that can be disabled for perf reasons
		  {
		  getp[].angvel WEAP_DISP_TEMP3
		  mulvar WEAP_DISP_TEMP3 3
		  divvar WEAP_DISP_TEMP3 2
		  set WEAP_DISP_TEMP4 weapon_xoffset
		  mulvar WEAP_DISP_TEMP4 3
		  add WEAP_DISP_TEMP3 WEAP_DISP_TEMP4
		  sub y 23
		  sub x 58
		  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
		  add y 23
		  add x 58
		  }
	  
	  sub x 95
	  add y 20
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 95
	  sub y 20
	  
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 11887 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
	  break
	case 1
	case 3

	  ifand GUNFIREMODE 16384
	  {
		displayrandvar M60FLASH 2048
	  sub x 77
	  sub y 55
	  rotatespritea x y 10000 M60FLASH 16115 0 27 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 77
	  add y 55

	  
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set GUN_PUSHBACK_DISPLAY 10
	  state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12070 0 106 0 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
	  sub y 40
	  rotatespritea x y QUARTERSIZE 0 2484 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  add x weapon_xoffset // add weaponxsway to position
	  sub x 10 // offset it by 10
	  set y 142
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12069 0 108 0 windowx1 windowy1 windowx2 windowy2 // red dot sight
	  }
		else
		{
	 displayrandvar GUN_PUSHBACK_DISPLAY 5
	  add x GUN_PUSHBACK_DISPLAY
	  add y GUN_PUSHBACK_DISPLAY
	  
	  ife WEAPON_GLOW YES
		  {
		  getp[].angvel WEAP_DISP_TEMP3
		  mulvar WEAP_DISP_TEMP3 3
		  divvar WEAP_DISP_TEMP3 2
		  sub y 23
		  sub x 52
		  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
		  add y 23
		  add x 52
		  } 
	  
	   displayrandvar M60FLASH 2048
	  sub x 65
	  sub y 46
	  rotatespritea x y 8000 M60FLASH 16115 0 27 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 65
	  add y 46
	  
	  sub x 95
	  add y 20
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 0 67 0 windowx1 windowy1 windowx2 windowy2
	  add x 95
	  sub y 20

	  rotatesprite x y 49152 0 11888 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
	  break
	endswitch

	ife RELOAD_TYPE 0
	{
	switch KICKBACKPIC
	case 4
	case 5
	case 41
	case 42
	case 43
	case 44
	  add x 15
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 52
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 52

	  rotatesprite x y 49152 0 11887 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 6
	case 7
	case 39
	case 40
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 16 11889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 8
	case 9
	case 37
	case 38
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 32 11889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 10
	case 11
	case 35
	case 36
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 48 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 12
	case 13
	case 33
	case 34
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 48 11891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 14
	case 15
	case 31
	case 32
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 16
	add x 15
	  add y 10
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 17
	add x 15
	  add y 10
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 29
	add x 15
	  sub y 10
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 30
	add x 15
	  sub y 10
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
	else
	ife RELOAD_TYPE 1 // Reloading from an empty mag?
	{
	switch KICKBACKPIC
	case 58
	case 59
	case 60
	case 61
	case 62
	add x 15
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54
	  rotatesprite x y 49152 48 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
		   add x 70
		  add y 140
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 2
		  add x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 2
		  add y WEAP_DISP_TEMP3
		  clamp y 0 200
		  clamp x 0 160
		  rotatesprite x y 55538 16 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 55
	case 56
	case 57
	add x 15
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 76 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
				add x 70
		  add y 140
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 3
		  sub x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 3
		  sub y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 16 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 53
	case 54
	add x 15
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 96 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
			   add x 70
		  add y 140
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 3
		  sub x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 3
		  sub y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 32 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 3
	case 4
	case 5
	  add x 15
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 52
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 52

	  rotatesprite x y 49152 0 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 6
	case 7
	case 49
	case 50
	case 51
	case 52
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 16 11889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 8
	case 9
	case 47
	case 48
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 32 11889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 10
	case 11
	case 45
	case 46
	add x 15
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 48 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	add x 15
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54
	  rotatesprite x y 49152 48 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
			sub x 20
		  add y 30
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  sub x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  sub y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 0 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 17
	case 18
	case 19
	add x 15
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 76 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
				sub x 170
		  sub y 80
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  add x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  add y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 16 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 20
	case 21
	add x 15
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 96 11890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
				sub x 170
		  sub y 80
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  add x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  add y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 32 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 22
	case 23
	case 43
	case 44
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 48 11891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 24
	case 25
	case 41
	case 42
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 26
	add x 15
	  add y 10
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 27
	add x 15
	  add y 10
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 28
	case 29
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	case 36
	case 37
	case 38
	add x 15

	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
	  break
	case 39
	add x 15
	  sub y 10
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 40
	add x 15
	  sub y 10
	  
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  sub y 23
	  sub x 54
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  add y 23
	  add x 54

	  rotatesprite x y 49152 64 11891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
}
ends

// JAMES' PP19 BIZON===============================================================================================================

defstate draw_pp19

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

switch weaponcount
case 0
case 1
case 6
  state wep_drawup
  state gunpushback_display
  sub x 80
  add y 30
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 80
  sub y 30
  rotatesprite x y 49152 WEAP_DISP_TEMP2 12063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  displayrandvar GUN_PUSHBACK_DISPLAY 5
   add x GUN_PUSHBACK_DISPLAY
   add y GUN_PUSHBACK_DISPLAY
	  sub y 35
	  sub x 35
	 displayrandvar M60FLASH 2048
	  rotatespritea x y 20000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 35
	  add x 35
  sub x 80
  add y 30
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2
  add x 80
  sub y 30
  rotatesprite x y 49152 0 12064 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
  displayrandvar GUN_PUSHBACK_DISPLAY 5
   add x GUN_PUSHBACK_DISPLAY
   add y GUN_PUSHBACK_DISPLAY
  sub x 80
  add y 30
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 80
  sub y 30
  rotatesprite x y 49152 0 12063 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 35
case 36
case 37
	sub y 15
  rotatesprite x y 49152 0 12065 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    sub x 40
  add y 30
  rotatesprite x y NNORMALSIZE -64 5350 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
case 32
case 33
case 34
sub y 10
  rotatesprite x y 49152 0 12066 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    sub x 60
  add y 35
  rotatesprite x y 70000 -64 5350 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 30
case 31
sub y 5
  rotatesprite x y 49152 8 12068 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
case 27
case 28
case 29
add y 5
  rotatesprite x y 49152 16 13369 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 25
case 26
add y 10
  rotatesprite x y 49152 32 13369 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
case 23
case 24
add y 15
  rotatesprite x y 49152 64 13369 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start reloading
case 58
  rotatesprite x y 49152 0 12063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 57
  rotatesprite x y 49152 16 12063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 56
  rotatesprite x y 49152 32 12063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 55
  rotatesprite x y 49152 32 12063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 10
  break
case 42
case 54
  rotatesprite x y 49152 32 12063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 10
  break
case 43
case 53
  add y 5
  rotatesprite x y 49152 48 12063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 44
case 52
  add y 10
  rotatesprite x y 49152 64 12063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 45
case 51
  add y 15
  rotatesprite x y 49152 76 12065 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 46
case 50
  add y 20
  rotatesprite x y 49152 96 12065 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 8
  break
case 47
case 48
case 49
  add y 35
  rotatesprite x y 49152 104 12065 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 8
  break
endswitch
ends

// ********************************************************************************************************************************************
// JAMES' UMP45
// ********************************************************************************************************************************************

defstate draw_ump

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  set y 233
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

	switch weaponcount
	case 0
	case 1
	case 4
	case 6
	  set WEAP_DISP_TEMP2 player[].weapon_pos
	  mulvar WEAP_DISP_TEMP2 -20
	  set M60FLASH 0
	  
	  ifand GUNFIREMODE 16384 // ironsighting?
	  {
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 16014 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
	  sub y 40
	  rotatespritea x y 4096 0 11047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // holographic crosshair
	  set x 160
	  sub x WEAPSWAYX
	  add x weapon_xoffset // add weaponxsway to position
	  sub x 10 // offset it by 10
	  set y 142
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 16013 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // red dot sight
	  
	  	ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 2
			sub y 37
			rotatespritea x y 10192 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
			}
	  }
	  else
	  {
	  state gunpushback_display
	  state wep_drawup
	  sub x 55
	  add y 20
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  sub y 20
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 16108 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
	  break
	case 2
	case 3
	  ifand GUNFIREMODE 16384
	  {
	  
      ife M60FLASH 0 displayrandvar M60FLASH 2048
	  sub x 67
	  sub y 55
	  ife AMMO_TYPES[3] 2 set WEAP_DISP_TEMP2 17 else set WEAP_DISP_TEMP2 0
	  rotatespritea x y 10000 M60FLASH 16115 0 WEAP_DISP_TEMP2 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 67
	  add y 55

	  
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set GUN_PUSHBACK_DISPLAY 10
		state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 16014 0 106 0 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
	  sub y 40
	  rotatespritea x y 4096 0 11047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // holographic crosshair
	  set x 160
	  sub x WEAPSWAYX
	  add x weapon_xoffset // add weaponxsway to position
	  sub x 10 // offset it by 10
	  set y 142
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 16013 0 108 0 windowx1 windowy1 windowx2 windowy2 // red dot sight
	  }
		else
		{
	 displayrandvar GUN_PUSHBACK_DISPLAY 5
	  add x GUN_PUSHBACK_DISPLAY
	  add y GUN_PUSHBACK_DISPLAY
	  	  
	
	ife M60FLASH 0 displayrandvar M60FLASH 2048
		  sub x 42
		  sub y 35
		  ife AMMO_TYPES[3] 2 set WEAP_DISP_TEMP2 17 else set WEAP_DISP_TEMP2 0
		  rotatespritea x y 18000 M60FLASH 16115 0 WEAP_DISP_TEMP2 0 -255 windowx1 windowy1 windowx2 windowy2
		  add x 42
		  add y 35
	  sub x 55
	  add y 20
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 0 107 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  sub y 20
	  rotatesprite x y 49152 0 16109 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
	  break
	endswitch

	ife RELOAD_TYPE 0 // reloading when not empty
	{
	switch KICKBACKPIC
	case 5
	case 41
	case 42
	case 43
	case 44
	  add x 20
	  rotatesprite x y 49152 0 16108 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 6
	case 7
	case 39
	case 40
	add x 22
	  rotatesprite x y 49152 16 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 8
	case 9
	case 37
	case 38
	add x 24
	  rotatesprite x y 49152 32 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 10
	case 11
	case 35
	case 36
	add x 26
	  rotatesprite x y 49152 48 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 12
	case 13
	case 33
	case 34
	add x 15
	  rotatesprite x y 49152 48 16111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 14
	case 15
	case 31
	case 32
	add x 15
	  rotatesprite x y 49152 64 16111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 16
	add x 15
	  add y 10
	  rotatesprite x y 49152 64 16111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 17
	add x 15
	  add y 10
	  rotatesprite x y 49152 64 16112 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	add x 15
	  rotatesprite x y 49152 64 16112 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 29
	add x 15
	  sub y 10
	  rotatesprite x y 49152 64 16112 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 30
	add x 15
	  sub y 10
	  rotatesprite x y 49152 64 16111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
	else
	ife RELOAD_TYPE 1 // Reloading from an empty mag?
	{
	switch KICKBACKPIC
	case 58
	case 59
	case 60
	case 61
	case 62
	add x 15
	  rotatesprite x y 49152 48 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		   add x 80
		  add y 150
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 2
		  add x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 2
		  add y WEAP_DISP_TEMP3
		  ifg y 200 set y 200
		  ifg x 160 set x 160
		  rotatesprite x y 55538 16 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 55
	case 56
	case 57
	add x 15
	  rotatesprite x y 49152 76 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  add x 80
		  add y 150
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 3
		  sub x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 3
		  sub y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 16 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 53
	case 54
	add x 15
	  rotatesprite x y 49152 96 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			   add x 80
		  add y 150
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 3
		  sub x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 3
		  sub y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 32 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 3
	case 5
	  add x 15
	  rotatesprite x y 49152 0 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 6
	case 7
	case 49
	case 50
	case 51
	case 52
	add x 15
	  rotatesprite x y 49152 16 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 8
	case 9
	case 47
	case 48
	add x 15
	  rotatesprite x y 49152 32 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 10
	case 11
	case 45
	case 46
	add x 15
	  rotatesprite x y 49152 48 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	add x 15
	  rotatesprite x y 49152 48 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			sub x 20
		  add y 30
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  sub x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  sub y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 0 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 17
	case 18
	case 19
	add x 15
	  rotatesprite x y 49152 76 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
				sub x 170
		  sub y 80
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  add x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  add y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 16 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  
	  break
	case 20
	case 21
	add x 15

	  rotatesprite x y 49152 96 16110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
				sub x 170
		  sub y 80
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  add x WEAP_DISP_TEMP3
		  set WEAP_DISP_TEMP3 KICKBACKPIC
		  mulvar WEAP_DISP_TEMP3 4
		  add y WEAP_DISP_TEMP3
		  rotatesprite x y 55538 32 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
	  break
	case 22
	case 23
	case 43
	case 44
	add x 15
	  rotatesprite x y 49152 48 16111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 24
	case 25
	case 41
	case 42
	add x 15
	  rotatesprite x y 49152 64 16111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 26
	add x 15
	  add y 10
	  rotatesprite x y 49152 64 16111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 27
	add x 15
	  add y 10
	  rotatesprite x y 49152 64 16112 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 28
	case 29
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	case 36
	case 37
	case 38
	add x 15
	  rotatesprite x y 49152 64 16112 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 39
	add x 15
	  sub y 10
	  rotatesprite x y 49152 64 16112 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 40
	add x 15
	  sub y 10
	  rotatesprite x y 49152 64 16111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

// SANG' SR-2===============================================================================================================

defstate draw_sang_sr-2

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
ifn wep_pal 1
ifn wep_pal 2
ifn wep_pal 4
ifn wep_pal 7
ifn wep_pal 8
ifn wep_pal 18
{
ifand SPECIALIST_CUSTOM[34] 1 set wep_pal 0 
else ifand SPECIALIST_CUSTOM[34] 2 set wep_pal 10 
else ifand SPECIALIST_CUSTOM[34] 4 set wep_pal 18
else ifand SPECIALIST_CUSTOM[34] 8 set wep_pal 11
else ifand SPECIALIST_CUSTOM[34] 16 set wep_pal 15
else set wep_pal 12
}

  
    
ifand GUNFIREMODE 16384 { add x 20 add y 20 set WEAP_DISP_TEMP9 NNORMALSIZE }
else set WEAP_DISP_TEMP9 57342  

switch weaponcount
case 0
case 1
case 4
case 5
case 6
  state wep_drawup
  state gunpushback_display
  set M60FLASH 0
	  rotatesprite x y WEAP_DISP_TEMP9 0 13443 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  ife HANDS_DRAW 2
		  {
		  sub x 45
		  add y 12
		  rotatesprite x y WEAP_DISP_TEMP9 0 C_ARM_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		  sub y 12
		  add x 45
		  }
		add y 28
	  rotatesprite x y WEAP_DISP_TEMP9 0 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 28
	  rotatesprite x y WEAP_DISP_TEMP9 0 13445 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
   displayrandvar GUN_PUSHBACK_DISPLAY 5
   add x GUN_PUSHBACK_DISPLAY
   add y GUN_PUSHBACK_DISPLAY
   sub y 29
  sub x 39
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  rotatespritea x y 19000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 29
  add x 39
  
	  rotatesprite x y WEAP_DISP_TEMP9 0 13443 0 107 8 windowx1 windowy1 windowx2 windowy2
	  ife HANDS_DRAW 2
		  {
		  sub x 45
		  add y 12
		  rotatesprite x y WEAP_DISP_TEMP9 0 C_ARM_1 0 107 8 windowx1 windowy1 windowx2 windowy2
		  sub y 12
		  add x 45
		  }
		add y 28
	  rotatesprite x y WEAP_DISP_TEMP9 0 C_PISTOL_1 0 107 8 windowx1 windowy1 windowx2 windowy2
	  sub y 28
	  rotatesprite x y WEAP_DISP_TEMP9 0 13445 0 107 8 windowx1 windowy1 windowx2 windowy2

  
  break
case 7
case 8
case 9
case 10
case 11
  ife weaponcount 8 sub y 5
  rotatesprite x y WEAP_DISP_TEMP9 32 13447 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

	  add y 25
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 10
	  sub x WEAP_DISP_TEMP3
	  add y KICKBACKPIC
	  set tilenum CTIP
	  add tilenum 1
	  rotatesprite x y 45538 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
  rotatesprite x y WEAP_DISP_TEMP9 64 13447 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
  add y 5
  add x 5
  rotatesprite x y WEAP_DISP_TEMP9 96 13448 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
  add y 5
  add x 5
  rotatesprite x y WEAP_DISP_TEMP9 128 13448 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
  ife weaponcount 25 add y 5
  rotatesprite x y WEAP_DISP_TEMP9 128 13448 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
  sub y 5
  sub x 5
  rotatesprite x y WEAP_DISP_TEMP9 96 13448 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
 rotatesprite x y WEAP_DISP_TEMP9 64 13448 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ********************************************************************************************************************************************
// PPSH
// ********************************************************************************************************************************************

defstate draw_ppsh

  set x 200
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  set y 233
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

switch weaponcount
case 0
case 2
  state wep_drawup
  
   sub x 45
   add y 25
   rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   sub y 25
   add x 45
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 12056 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 3
 displayrandvar WEAP_DISP_TEMP2 5
  add x WEAP_DISP_TEMP2
  add y WEAP_DISP_TEMP2
  
   displayrandvar M60FLASH 2048
  sub x 23
  sub y 45
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 23
  add y 45
  
    sub x 45
   add y 25
   rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   sub y 25
   add x 45

  rotatesprite x y 40960 0 12057 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 53
case 54
case 55
  add x 15
  
   sub x 45
   add y 25
   rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   sub y 25
   add x 45
  
  rotatesprite x y 40960 0 12056 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 50
case 51
case 52
add x 15
  rotatesprite x y 40960 16 12058 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
case 47
case 48
case 49
	add x 15
  rotatesprite x y 40960 32 12058 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 44
case 45
case 46
	add x 15
	set tilenum 12059
  rotatesprite x y 40960 48 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break

case 16
case 17
case 18
case 41
case 42
case 43
	add x 15
	set tilenum 12059
  rotatesprite x y 40960 48 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 38
case 39
case 40
add x 15
  set tilenum 12059
  rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
add x 15
  set tilenum 12055
  rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
add x 15
  rotatesprite x y 40960 64 12060 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 36
add x 15
  sub y 10
  set tilenum 12055
  rotatesprite x y 40960 72 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 37
add x 15
  sub y 10
  set tilenum 12059
  rotatesprite x y 40960 72 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends


// TRIPBOMB===============================================================================================================

defstate displaytripbomb
 add weapon_xoffset 8
 sub gun_pos 10
 ifg weaponcount 6
 {
  divvar weaponcount 8
  add looking_arc weaponcount
 }
 else
 {
  ifl weaponcount 4
   {
    set x 142
    add x weapon_xoffset
    getp[].look_ang WEAP_DISP_TEMP
    divvar WEAP_DISP_TEMP 2
    sub x WEAP_DISP_TEMP
    set y 234
    add y looking_arc
    sub y gun_pos
    ife weaponcount 0 
		{
		ife CHAR 1 rotatesprite x y 70000 0 5449 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y 21000 0 2569 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		}
    sub x 12
    add y 15
    ife weaponcount 0 { set tilenum CTRIPBOMB } else
    ife weaponcount 1 { set tilenum CKEYCARDTILE2 } else
    ife weaponcount 2 { set tilenum CKEYCARDTILE3 }
    myospal x y tilenum gs 0 wep_pal
    add x 22
    myospal x y tilenum gs 4 wep_pal
   }
 }
ends

// JAMES' M4 + SHOTGUN=========================================================================================

define M16_SIZE 58500

defstate drawm16shotgun

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 247
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
    		
	ifg GL_COUNTDOWN 25 // RELOADING ANIMATION ========================================================================
    switch GL_COUNTDOWN
	 case 32
	 case 33
	 case 34
	 	rotatesprite x y 45152 16 5172 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
			 sub x 120
			 add y 35
			rotatesprite x y NORMALSIZE 0 5350 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	    break
	 case 35
	 case 36
	 case 37
	 	rotatesprite x y 45152 16 5172 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
			 sub x 120
			 add y 40
			rotatesprite x y NORMALSIZE 1024 7893 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 1 ifg explosive_shells 0 rotatesprite x y NORMALSIZE 1024 7903 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 4 ifg flechete_shells 0 rotatesprite x y NORMALSIZE 1024 7867 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 64 ifg magnum_shells 0 rotatesprite x y NORMALSIZE 1024 7868 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 1024 ifg dragon_shells 0 rotatesprite x y NORMALSIZE 1024 7866 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	    break
	 default	
		rotatesprite x y 45152 0 5172 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		break
	 endswitch
	else
	ifg GL_COUNTDOWN 0 // FIRING ANIMATION ==================================================================================
	{
	
	ife weaponcount 2
	{
	displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  sub x 65
	  sub y 60
	  state random_AR_flash
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 65
	  add y 60
	}
	
    switch GL_COUNTDOWN
	  case 24
	  case 25
	  case 26
	   
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		ifand AMMO_TYPES[CURWEAP] 1
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 27 0 -255 windowx1 windowy1 windowx2 windowy2
			else
		ifand AMMO_TYPES[CURWEAP] 4 ife ARTIFACTS_LOADOUT[CHAR] 7 
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 1 0 -255 windowx1 windowy1 windowx2 windowy2
			else
		ifand AMMO_TYPES[CURWEAP] 64
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
			else
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		state tempm16_arm
		set tilenum 5168
		rotatesprite x y 45152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		ifand JAMES_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 5174 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	   break
	 default	
	   state tempm16_arm
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		
		  set tilenum 5167
		rotatesprite x y 45152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		ifand JAMES_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 5174 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		break
	case 16
	case 15
	case 11
	case 10
  	  sub x 93
	  add y 18
	  rotatesprite x y NNORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub y 18
	  add x 93
			  set tilenum 5167
		rotatesprite x y 45152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		ifand JAMES_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 5174 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	 break
	case 14
	case 12
  	  sub x 92
	  add y 28
	  rotatesprite x y NNORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub y 28
	  add x 92
			  set tilenum 5173
		rotatesprite x y 45152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		ifand JAMES_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 5174 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	 break
	case 13
	add x 2
	add y 2
  	  sub x 92
	  add y 28
	  rotatesprite x y NNORMALSIZE 4 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub y 28
	  add x 92
			  set tilenum 5173
		rotatesprite x y 45152 4 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		ifand JAMES_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 5174 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	 break
	 endswitch
	}
	else
	switch weaponcount // Normal firing ================================================================================`
	case 0
	case 1
	case 3
	case 4
	  state tempm16_arm
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		  set tilenum 5167
		rotatesprite x y 45152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		ifand JAMES_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 5174 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 2
	displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  sub x 65
	  sub y 60
	  state random_AR_flash
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 65
	  add y 60
	   state tempm16_arm
	  rotatesprite x y 45152 0 5168 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  ifand JAMES_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 5240 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  ifand JAMES_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 5241 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  ifand JAMES_UPGRADE 32 set tilenum 5242 else set tilenum 5170
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  ifand JAMES_UPGRADE 32 
		  {
		  sub x 145
		  add y 30
		  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  }
	  else
		  {
		  sub x 75
		  add y 20
		  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  }
	  break 
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 5171 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 5169 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
ends

// JAMES' RANGER ROCKET LAUNCHER===============================================================================================================

defstate sg_heat_digit
	ife heat_seek_card 10 set tilenum 5620
	ife heat_seek_card 9 set tilenum 5619
	ife heat_seek_card 8 set tilenum 5618
	ife heat_seek_card 7 set tilenum 5617
	ife heat_seek_card 6 set tilenum 5616
	ife heat_seek_card 5 set tilenum 16020
	ife heat_seek_card 4 set tilenum 16021
	ife heat_seek_card 3 set tilenum 16022
    ife heat_seek_card 2 set tilenum 16023
	ife heat_seek_card 1 set tilenum 16024
ends

defstate sg_dup_digit
	ife DUP_missile_ammo 10 set tilenum 5620
	ife DUP_missile_ammo 9 set tilenum 5619
	ife DUP_missile_ammo 8 set tilenum 5618
	ife DUP_missile_ammo 7 set tilenum 5617
	ife DUP_missile_ammo 6 set tilenum 5616
	ife DUP_missile_ammo 5 set tilenum 16020
	ife DUP_missile_ammo 4 set tilenum 16021
	ife DUP_missile_ammo 3 set tilenum 16022
	ife DUP_missile_ammo 2 set tilenum 16023
	ife DUP_missile_ammo 1 set tilenum 16024
ends

defstate ranger_display

	ifg heat_seek_card 0
		{
		add x 5
		sub y 23
		state sg_heat_digit
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		sub x 5
		add y 23
		}
		ifg DUP_missile_ammo 0
		{
		sub x 3
		sub y 27
		state sg_dup_digit
		   
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 tilenum 0 8 0 -255 windowx1 windowy1 windowx2 windowy2
		add x 3
		add y 27
		}

ends

defstate draw_jranger

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
ifn wep_pal 1
ifn wep_pal 2
ifn wep_pal 4
ifn wep_pal 7
ifn wep_pal 8
ifn wep_pal 18
{
ifand SPECIALIST_CUSTOM[77] 1 set wep_pal 11
else ifand SPECIALIST_CUSTOM[77] 2 set wep_pal 21 
else ifand SPECIALIST_CUSTOM[77] 4 set wep_pal 18
else ifand SPECIALIST_CUSTOM[77] 8 set wep_pal 13
else ifand SPECIALIST_CUSTOM[77] 16 set wep_pal 15
else set wep_pal 3
}

switch weaponcount
case 0
case 44
  ife player[].weapon_pos 8 soundonce ROTATEBARREL
   state wep_drawup
  ife ROCKETMAG 0 rotatesprite x y 47500 WEAP_DISP_TEMP2 22549 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 else
  ife ROCKETMAG 1 rotatesprite x y 47500 WEAP_DISP_TEMP2 22547 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 else
  rotatesprite x y 47500 WEAP_DISP_TEMP2 22539 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  ifand GUNFIREMODE_2 2
	  {
	  rotatesprite x y 47500 WEAP_DISP_TEMP2 22540 0 21 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		  {
		  state reverse_shade
		  rotatespritea x y 47500 WEAP_DISP_TEMP2 22541 WEAP_DISP_TEMP5 21 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  }
  else
	  {
	  ifand GUNFIREMODE_2 4 set WEAP_DISP_TEMP3 11 else
	  set WEAP_DISP_TEMP3 0
	  ifand GUNFIREMODE_2 1 rotatesprite x y 47500 WEAP_DISP_TEMP2 22556 0 WEAP_DISP_TEMP3  0 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y 47500 WEAP_DISP_TEMP2 22540 0 WEAP_DISP_TEMP3  0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		  {
		  state reverse_shade
		  rotatespritea x y 47500 WEAP_DISP_TEMP2 22541 WEAP_DISP_TEMP5 WEAP_DISP_TEMP3 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  }
	state ranger_display
  break
case 1
case 2
	  sub y 55
	  sub x 85
	 displayrandvar M60FLASH 2048
	  rotatespritea x y 18000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 55
	  add x 85
  ife ROCKETMAG 0 set tilenum 22547 else
  set tilenum 22539
  rotatesprite x y 47500 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 4 set WEAP_DISP_TEMP3 11 else
  set WEAP_DISP_TEMP3 0
  rotatesprite x y 47500 0 22542 0 WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  state ranger_display
  break
case 3
case 4
  ife ROCKETMAG 0 set tilenum 22548 else
  set tilenum 22543
  rotatesprite x y 47500 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   ifand GUNFIREMODE_2 4 set WEAP_DISP_TEMP3 11 else
  set WEAP_DISP_TEMP3 0
  rotatesprite x y 47500 0 22544 0 WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  state ranger_display
  break
case 5
case 6
case 7
  ife ROCKETMAG 0 set tilenum 22549 else
  set tilenum 22545
  rotatesprite x y 47500 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   ifand GUNFIREMODE_2 4 set WEAP_DISP_TEMP3 11 else
  set WEAP_DISP_TEMP3 0
  rotatesprite x y 47500 0 22546 0 WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  state ranger_display
  break
case 8
case 9
case 10
case 41
case 42
case 43
  rotatesprite x y 47500 0 22550 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // rotatesprite x y M4A1_SIZE 0 22540 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 38
case 39
case 40
  rotatesprite x y 47500 0 22551 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // rotatesprite x y M4A1_SIZE 0 22540 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 35
case 36
case 37
  rotatesprite x y 47500 0 22552 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // rotatesprite x y M4A1_SIZE 0 22540 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 32
case 33
case 34
  rotatesprite x y 47500 0 22553 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // rotatesprite x y M4A1_SIZE 0 22540 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
case 29
case 30
case 31
  rotatesprite x y 47500 0 22554 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // rotatesprite x y M4A1_SIZE 0 22540 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 27
case 28
  rotatesprite x y 47500 0 22555 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // rotatesprite x y M4A1_SIZE 0 22540 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 25
case 26
  rotatesprite x y 47500 16 22555 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // rotatesprite x y M4A1_SIZE 0 22540 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
 ends

// JAMES' ROCKET GRENADE LAUNCHER===============================================================================================================

defstate drawjgrenadel

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 220
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
  ife player[].weapon_pos 8 soundonce ROTATEBARREL
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 5162 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
    sub y 30
  sub x 70
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 70
  rotatesprite x y 40960 0 5163 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 4
  rotatesprite x y 40960 0 5162 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
break
case 5
  rotatesprite x y 40960 0 5164 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
break
case 6
case 7
soundonce ROTATEBARREL
  rotatesprite x y 40960 16 5164 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 16
case 17
case 18
case 19
case 55
case 56
case 57
case 58
  rotatesprite x y 40960 16 5628 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 20
case 21
case 22
case 23
case 51
case 52
case 53
case 54
  rotatesprite x y 40960 32 5628 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 24
case 25
case 26
case 27
case 47
case 48
case 49
case 50
  rotatesprite x y 40960 0 5628 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 28
case 29
case 30
case 44
case 45
case 46
  rotatesprite x y 40960 32 5628 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 31
case 32
case 33
case 34
case 35
case 36
case 37
case 38
case 39
case 40
case 41
case 42
case 43
  add y 15
  rotatesprite x y 40960 -48 5630 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

//DETONATER===============================================================================================================

defstate drawdetonator

  set x 105
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 250
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 3
case 4
case 5
case 6
case 7
case 8
case 9
case 10
set tilenum CDETON
state wep_drawup
rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
set tilenum CDETON
add tilenum 1
 ife CHAR 0 sound TNT_DETONATE
 ife CHAR 4 
	{
	ifand CHAR_APP 2 sound TNT_DETONATE else
	sound CLICK_FINGER
	}
 ife CHAR 13 sound MC_GREN_DETONATE
myospal x y tilenum shade 0 wep_pal
break
case 2
set tilenum CDETON
add tilenum 2
myospal x y tilenum shade 0 wep_pal
 break
endswitch


  
ife KICKBACKPIC 0
{
ife CHAR 4 ifand CHAR_APP 2 
	{ 
	add x 7 
	sub y 1 
	rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 6180 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
}

ends

// SANG SPELL 1===============================================================================================================

defstate drawspell1

  set y 253
  //add y looking_arc
  sub y WEAPSWAYY
  sub y gun_pos
  
  set y2 253
  //add y looking_arc
  sub y2 WEAPSWAYY
  sub y2 gun_pos
  add y2 weaponcount
  
  ife HANDS_DRAW 2
  {
  set x2 95
  sub x2 WEAPSWAYX
  add x2 weapon_xoffset
  sub x2 looking_angSR1
  sub x2 weaponcount
  state wep_drawup
  ifand CHAR_APP 2 
	{
	clamp y2 174 320
	rotatesprite x2 y2 NNORMALSIZE WEAP_DISP_TEMP2 23836 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
  else 
	{
	clamp y2 172 320
	rotatesprite x2 y2 NNORMALSIZE WEAP_DISP_TEMP2 6144 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
  }
  
  ifl ALT_ANIM 20
   {
   add ALT_ANIM 1
   ifg ALT_ANIM 15 set WEAP_DISP_TEMP3 33
   else ifg ALT_ANIM 10 set WEAP_DISP_TEMP3 1
   else set WEAP_DISP_TEMP3 0
   set WEAP_DISP_TEMP5 ALT_ANIM
   mulvar WEAP_DISP_TEMP5 1200
   add WEAP_DISP_TEMP5 52000
   rotatespritea 160 170 WEAP_DISP_TEMP5 0 6335 ALT_ANIM 0 WEAP_DISP_TEMP3 -255 windowx1 windowy1 windowx2 windowy2
   }
   
  
  ifl ALT_ANIM_2 20
   {
   add ALT_ANIM_2 1
   ifg ALT_ANIM_2 15 set WEAP_DISP_TEMP3 33
   else ifg ALT_ANIM_2 10 set WEAP_DISP_TEMP3 1
   else set WEAP_DISP_TEMP3 0
   
   set WEAP_DISP_TEMP5 ALT_ANIM_2
   mulvar WEAP_DISP_TEMP5 1200
   add WEAP_DISP_TEMP5 52000
   
   rotatespritea 160 170 WEAP_DISP_TEMP5 0 6335 ALT_ANIM_2 0 WEAP_DISP_TEMP3 -255 windowx1 windowy1 windowx2 windowy2
   }
   
ifand CHAR_APP 2
	switch weaponcount
	case 0
	  set x 255
	  sub x WEAPSWAYX
	  sub x weapon_xoffset
	  sub x looking_angSR1
	  state wep_drawup
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 23837 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 1
	case 2
	  set x 135
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 23838 shade 0 wep_pal
	break
	case 7
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 23839 shade 0 wep_pal
	 break
	case 3
	case 4
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 23839 0 0 17
	 break
	case 5
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 23840 0 0 0
	 break
	endswitch
else
	switch weaponcount
	case 0
	  set x 255
	  sub x WEAPSWAYX
	  sub x weapon_xoffset
	  sub x looking_angSR1
	  state wep_drawup
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 6145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 1
	case 2
	  set x 135
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 6146 shade 0 wep_pal
	break
	case 7
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 6147 shade 0 wep_pal
	 break
	case 3
	case 4
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 6148 0 0 wep_pal
	 break
	case 5
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 6149 0 0 wep_pal
	 break
	endswitch
	
ends

// SANG GOLD SPELL 1===============================================================================================================

defstate draw_gold_spell1

  set y 253
  //add y looking_arc
  sub y WEAPSWAYY
  sub y gun_pos
  
  set y2 253
  //add y looking_arc
  sub y2 WEAPSWAYY
  sub y2 gun_pos
  add y2 weaponcount
  
  ife HANDS_DRAW 2
  {
  set x2 95
  sub x2 WEAPSWAYX
  add x2 weapon_xoffset
  sub x2 looking_angSR1
  sub x2 weaponcount
  state wep_drawup
  ifand CHAR_APP 2 
	{
	clamp y2 174 320
	rotatesprite x2 y2 NNORMALSIZE WEAP_DISP_TEMP2 23836 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
  else 
	{
	clamp y2 172 320
	rotatesprite x2 y2 NNORMALSIZE WEAP_DISP_TEMP2 6144 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
  }
  
  ifl ALT_ANIM 20
   {
   add ALT_ANIM 1
   ifg ALT_ANIM 15 set WEAP_DISP_TEMP3 33
   else ifg ALT_ANIM 10 set WEAP_DISP_TEMP3 1
   else set WEAP_DISP_TEMP3 0
   
   set WEAP_DISP_TEMP5 ALT_ANIM
   mulvar WEAP_DISP_TEMP5 1200
   add WEAP_DISP_TEMP5 32000
   
   rotatespritea 160 170 WEAP_DISP_TEMP5 0 6335 ALT_ANIM 0 WEAP_DISP_TEMP3 -255 windowx1 windowy1 windowx2 windowy2
   
   }
   
  
  ifl ALT_ANIM_2 20
   {
   add ALT_ANIM_2 1
   ifg ALT_ANIM_2 15 set WEAP_DISP_TEMP3 33
   else ifg ALT_ANIM_2 10 set WEAP_DISP_TEMP3 1
   else set WEAP_DISP_TEMP3 0
   
   set WEAP_DISP_TEMP5 ALT_ANIM_2
   mulvar WEAP_DISP_TEMP5 1200
   add WEAP_DISP_TEMP5 32000
   
   rotatespritea 160 170 WEAP_DISP_TEMP5 0 6335 ALT_ANIM_2 0 WEAP_DISP_TEMP3 -255 windowx1 windowy1 windowx2 windowy2
   
   }

ifand CHAR_APP 2
	switch weaponcount
	case 0
	  set x 255
	  sub x WEAPSWAYX
	  sub x weapon_xoffset
	  sub x looking_angSR1
	  state wep_drawup
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 23843 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 5
	  state gold_sparkle
	  sub x 5
	  break
	case 1
	case 2
	  set x 135
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 23838 shade 0 wep_pal
	break
	case 7
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 23844 shade 0 wep_pal
	 break
	case 3
	case 4
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 23845 0 0 17
	 break
	case 5
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 23845 0 0 0
	 break
	endswitch   
else
	switch weaponcount
	case 0
	  set x 255
	  sub x WEAPSWAYX
	  sub x weapon_xoffset
	  sub x looking_angSR1
	  state wep_drawup
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 13490 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 5
	  state gold_sparkle
	  sub x 5
	  break
	case 1
	case 2
	  set x 135
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 13491 shade 0 wep_pal
	break
	case 7
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 13492 shade 0 wep_pal
	 break
	case 3
	case 4
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 13493 0 0 wep_pal
	 break
	case 5
	  set x 175
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
	  myospal x y 13494 0 0 wep_pal
	 break
	endswitch

ends

// SANG SPELL 2===============================================================================================================

defstate drawspell2

  set y 255
  sub y WEAPSWAYY
  //add y looking_arc
  sub y gun_pos
  
  set x 155
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  set x2 205
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  sub x2 looking_angSR1


switch weaponcount
case 0
  ifn SPECIALIST_EQUIPMENT[17] 2 soundonce SPELL2AMB
  displayrandvar WEAP_DISP_TEMP6 5
  add x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 5
  add y WEAP_DISP_TEMP7
  
 ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23855 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 23855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
 else
  {
  rotatespritea x y 74638 0 6186 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 6186 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  
  ife WEAP_DISP_TEMP8 0
  {
  add WEAP_DISP_TEMP9 1
  ifg WEAP_DISP_TEMP9 64 set WEAP_DISP_TEMP8 1
  }
  else
  {
  sub WEAP_DISP_TEMP9 1
  ifl WEAP_DISP_TEMP9 32 set WEAP_DISP_TEMP8 0
  }
  
  set WEAP_DISP_TEMP4 WEAP_DISP_TEMP9
  mulvar WEAP_DISP_TEMP4 1024
  
  ifg WEAP_DISP_TEMP4 66560 { set WEAP_DISP_TEMP4 66560 set WEAP_DISP_TEMP8 0 }
  displayrandvar M60FLASH 2048
  ife SPECIALIST_EQUIPMENT[17] 2 set tilenum 7159 else set tilenum 6197 // Ice spell?
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 8623 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball
  
  
  displayrandvar WEAP_DISP_TEMP6 5
  sub x2 WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 5
  sub y WEAP_DISP_TEMP7
  sub x2 20
 
	ifand CHAR_APP 2
	 {
	 rotatespritea x2 y 74638 0 23856 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	 rotatesprite x2 y 66638 0 23856 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	 }
	 else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
	  {
	  rotatespritea x2 y 74638 0 13504 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x2 y 66638 0 13504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  add x2 35
	  sub y 15
	  state gold_sparkle2
	  sub x2 35
	  add y 15  
	  }
  else
	  {
	  rotatespritea x2 y 74638 0 6187 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x2 y 66638 0 6187 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  break
case 1
case 2
case 3
  displayrandvar WEAP_DISP_TEMP6 2
  add x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 2
  add y WEAP_DISP_TEMP7
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 4
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23857 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 23857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  rotatespritea x y 74638 0 6188 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 6188 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  displayrandvar M60FLASH 2048
  set WEAP_DISP_TEMP2 y
 set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub WEAP_DISP_TEMP2 WEAP_DISP_TEMP
  ife SPECIALIST_EQUIPMENT[17] 2 set tilenum 7159 else set tilenum 6197 // Ice spell?
  rotatespritea 160 WEAP_DISP_TEMP2 68638 M60FLASH 8623 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  rotatespritea 160 WEAP_DISP_TEMP2 64638 M60FLASH tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball
  
  
  displayrandvar WEAP_DISP_TEMP6 2
  sub x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 2
  sub y WEAP_DISP_TEMP7
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 4
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23858 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 23858 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // gold ring?
	  {
	  rotatespritea x y 74638 0 13505 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 13505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6189 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 6189 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  break
case 4
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23859 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
	  rotatesprite x y 66638 0 23859 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6192 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
	  rotatesprite x y 66638 0 6192 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  
  sub y 40
  displayrandvar M60FLASH 2048
  ife SPECIALIST_EQUIPMENT[17] 2 set tilenum 7159 else set tilenum 6197 // Ice spell?
  rotatespritea 160 y NNORMALSIZE M60FLASH 8623 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  rotatespritea 160 y NORMALSIZE M60FLASH tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball
  add y 40
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23860 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 23860 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
  {
  rotatespritea x y 74638 0 13506 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 13506 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x y 74638 0 6193 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 6193 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
case 5
case 6
case 7
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x y 84638 M60FLASH 1598 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // Electricity arc
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23859 0 1 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
	  rotatesprite x y 66638 0 23859 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6192 0 1 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
	  rotatesprite x y 66638 0 6192 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }

  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x2 y 84638 M60FLASH 1598 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // Electricity arc
  
  ifand CHAR_APP 2
  {
  rotatespritea x2 y 74638 0 23860 0 1 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23860 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
  {
  rotatespritea x2 y 74638 0 13506 0 1 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x2 y 66638 0 13506 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x2 y 74638 0 6193 0 1 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6193 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }

  
  break
case 8
case 9
case 10
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23859 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 23861 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  rotatespritea x y 74638 0 6192 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 6194 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  displayrandvar M60FLASH 2048
  rotatespritea x y 84638 M60FLASH 1598 0 0 33 -255 windowx1 windowy1 windowx2 windowy2 // Electricity arc
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  rotatespritea x2 y 74638 0 23860 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23862 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring
  {
  rotatespritea x2 y 74638 0 13506 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 13507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x2 y 74638 0 6193 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6195 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  displayrandvar M60FLASH 2048
  rotatespritea x2 y 84638 M60FLASH 1598 0 0 33 -255 windowx1 windowy1 windowx2 windowy2 // Electricity arc
  
  break
case 11
case 12
case 13
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23861 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 66638 0 6194 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23862 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6195 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 14
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23861 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 66638 0 6194 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23862 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13507 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6195 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand

  sub y 5
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 66638 0 6188 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23858 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6189 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 15
case 16
case 17 
case 18
  sub y 5
  sub x 80
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 66638 0 6188 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  add x2 40
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23858 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6189 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 19
case 20
case 21 
case 22
case 23
case 24
  sub y 5
  sub x 80
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  ifg KICKBACKPIC 21 rotatespritea x y 74638 0 23855 0 1 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 23855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  ifg KICKBACKPIC 21 rotatespritea x y 74638 0 6186 0 1 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 6186 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  
  add x 15
  set WEAP_DISP_TEMP4 KICKBACKPIC
  mulvar WEAP_DISP_TEMP4 1024
  set WEAP_DISP_TEMP9 31
  
  displayrandvar M60FLASH 2048
  ife SPECIALIST_EQUIPMENT[17] 2 set tilenum 7159 else set tilenum 6197 // Ice spell?
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 8623 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball
  
  
  add x2 40
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  ifg KICKBACKPIC 21 rotatesprite x2 y 74638 0 23856 0 1 11 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23856 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2
  {
  ifg KICKBACKPIC 21 rotatesprite x2 y 74638 0 13504 0 1 11 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 13504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  ifg KICKBACKPIC 21 rotatesprite x2 y 74638 0 6187 0 1 11 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6187 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
endswitch
ends

defstate draw_spell2_fire

  set y 255
  sub y WEAPSWAYY
  //add y looking_arc
  sub y gun_pos
  
  set x 155
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  set x2 205
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  sub x2 looking_angSR1


switch weaponcount
case 0
  ifn SPECIALIST_EQUIPMENT[17] 2 soundonce SPELL2AMB
  displayrandvar WEAP_DISP_TEMP6 5
  add x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 5
  add y WEAP_DISP_TEMP7
  
 ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23855 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 23855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
 else
  {
  rotatespritea x y 74638 0 6186 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 6186 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  
  ife WEAP_DISP_TEMP8 0
  {
  add WEAP_DISP_TEMP9 1
  ifg WEAP_DISP_TEMP9 64 set WEAP_DISP_TEMP8 1
  }
  else
  {
  sub WEAP_DISP_TEMP9 1
  ifl WEAP_DISP_TEMP9 32 set WEAP_DISP_TEMP8 0
  }
  
  set WEAP_DISP_TEMP4 WEAP_DISP_TEMP9
  mulvar WEAP_DISP_TEMP4 1024
  
  ifg WEAP_DISP_TEMP4 66560 { set WEAP_DISP_TEMP4 66560 set WEAP_DISP_TEMP8 0 }
  displayrandvar M60FLASH 2048
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 8623 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 18114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // fireball
  
  displayrandvar WEAP_DISP_TEMP6 5
  sub x2 WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 5
  sub y WEAP_DISP_TEMP7
  sub x2 20
 
	ifand CHAR_APP 2
	 {
	 rotatespritea x2 y 74638 0 23856 WEAP_DISP_TEMP5 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	 rotatesprite x2 y 66638 0 23856 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	 }
	 else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
	  {
	  rotatespritea x2 y 74638 0 13504 WEAP_DISP_TEMP5 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x2 y 66638 0 13504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  add x2 35
	  sub y 15
	  state gold_sparkle2
	  sub x2 35
	  add y 15  
	  }
  else
	  {
	  rotatespritea x2 y 74638 0 6187 WEAP_DISP_TEMP5 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x2 y 66638 0 6187 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  break
case 1
case 2
case 3
  displayrandvar WEAP_DISP_TEMP6 2
  add x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 2
  add y WEAP_DISP_TEMP7
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 4
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23857 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 23857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  rotatespritea x y 74638 0 6188 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 6188 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  displayrandvar M60FLASH 2048
  set WEAP_DISP_TEMP2 y
 set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub WEAP_DISP_TEMP2 WEAP_DISP_TEMP
  rotatespritea 160 WEAP_DISP_TEMP2 68638 M60FLASH 8623 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
  rotatespritea 160 WEAP_DISP_TEMP2 64638 M60FLASH 18114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // fireball
  
  displayrandvar WEAP_DISP_TEMP6 2
  sub x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 2
  sub y WEAP_DISP_TEMP7
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 4
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23858 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 23858 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // gold ring?
	  {
	  rotatespritea x y 74638 0 13505 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 13505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6189 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 6189 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  break
case 4
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23859 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
	  rotatesprite x y 66638 0 23859 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6192 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
	  rotatesprite x y 66638 0 6192 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  
  sub y 40
  displayrandvar M60FLASH 2048
  rotatespritea 160 y NNORMALSIZE M60FLASH 8623 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // Fire ball glow
  rotatespritea 160 y NORMALSIZE M60FLASH 18114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // Fire ball
  add y 40
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23860 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 23860 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
  {
  rotatespritea x y 74638 0 13506 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 13506 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x y 74638 0 6193 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 6193 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
case 5
case 6
case 7
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x y 84638 M60FLASH 7047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // fire crackle
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23859 0 2 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
	  rotatesprite x y 66638 0 23859 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6192 0 2 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
	  rotatesprite x y 66638 0 6192 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }

  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x2 y 84638 M60FLASH 7047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // fire arc
  
  ifand CHAR_APP 2
  {
  rotatespritea x2 y 74638 0 23860 0 2 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23860 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
  {
  rotatespritea x2 y 74638 0 13506 0 2 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x2 y 66638 0 13506 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x2 y 74638 0 6193 0 2 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6193 shade 21 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }

  
  break
case 8
case 9
case 10
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x y 84638 M60FLASH 7047 0 0 33 -255 windowx1 windowy1 windowx2 windowy2 // Fire arc
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23859 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 23861 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  rotatespritea x y 74638 0 6192 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 6194 shade 21 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x2 y 84638 M60FLASH 7047 0 0 33 -255 windowx1 windowy1 windowx2 windowy2 // fire arc
  ifand CHAR_APP 2
  {
  rotatespritea x2 y 74638 0 23860 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23862 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring
  {
  rotatespritea x2 y 74638 0 13506 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 13507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x2 y 74638 0 6193 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6195 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  
  
  break
case 11
case 12
case 13
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23861 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 66638 0 6194 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23862 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6195 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 14
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23861 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 66638 0 6194 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23862 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13507 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6195 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand

  sub y 5
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 66638 0 6188 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23858 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6189 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 15
case 16
case 17 
case 18
  sub y 5
  sub x 80
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 66638 0 6188 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  add x2 40
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23858 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6189 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 19
case 20
case 21 
case 22
case 23
case 24
  sub y 5
  sub x 80
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  ifg KICKBACKPIC 21 rotatespritea x y 74638 0 23855 0 2 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 23855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  ifg KICKBACKPIC 21 rotatespritea x y 74638 0 6186 0 2 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 6186 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  
  add x 15
  set WEAP_DISP_TEMP4 KICKBACKPIC
  mulvar WEAP_DISP_TEMP4 1024
  set WEAP_DISP_TEMP9 31
  
  displayrandvar M60FLASH 2048
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 8623 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 18114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // fireball
  
  
  add x2 40
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  ifg KICKBACKPIC 21 rotatespritea x2 y 74638 0 23856 0 2 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23856 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2
  {
  ifg KICKBACKPIC 21 rotatespritea x2 y 74638 0 13504 0 2 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 13504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  ifg KICKBACKPIC 21 rotatespritea x2 y 74638 0 6187 0 2 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6187 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
endswitch
ends

// SANG GOLD SPELL 2 ===============================================================================================================

defstate draw_spell2_gold
  set y 255
  sub y WEAPSWAYY
  //add y looking_arc
  sub y gun_pos
  
  set x 155
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  set x2 205
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  sub x2 looking_angSR1


switch weaponcount
case 0
  ifn SPECIALIST_EQUIPMENT[17] 2 soundonce SPELL2AMB
  displayrandvar WEAP_DISP_TEMP6 5
  add x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 5
  add y WEAP_DISP_TEMP7
  
 ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23855 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 23855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
 else
  {
  rotatespritea x y 74638 0 6186 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 6186 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  
  ife WEAP_DISP_TEMP8 0
  {
  add WEAP_DISP_TEMP9 1
  ifg WEAP_DISP_TEMP9 64 set WEAP_DISP_TEMP8 1
  }
  else
  {
  sub WEAP_DISP_TEMP9 1
  ifl WEAP_DISP_TEMP9 32 set WEAP_DISP_TEMP8 0
  }
  
  set WEAP_DISP_TEMP4 WEAP_DISP_TEMP9
  mulvar WEAP_DISP_TEMP4 1024
  
  ifg WEAP_DISP_TEMP4 66560 { set WEAP_DISP_TEMP4 66560 set WEAP_DISP_TEMP8 0 }
  displayrandvar M60FLASH 2048
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 8623 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // gold glow
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 19806 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // gold
  
  displayrandvar WEAP_DISP_TEMP6 5
  sub x2 WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 5
  sub y WEAP_DISP_TEMP7
  sub x2 20
 
	ifand CHAR_APP 2
	 {
	 rotatespritea x2 y 74638 0 23856 WEAP_DISP_TEMP5 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	 rotatesprite x2 y 66638 0 23856 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	 }
	 else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
	  {
	  rotatespritea x2 y 74638 0 13504 WEAP_DISP_TEMP5 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x2 y 66638 0 13504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  add x2 35
	  sub y 15
	  state gold_sparkle2
	  sub x2 35
	  add y 15  
	  }
  else
	  {
	  rotatespritea x2 y 74638 0 6187 WEAP_DISP_TEMP5 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x2 y 66638 0 6187 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  break
case 1
case 2
case 3
  displayrandvar WEAP_DISP_TEMP6 2
  add x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 2
  add y WEAP_DISP_TEMP7
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 4
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23857 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 23857 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  rotatespritea x y 74638 0 6188 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
  rotatesprite x y 66638 0 6188 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  displayrandvar M60FLASH 2048
  set WEAP_DISP_TEMP2 y
 set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub WEAP_DISP_TEMP2 WEAP_DISP_TEMP
  rotatespritea 160 WEAP_DISP_TEMP2 68638 M60FLASH 8623 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // gold ball glow
  rotatespritea 160 WEAP_DISP_TEMP2 64638 M60FLASH 19806 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // gold ball
  
  displayrandvar WEAP_DISP_TEMP6 2
  sub x WEAP_DISP_TEMP6
  displayrandvar WEAP_DISP_TEMP7 2
  sub y WEAP_DISP_TEMP7
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 4
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23858 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 23858 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // gold ring?
	  {
	  rotatespritea x y 74638 0 13505 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 13505 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6189 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
	  rotatesprite x y 66638 0 6189 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
	  }
  break
case 4
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23859 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
	  rotatesprite x y 66638 0 23859 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6192 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand glow
	  rotatesprite x y 66638 0 6192 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  
  sub y 40
  displayrandvar M60FLASH 2048
  rotatespritea 160 y NNORMALSIZE M60FLASH 8623 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // Goldball glow
  rotatespritea 160 y NORMALSIZE M60FLASH 19806 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // goldball
  add y 40
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23860 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 23860 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
  {
  rotatespritea x y 74638 0 13506 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 13506 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x y 74638 0 6193 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x y 66638 0 6193 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
case 5
case 6
case 7
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x y 84638 M60FLASH 7047 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 // fire crackle
  ifand CHAR_APP 2
	  {
	  rotatespritea x y 74638 0 23859 0 19 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
	  rotatesprite x y 66638 0 23859 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }
  else
	  {
	  rotatespritea x y 74638 0 6192 0 19 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
	  rotatesprite x y 66638 0 6192 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
	  }

  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x2 y 84638 M60FLASH 7047 0 19 1 -255 windowx1 windowy1 windowx2 windowy2 // fire arc
  
  ifand CHAR_APP 2
  {
  rotatespritea x2 y 74638 0 23860 0 19 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23860 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring?
  {
  rotatespritea x2 y 74638 0 13506 0 19 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand glow
  rotatesprite x2 y 66638 0 13506 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x2 y 74638 0 6193 0 19 1 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6193 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }

  
  break
case 8
case 9
case 10
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x y 84638 M60FLASH 7047 0 0 33 -255 windowx1 windowy1 windowx2 windowy2 // Fire arc
  ifand CHAR_APP 2
  {
  rotatespritea x y 74638 0 23859 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 23861 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  rotatespritea x y 74638 0 6192 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 6194 shade 22 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  displayrandvar M60FLASH 2048
  rotatespritea x2 y 84638 M60FLASH 7047 0 0 33 -255 windowx1 windowy1 windowx2 windowy2 // fire arc
  ifand CHAR_APP 2
  {
  rotatespritea x2 y 74638 0 23860 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23862 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2 // Gold ring
  {
  rotatespritea x2 y 74638 0 13506 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 13507 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  rotatespritea x2 y 74638 0 6193 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6195 shade 22 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  
  
  break
case 11
case 12
case 13
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23861 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 66638 0 6194 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23862 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6195 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 14
  sub x 50
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23861 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // left hand
  else rotatesprite x y 66638 0 6194 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23862 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13507 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6195 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // right hand

  sub y 5
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 66638 0 6188 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23858 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6189 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 15
case 16
case 17 
case 18
  sub y 5
  sub x 80
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x y 66638 0 23857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 66638 0 6188 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  
  add x2 40
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2 rotatesprite x2 y 66638 0 23858 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ife SPECIALIST_EQUIPMENT[40] 2 rotatesprite x2 y 66638 0 13505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  else rotatesprite x2 y 66638 0 6189 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  break
case 19
case 20
case 21 
case 22
case 23
case 24
  sub y 5
  sub x 80
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  add x WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  ifg KICKBACKPIC 21 rotatespritea x y 74638 0 23855 0 19 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 23855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  else
  {
  ifg KICKBACKPIC 21 rotatespritea x y 74638 0 6186 0 19 1 -255 windowx1 windowy1 windowx2 windowy2 // left hand
  rotatesprite x y 66638 0 6186 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // left hand
  }
  
  
  add x 15
  set WEAP_DISP_TEMP4 KICKBACKPIC
  mulvar WEAP_DISP_TEMP4 1024
  set WEAP_DISP_TEMP9 31
  
  displayrandvar M60FLASH 2048
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 8623 0 19 33 -255 windowx1 windowy1 windowx2 windowy2 // Goldball glow
  rotatespritea 160 y WEAP_DISP_TEMP4 M60FLASH 19806 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // Goldball
  
  
  add x2 40
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x2 WEAP_DISP_TEMP
  ifand CHAR_APP 2
  {
  ifg KICKBACKPIC 21 rotatespritea x2 y 74638 0 23856 0 19 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 23856 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  ife SPECIALIST_EQUIPMENT[40] 2
  {
  ifg KICKBACKPIC 21 rotatespritea x2 y 74638 0 13504 0 19 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 13504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  else
  {
  ifg KICKBACKPIC 21 rotatespritea x2 y 74638 0 6187 0 19 11 -255 windowx1 windowy1 windowx2 windowy2 // right hand
  rotatesprite x2 y 66638 0 6187 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right hand
  }
  break
endswitch
ends

//SANG HELLFIRE STAFF===============================================================================================================

defstate drawspell4


  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 217
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 133 320
  
   ife WEAP_DISP_TEMP8 0
   {
   displayrandvar WEAP_DISP_TEMP6 3000
  ifl WEAP_DISP_TEMP6 5
		{
		set WEAP_DISP_TEMP8 90
		}
	}
	
ifg WEAP_DISP_TEMP8 0
	{
	sub WEAP_DISP_TEMP8 1
	soundonce SPELL4AMB
	displayrandvar WEAP_DISP_TEMP7 3
	add x WEAP_DISP_TEMP7
	displayrandvar WEAP_DISP_TEMP7 3
	add y WEAP_DISP_TEMP7
	}
  
  ifg KICKBACKPIC 0
  ifl KICKBACKPIC 70
	{
	set WEAP_DISP_TEMP5 KICKBACKPIC
	mulvar WEAP_DISP_TEMP5 4096
	add M60FLASH 128
	  sub y 25
	  sub x 50
	rotatespritea x y WEAP_DISP_TEMP5 M60FLASH 7056 0 2 0 -255 windowx1 windowy1 windowx2 windowy2 
	div WEAP_DISP_TEMP5 2
	rotatespritea x y WEAP_DISP_TEMP5 M60FLASH 3605 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 25
	  add x 50
	}

ifg KICKBACKPIC_2 0 // alt fire
switch KICKBACKPIC_2
case 0
	state wep_drawup
	state gunpushback_display
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
   rotatesprite x y 40960 WEAP_DISP_TEMP2 6215 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
   rotatespritea x y 40960 WEAP_DISP_TEMP2 6214 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6216 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 WEAP_DISP_TEMP2 6214 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
case 5
	set WEAP_DISP_TEMP2 KICKBACKPIC_2
	div WEAP_DISP_TEMP2 2
 displayrandvarvar WEAP_DISP_TEMP WEAP_DISP_TEMP2
  add x WEAP_DISP_TEMP
 displayrandvarvar WEAP_DISP_TEMP WEAP_DISP_TEMP2
  add y WEAP_DISP_TEMP  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6216 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 6214 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
 displayrandvar WEAP_DISP_TEMP 7
  add x WEAP_DISP_TEMP
 displayrandvar WEAP_DISP_TEMP 7
  add y WEAP_DISP_TEMP  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6216 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 6214 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
  set WEAP_DISP_TEMP5 KICKBACKPIC_2
  mulvar WEAP_DISP_TEMP5 2048
  set WEAP_DISP_TEMP6 65536
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub y 15
  sub x 50
  displayrandvar M60FLASH 2048
  rotatespritea x y WEAP_DISP_TEMP6 M60FLASH 6247 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 15
  add x 50
  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 106 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6216 0 106 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 6214 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
  set GUN_PUSHBACK_DISPLAY 10
  state gunpushback_display
  rotatesprite x y 40960 0 6215 shade 107 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 6214 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
  state gunpushback_display
  rotatesprite x y 40960 0 6215 shade 0 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 6214 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch
else
switch weaponcount
case 0
	state wep_drawup
	state gunpushback_display
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
   rotatesprite x y 40960 WEAP_DISP_TEMP2 6215 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
   rotatespritea x y 40960 WEAP_DISP_TEMP2 6214 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6216 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
case 5
	set WEAP_DISP_TEMP2 weaponcount
	div WEAP_DISP_TEMP2 2
 displayrandvarvar WEAP_DISP_TEMP WEAP_DISP_TEMP2
  add x WEAP_DISP_TEMP
 displayrandvarvar WEAP_DISP_TEMP WEAP_DISP_TEMP2
  add y WEAP_DISP_TEMP  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6216 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
 displayrandvar WEAP_DISP_TEMP 7
  add x WEAP_DISP_TEMP
 displayrandvar WEAP_DISP_TEMP 7
  add y WEAP_DISP_TEMP  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6216 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 2048
  set WEAP_DISP_TEMP6 65536
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub y 15
  sub x 50
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 15
  add x 50
  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6216 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
  set GUN_PUSHBACK_DISPLAY 10
  state gunpushback_display
  rotatesprite x y 40960 0 6215 shade 108 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
  state gunpushback_display
  rotatesprite x y 40960 0 6215 shade 0 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

//SANG'S SPELL BOOK===============================================================================================================

defstate drawspell5

  set y 253
  sub y WEAPSWAYY
  //add y looking_arc
  sub y gun_pos
  
  ifg player[].weapon_pos 0
	  {
	  ife player[].weapon_pos 8 sound BOOK_OPEN
	  ifg player[].weapon_pos 7 set tilenum 6280
	  else ifg player[].weapon_pos 4 set tilenum 6281
	  else ifg player[].weapon_pos 0 set tilenum 6282
	  }
  else
  ifl player[].weapon_pos 0
	  {
	  ife player[].weapon_pos -8 sound BOOK_CLOSE
	  ifl player[].weapon_pos -7 set tilenum 6280
	  else ifl player[].weapon_pos -4 set tilenum 6281
	  else ifl player[].weapon_pos -0 set tilenum 6282
	  }
  else
	  {
	  ife currentweapon 11 set tilenum 6269
	  else set tilenum 6268
	  }
  set x 85
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  state wep_drawup	 
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

switch weaponcount
case 0
  set x 265
  sub x WEAPSWAYX
  sub x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23843
	  else set tilenum 23837
	  }
  else
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13490
	  else set tilenum 6145
	  }
  state wep_drawup	 
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  set x 165
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 23838
else
	{
	ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13491
	else set tilenum 6146
	}
  
  myospal x y tilenum shade 0 wep_pal
break
case 7
  set x 205
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23844
	  else set tilenum 23839
	  }
	else
	 {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13492
	  else set tilenum 6147
	  }
  
  myospal x y tilenum 0 0 21
 break
case 3
case 4
  set x 205
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23844
	  else set tilenum 23839
	  }
	else
	  {
		ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13493
	  else set tilenum 6148
		}
  myospal x y tilenum 0 0 21
 break
case 5
  set x 205
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
   ifand CHAR_APP 2
	  {
	  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 23845
	  else set tilenum 23840
	  }
 else
	  {
		ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13494
	  else set tilenum 6149
		}
  myospal x y tilenum 0 0 21
 break
endswitch
ends

// SANG'S BAR===============================================================================================================

defstate draw_bar

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 42
state gunpushback_display
set tilenum 11114
 state wep_drawup	 
 
 			sub x 65
			add y 65
			rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			add x 65
			sub y 65
 
  rotatesprite x y 32768 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
	displayrandvar GUN_PUSHBACK_DISPLAY 10
	add x GUN_PUSHBACK_DISPLAY
	add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub x 55
  sub y 45
  state random_AR_flash
  rotatespritea x y 24000 9 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 45
  
  			sub x 65
			add y 65
			rotatesprite x y NORMALSIZE 0 C_ARM_2 shade 107 0 windowx1 windowy1 windowx2 windowy2
			add x 65
			sub y 65
  
  set tilenum 11115
  rotatesprite x y 32768 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
state gunpushback_display
set tilenum 11114
   rotatesprite x y 32768 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
case 11
  sub x 7
  add x weaponcount
   rotatesprite x y 32768 0 11116 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 15
case 16
case 17
case 30
case 31
case 32
case 33
case 34
case 35
  ife KICKBACKPIC 30 sub y 5
  set tilenum 11117
  set WEAP_DISP_TEMP weaponcount
  mulvar WEAP_DISP_TEMP 3
  divvar WEAP_DISP_TEMP 2
  rotatesprite x y 32768 WEAP_DISP_TEMP tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // myospal x y tilenum shade 0 wep_pal
  break 
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
  add x 5
  rotatesprite x y 32768 12 11117 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 36
case 37
case 38
case 39
case 40
case 41
  rotatesprite x y 32768 0 11116 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break  
endswitch
ends

// SANG'S AK47 ==================================================================================================================

defstate AK47_SCANNER
  sub y 10
  sub x 71
  digitalnumber 3010 x y MGUNMAG 0 4 0 windowx1 windowy1 windowx2 windowy2
  
  ifn hitsprite -1
	{
	geta[hitsprite].extra WEAP_DISP_TEMP
	ifg WEAP_DISP_TEMP 0
		{
  		add y 10
		add x 20
		digitalnumberz 3010 x y WEAP_DISP_TEMP 0 4 0 windowx1 windowy1 windowx2 windowy2 DOUBLESIZE
		}
	}
ends

defstate draw_ak47

  set x 195
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 227
  clamp y 155 320
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
 ifand GUNFIREMODE 32768 // Using the GL?
{
	switch GL_COUNTDOWN 
	case 0
	case 43
	case 42
	case 41	
	  state wep_drawup
	 rotatesprite x y 40960 WEAP_DISP_TEMP2 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 1
	case 2
	case 3
	case 4
	 rotatesprite x y 40960 0 19904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 5
	case 6
	case 7
	case 8
	 rotatesprite x y 40960 32 19907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 9
	case 10
	case 11
	case 12
	case 13
	 rotatesprite x y 40960 32 19908 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 14
	case 15
	case 16
	 rotatesprite x y 40960 0 19908 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			sub x 20
			add y 25
			rotatesprite x y NNORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	 break
	case 17
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	 rotatesprite x y 40960 64 19908 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			set WEAP_DISP_TEMP7 GL_COUNTDOWN
			mulvar WEAP_DISP_TEMP7 2
			sub WEAP_DISP_TEMP7 20
			add y WEAP_DISP_TEMP7
			sub x 20
			rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 512 rotatesprite x y NORMALSIZE 0 16122 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 2048 rotatesprite x y NORMALSIZE 0 6132 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 4096 rotatesprite x y NORMALSIZE 0 6133 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else rotatesprite x y NORMALSIZE 0 16127 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 30
	case 31
	case 32
	 rotatesprite x y 40960 0 19907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 33
	case 34
	case 35
	case 36
	 rotatesprite x y 40960 32 19907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 37
	case 38
	case 39
	case 40
	 rotatesprite x y 40960 0 19904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 44
	case 45
	case 46
	case 47
	case 48
			set WEAP_DISP_TEMP6 x
			sub WEAP_DISP_TEMP6 48
			set WEAP_DISP_TEMP7 y
			sub WEAP_DISP_TEMP7 32
			displayrandvar M60FLASH 2048
			rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			rotatesprite x y 40960 0 19903 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	endswitch
}
else
switch weaponcount
case 0
case 1
case 4
case 5
case 6
  ifand GUNFIREMODE 16384 // Ironsight?
  {
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 10
	  state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12172 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 147
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12165 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
	  
	  		ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				sub y 30
				rotatespritea x y 6096 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
				}

  }
  else
  {
  state wep_drawup
  state gunpushback_display
  sub x 15
  add y 50
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 15
  sub y 50
  rotatesprite x y 40960 WEAP_DISP_TEMP2 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state AK47_SCANNER
  }
  break
case 2
case 3
  ifand GUNFIREMODE 16384
  {
  	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 5
	  state random_AR_flash
	  sub y 10
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 5
	  set GUN_PUSHBACK_DISPLAY 10
		state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12172 0 106 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 147
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12165 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
  
  }
  else
  {
 displayrandvar GUN_PUSHBACK_DISPLAY 7
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 10
  sub y 38
  state random_AR_flash
  rotatespritea x y 20500 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 10
  add y 38
	  sub x 15
	  add y 50
	  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 0 107 0 windowx1 windowy1 windowx2 windowy2
	  add x 15
	  sub y 50
  rotatesprite x y 40960 0 19903 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state AK47_SCANNER
  }
  break
case 7
case 8
case 9
case 10
  sub x 15
  add y 50
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 15
  sub y 50
  rotatesprite x y 40960 0 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state AK47_SCANNER
  break
case 11
case 12
case 13
  rotatesprite x y 40960 64 19904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
  add y 5
  add x 5
  rotatesprite x y 40960 96 19904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 34
case 35
  add y 5
  add x 5
  rotatesprite x y 40960 128 19904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
case 32
case 33
  sub y 5
  sub x 5
  rotatesprite x y 40960 96 19905 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
case 31
  sub y 5
  sub x 5
  rotatesprite x y 40960 64 19906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start reloading
case 58
  rotatesprite x y 40960 0 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 57
  rotatesprite x y 40960 16 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 56
  rotatesprite x y 40960 32 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 55
  rotatesprite x y 40960 32 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 42
case 54
  rotatesprite x y 40960 32 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 53
  add y 15
  rotatesprite x y 40960 48 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 52
  add y 20
  rotatesprite x y 40960 64 19902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 45
case 51
  add y 25
  rotatesprite x y 40960 76 19904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 50
  add y 30
  rotatesprite x y 40960 96 19904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 47
case 48
case 49
  add y 45
  rotatesprite x y 40960 104 19904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// SANG'S F2000===============================================================================================================

defstate draw_F2000

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifand GUNFIREMODE 32768 // Using the M16's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 add x 20
  state wep_drawup
 rotatesprite x y 40960 WEAP_DISP_TEMP2 19839 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 32768 0 19842 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 32768 32 19842 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 32768 0 19844 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 32768 0 19843 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 70
		add y 25		
		ifand CHAR_APP 2 rotatesprite x y NORMALSIZE 1024 6364 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 6190 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 32768 64 19843 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 5
		add y WEAP_DISP_TEMP7
		sub x 85
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 32768 0 19844 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 32768 32 19842 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40	  
 rotatesprite x y 32768 0 19842 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 98
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 12
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 40960 WEAP_DISP_TEMP2 19839 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // normal firemode
switch weaponcount
case 0
case 1
case 42

    ifand GUNFIREMODE 16384 // Ironsight?
  {
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 130
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 142
	  sub y WEAPSWAYY
	  
	set WEAP_DISP_TEMP8 62500
	   ifg GUN_PUSHBACK_DISPLAY 0
		{
		set WEAP_DISP_TEMP7 32 // base value
		mul WEAP_DISP_TEMP7 GUN_SPREAD // weapon shake affected by gun spread too
		mul WEAP_DISP_TEMP7 GUN_PUSHBACK_DISPLAY // countdown
		add WEAP_DISP_TEMP8 WEAP_DISP_TEMP7 // add to zoom value
		sub GUN_PUSHBACK_DISPLAY 2
		}
	  
	  rotatesprite x y WEAP_DISP_TEMP8 0 19845 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holographic sight
		ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 4
			rotatespritea x y WEAP_DISP_TEMP8 0 19846 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
			}
  }
  else
  {
	state gunpushback_display
	state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 19837 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 60
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 2
case 3
    ifand GUNFIREMODE 16384 // Ironsight?
  {
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 130
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 30
	     state random_AR_flash
	  add y 20
	  rotatespritea x y 24000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  sub y 20
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 142
	  sub y WEAPSWAYY
	  
	  set GUN_PUSHBACK_DISPLAY 10
	set WEAP_DISP_TEMP8 62500
	   ifg GUN_PUSHBACK_DISPLAY 0
		{
		set WEAP_DISP_TEMP7 32 // base value
		mul WEAP_DISP_TEMP7 GUN_SPREAD // weapon shake affected by gun spread too
		mul WEAP_DISP_TEMP7 GUN_PUSHBACK_DISPLAY // countdown
		add WEAP_DISP_TEMP8 WEAP_DISP_TEMP7 // add to zoom value
		sub GUN_PUSHBACK_DISPLAY 2
		}
	  
	  rotatesprite x y WEAP_DISP_TEMP8 0 19845 0 108 0 windowx1 windowy1 windowx2 windowy2 // holographic sight
		ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 2
			rotatespritea x y WEAP_DISP_TEMP8 0 19846 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
			}	  
  }
  else
  {
displayrandvar GUN_PUSHBACK_DISPLAY 10
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY

  displayrandvar M60FLASH 2048
  sub x 55
  sub y 20
   state random_AR_flash
   rotatespritea x y 28000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 20
  rotatesprite x y 40960 0 19838 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 60
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 4
case 5
case 6
   state gunpushback_display
  rotatesprite x y 40960 0 19837 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 60
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 36
case 37
case 38
case 39
  rotatesprite x y 40960 0 19839 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 60
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
case 10
case 11
  rotatesprite x y 40960 16 19839 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 60
  rotatesprite x y NORMALSIZE 16 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 30
case 31
case 32
  ife KICKBACKPIC 30 sub y 5
  rotatesprite x y 40960 0 19840 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break 
case 15
case 16
case 17
case 33
case 34
case 35
  ife KICKBACKPIC 30 sub y 5
  rotatesprite x y 40960 32 19840 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break 
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
  add x 20
  rotatesprite x y 40960 0 19841 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break 
endswitch
ends

// SANG'S UZI===============================================================================================================

defstate drawsuzi

ifand GUNFIREMODE 1024 // Akimbo
	{

	  set x 210
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
		  
	  set y 240
	  sub y WEAPSWAYY
	  add y looking_arc
	  sub y gun_pos

	switch weaponcount
	case 0
	case 1
		  add x 40
		 set tilenum 12135
		  sub x 2
		  add y 30
		  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Right hand
		  sub y 30
		  add x 2
		 
		 ifand SANG_UPGRADE 4 rotatesprite x y 49152 0 12137 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		 rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Right Gun
		 
				 
	  set x2 70
	  sub x2 WEAPSWAYX
	  sub x2 weapon_xoffset
	  add x2 looking_angSR1
		  add x2 1
		  add y 30
		  rotatesprite x2 y 57344 1024 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Left hand
		  sub x2 1
		  sub y 30
		  ifand SANG_UPGRADE 4 rotatesprite x2 y 49152 1024 12137 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		   rotatesprite x2 y 49152 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Left Gun
		   
				   
	  break
	case 3
	case 5
	case 2
	case 4
	case 6
	
	  displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	
	ifand SANG_UPGRADE 4 
		{
		  add x 40
		 set tilenum 12135
		  sub x 2
		  add y 30
		  rotatesprite x y 57344 WEAP_DISP_TEMP2 C_PISTOL_1 0 67 8 windowx1 windowy1 windowx2 windowy2 // Right hand
		  sub y 30
		  add x 2
		 rotatesprite x y 49152 0 12137 0 67 8 windowx1 windowy1 windowx2 windowy2
		 rotatesprite x y 49152 0 tilenum 0 67 8 windowx1 windowy1 windowx2 windowy2 // Right Gun
				 
	  set x2 70
	  sub x2 WEAPSWAYX
	  sub x2 weapon_xoffset
	  add x2 looking_angSR1
		  add x2 1
		  add y 30
		  rotatesprite x2 y 57344 1024 C_PISTOL_2 0 67 12 windowx1 windowy1 windowx2 windowy2 // Left hand
		  sub x2 1
		  sub y 30
		  rotatesprite x2 y 49152 1024 12137 0 67 4 windowx1 windowy1 windowx2 windowy2 // supressor
		   rotatesprite x2 y 49152 1024 tilenum 0 67 12 windowx1 windowy1 windowx2 windowy2 // Left Gun
		
		}
	else
		{
	  displayrandvar M60FLASH 2048
	  sub y 45
	  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  sub x 125
	  
	  		  set x2 120
		  sub x2 WEAPSWAYX
		  sub x2 weapon_xoffset
		  add x2 looking_angSR1
	  
	  rotatespritea x2 y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 45
	  add x 125
	  
		  add x 40
		 set tilenum 12136
		  sub x 2
		  add y 30
		  rotatesprite x y 57344 WEAP_DISP_TEMP2 C_PISTOL_1 0 107 8 windowx1 windowy1 windowx2 windowy2 // Right hand
		  sub y 30
		  add x 2
		 rotatesprite x y 49152 0 tilenum 0 0 8 windowx1 windowy1 windowx2 windowy2 // Right Gun
				 
	  set x2 70
	  sub x2 WEAPSWAYX
	  sub x2 weapon_xoffset
	  add x2 looking_angSR1
		  add x2 1
		  add y 30
		  rotatesprite x2 y 57344 1024 C_PISTOL_2 0 107 12 windowx1 windowy1 windowx2 windowy2 // Left hand
		  sub x2 1
		  sub y 30
		   rotatesprite x2 y 49152 1024 tilenum 0 0 12 windowx1 windowy1 windowx2 windowy2 // Left Gun
	  
	  }		
	  break
	case 7
	case 8
	case 9
	case 10
		set tilenum 12135
		 rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP KICKBACKPIC
	mul WEAP_DISP_TEMP 3
	add y WEAP_DISP_TEMP
			sub x 190
		  add x looking_angSR1
		  ifand SANG_UPGRADE 4 rotatesprite x y 49152 1024 12175 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		  add y 30
		  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
		  rotatesprite x y 65536 840 tilenum shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
		  sub y 30
		  rotatesprite x y 49152 1024 6229 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
	  break
	case 11
	case 12
	case 13
	   ifand SANG_UPGRADE 4 rotatesprite x y 49152 64 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 30
	  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
	  rotatesprite x y 65536 200 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 30
	  rotatesprite x y 49152 64 6229 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break
	case 14
	case 15
	case 16
	  add y 5
	  add x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 96 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 30
	  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
	  rotatesprite x y 65536 220 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 30
	  rotatesprite x y 49152 96 6229 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break
	case 17
	case 18
	case 19
	  sub y 15
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 16 12173 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 16 6227 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 20
	case 21
	case 22
	  sub y 15
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 0 12173 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 0 6227 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 23
	case 24
	case 25
	case 26
	  sub y 15
	  add x 10
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 0 12174 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 0 6228 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 27
	case 28
	case 29
	  sub y 5
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 96 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
	  add y 30
	  rotatesprite x y 65536 220 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 30
	  rotatesprite x y 49152 96 6229 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 5
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 64 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 30
	  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
	  rotatesprite x y 65536 200 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 30
	  rotatesprite x y 49152 64 6229 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break
	case 36
	case 37
	case 38
	  sub x 150
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 960 12715 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		  add y 30
		  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
		  rotatesprite x y 65536 840 tilenum shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
		  sub y 30
		  rotatesprite x y 49152 1024 6229 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
	  break
	case 39
	case 40
	case 41
	sub x 150
	  add y 5
	  add x 5
	   ifand SANG_UPGRADE 4 rotatesprite x y 49152 928 12715 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		  add y 30
		  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
		  rotatesprite x y 65536 820 tilenum shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
		  sub y 30
		  rotatesprite x y 49152 928 6229 shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
	  break
	case 42
	case 43
	case 44
	sub x 150
	  sub y 15
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 1040 12173 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 1040 6227 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 46
	case 47
	sub x 150
	  sub y 15
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 1024 12173 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 1024 6227 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  break
	case 48
	case 49
	case 50
	case 51
	sub x 150
	  sub y 15
	  add x 10
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 1024 12174 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 1024 6228 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	case 53
	case 54
	sub x 150
	  sub y 5
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 928 12175 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		  add y 30
		  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
		  rotatesprite x y 65536 820 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		  sub y 30
		  rotatesprite x y 49152 928 6229 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  break
	case 55
	case 56
	case 57
	case 58
	case 59
	case 60
	sub x 150
	  sub y 5
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 960 12175 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		  add y 30
		  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
		  rotatesprite x y 65536 840 tilenum shade wep_pal 12 windowx1 windowy1 windowx2 windowy2
		  sub y 30
		  rotatesprite x y 49152 960 6229 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  break
	case 61
	case 62
	case 63
	case 64
	case 65
	  sub y 5
	  sub x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 0 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 0 6229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 150
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 1024 12175 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 1024 6229 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
else
	{

	  set x 182
	  sub x WEAPSWAYX
	  add x weapon_xoffset
	  sub x looking_angSR1
		  
	  set y 240
	  sub y WEAPSWAYY
	  add y looking_arc
	  sub y gun_pos

	switch weaponcount
	case 0
	case 1
	case 7
	case 8
	case 9
	case 10
		  set tilenum 6224
		  ifand SANG_UPGRADE 4 rotatesprite x y 49152 0 12176 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2		  
		  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  ifand SANG_UPGRADE 2 rotatesprite x y 49152 0 12177 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  add x 25
		  add y 15
		  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
		  rotatesprite x y NNORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  sub x 25
		  sub y 15
		  rotatesprite x y 49152 0 6226 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 3
	case 5
	case 2
	case 4
	case 6
	  displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  ifand SANG_UPGRADE 4 
		{ 
		set tilenum 6224
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 0 12176 0 67 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 0 tilenum 0 67 0 windowx1 windowy1 windowx2 windowy2
	  ifand SANG_UPGRADE 2 rotatesprite x y 49152 0 12177 0 67 0 windowx1 windowy1 windowx2 windowy2
		  add x 25
		  add y 15
		  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
		  rotatesprite x y NNORMALSIZE 0 tilenum 0 67 0 windowx1 windowy1 windowx2 windowy2
		  sub x 25
		  sub y 15
		  rotatesprite x y 49152 0 6226 0 67 0 windowx1 windowy1 windowx2 windowy2
		}  // Suppressor
	  else
	  {
	  set tilenum 6225
	  displayrandvar M60FLASH 2048
	  sub x 45
	  sub y 45
	  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 45
	  add y 45
	  rotatesprite x y 49152 0 tilenum 0 0 0 windowx1 windowy1 windowx2 windowy2
		  add x 25
		  add y 15
		  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
		  rotatesprite x y NNORMALSIZE 0 tilenum 0 107 0 windowx1 windowy1 windowx2 windowy2
		  sub x 25
		  sub y 15
		  rotatesprite x y 49152 0 6230 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  ifand SANG_UPGRADE 2 rotatesprite x y 49152 0 12177 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
	  break
	case 11
	case 12
	case 13
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 64 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 30
	  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
	  rotatesprite x y 65536 200 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 30
	  rotatesprite x y 49152 64 6229 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break
	case 14
	case 15
	case 16
	  add y 5
	  add x 5
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 96 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 30
	  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
	  rotatesprite x y 65536 220 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 30
	  rotatesprite x y 49152 96 6229 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break
	case 17
	case 18
	case 19
	  sub y 15
	  sub x 5
      
	  set tilenum 6227
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 16 12173 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 16 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 20
	case 21
	case 22
	  sub y 15
	  sub x 5
      
	  set tilenum 6227
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 0 12173 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 0 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 23
	case 24
	case 25
	case 26
	  sub y 15
	  add x 10
	  
	  set tilenum 6228
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 0 12174 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 49152 0 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  break
	case 27
	case 28
	case 29
	  sub y 5
	  sub x 5
	  set tilenum 6229
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 96 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 30
	  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
	  rotatesprite x y 65536 220 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 30
	  rotatesprite x y 49152 96 6229 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 5
	  sub x 5
	  set tilenum 6229
	  ifand SANG_UPGRADE 4 rotatesprite x y 49152 64 12175 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 30
	  ifand CHAR_APP 2 set tilenum 6223 else set tilenum 6222
	  rotatesprite x y 65536 200 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  sub y 30
	  rotatesprite x y 49152 64 6229 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

// OBLIVION STAFF===============================================================================================================

defstate drawspell8

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  

  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

  ifg GUN_PUSHBACK_DISPLAY 0 sub GUN_PUSHBACK_DISPLAY 1

switch weaponcount
case 0
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6231 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	  {
	  getp[].random_club_frame WEAP_DISP_TEMP
	   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
	   divvar WEAP_DISP_TEMP 1024 // 2^10
	   add WEAP_DISP_TEMP 16 
	  rotatespritea x y 40960 WEAP_DISP_TEMP2 6232 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2  
	  state crystal_glow
	  rotatespritea x y 40960 WEAP_DISP_TEMP2 6233 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2  
	  }
  break
case 1
case 2
case 3
  rotatesprite x y 40960 0 6234 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
  rotatesprite x y 40960 0 6235 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 11
  rotatesprite x y 40960 0 6236 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 15
case 16
  ife weaponcount 12 set GUN_PUSHBACK_DISPLAY 10
  add y GUN_PUSHBACK_DISPLAY
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  sub y 40
  sub x 40
  rotatespritea x y WEAP_DISP_TEMP5 0 6240 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  rotatesprite x y 40960 0 6237 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
  add y GUN_PUSHBACK_DISPLAY
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub y 40
  sub x 40
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 0 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  rotatesprite x y 40960 0 6238 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// NEMESIS STAFF===============================================================================================================

defstate draw_nemesis_staff

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 18078 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	  {
	  getp[].random_club_frame WEAP_DISP_TEMP
	   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
	   divvar WEAP_DISP_TEMP 1024 // 2^10
	   add WEAP_DISP_TEMP 16 
	  rotatespritea x y 40960 WEAP_DISP_TEMP2 18080 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2  
	  state crystal_glow
	  rotatespritea x y 40960 WEAP_DISP_TEMP2 18081 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2  
	  }
  break
case 1
case 2
case 3
  rotatesprite x y 40960 0 18078 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 18082 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
  rotatesprite x y 40960 0 18078 0 0 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 18083 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 11
  rotatesprite x y 40960 0 18078 0 0 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 18084 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 15
case 16
  ife weaponcount 12 set GUN_PUSHBACK_DISPLAY 10
  add y GUN_PUSHBACK_DISPLAY
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  sub y 40
  sub x 40
  rotatespritea x y WEAP_DISP_TEMP5 0 6240 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  rotatesprite x y 40960 0 18078 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
  add y GUN_PUSHBACK_DISPLAY
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub y 40
  sub x 40
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 0 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  rotatesprite x y 40960 0 18079 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// PIPEBOMB===============================================================================================================

defstate DISP_zax_pike
  switch weaponcount
   case 0
      set x 175
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
      set y 265
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos
	  ifl y 190 set y 190
      set tilenum CPIPEBOMB
	getp[].ammo_amount 5 WEAP_DISP_TEMP2
      ifg WEAP_DISP_TEMP2 0 
		{
		set WEAP_DISP_TEMP2 player[].weapon_pos
		ife WEAP_DISP_TEMP2 1 soundonce RUSTY_TRAP
		ifl WEAP_DISP_TEMP2 1 set tilenum 2573 else set tilenum 2576
		state wep_drawup
		rotatesprite x y NNORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		}
   break
   case 1 
   case 2 
   case 3 
   case 4 
   case 5 
   case 6 
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
	  set y 265
      add y looking_arc
      sub y gun_pos
      set tilenum CPIPEBOMB
	  set WEAP_DISP_TEMP KICKBACKPIC
	  mulvar WEAP_DISP_TEMP 12
	  add y WEAP_DISP_TEMP
      myospal x y tilenum shade 0 wep_pal
   break
   case 7 
   case 8 
   case 9 
   case 10
   case 11
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
      set y 330
      add y looking_arc
      sub y gun_pos
      set tilenum CPIPEBOMB
      add tilenum 1
	  set WEAP_DISP_TEMP KICKBACKPIC
	  mulvar WEAP_DISP_TEMP 8
	  sub y WEAP_DISP_TEMP
      myospal x y tilenum shade 0 wep_pal
   break
   case 12
   case 13
   case 14
   case 15
   case 16
   case 17
   case 18
   case 19
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
	  set y 115
      add y looking_arc
      sub y gun_pos
      set tilenum CPIPEBOMB
	  add tilenum 2
	  set WEAP_DISP_TEMP KICKBACKPIC
	  mulvar WEAP_DISP_TEMP 8
	  add y WEAP_DISP_TEMP
	  ifl y 163 set y 163
      myospal x y tilenum shade 0 wep_pal
   break
  endswitch
ends

defstate displaypipe
   switch weaponcount
   case 0
      set x 175
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
      set y 255
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos
	  ifl y 180 set y 180
      set tilenum CPIPEBOMB
	getp[].ammo_amount 5 WEAP_DISP_TEMP2
      ifg WEAP_DISP_TEMP2 0 
		{
		state wep_drawup
		rotatesprite x y NNORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ife CHAR 4 rotatespritea x y NORMALSIZE 0 6255 0 0 1 -255 windowx1 windowy1 windowx2 windowy2
		}
   break
   case 1 
   case 2 
   case 3 
   case 4 
   case 5 
   case 6 
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
	  set y 265
      add y looking_arc
      sub y gun_pos
      set tilenum CPIPEBOMB
	  set WEAP_DISP_TEMP KICKBACKPIC
	  mulvar WEAP_DISP_TEMP 12
	  add y WEAP_DISP_TEMP
      myospal x y tilenum shade 0 wep_pal
   break
   case 7 
   case 8 
   case 9 
   case 10
   case 11
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
      set y 330
      add y looking_arc
      sub y gun_pos
      set tilenum CPIPEBOMB
      add tilenum 1
	  	  ife CHAR 4 
		{ 
		ifand CHAR_APP 2 set tilenum 6177 else
		ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 6270 
		else set tilenum 6153 
		} 
	  set WEAP_DISP_TEMP KICKBACKPIC
	  mulvar WEAP_DISP_TEMP 8
	  sub y WEAP_DISP_TEMP
      myospal x y tilenum shade 0 wep_pal
   break
   case 12
   case 13
   case 14
   case 15
   case 16
   case 17
   case 18
   case 19
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
	  set y 115
      add y looking_arc
      sub y gun_pos
      set tilenum CPIPEBOMB
	  add tilenum 2
	  ife CHAR 4 
		{ 
		ifand CHAR_APP 2 set tilenum 6178 else
		ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 6271 
		else set tilenum 6154 
		}
	  set WEAP_DISP_TEMP KICKBACKPIC
	  mulvar WEAP_DISP_TEMP 8
	  add y WEAP_DISP_TEMP
	  ifl y 163 set y 163
      myospal x y tilenum shade 0 wep_pal
   break
  endswitch
ends

// JAMES PROX ===============================================================================================================

defstate drawjamesprox

      set x 175
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
	  set y 240
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos
	  
ifand CHAR_APP 1
  switch weaponcount
   case 0
	  sub x 80
      set tilenum 5470
	getp[].ammo_amount 8 WEAP_DISP_TEMP2
      ifg WEAP_DISP_TEMP2 0  
		{
		state wep_drawup
		add WEAP_DISP_TEMP2 1024
		rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		ifand GUNFIREMODE 32 rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 5472 shade 2 4 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 5471 shade 0 4 windowx1 windowy1 windowx2 windowy2
		}
   break
   case 1 
   case 2 
   case 3 
   case 4 
   case 5 
   case 6 
      set x 105
      add x weapon_xoffset
      sub x looking_angSR1
      set y 240
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 20
	  add y WEAP_DISP_TEMP3
      add y looking_arc
      sub y gun_pos
      set tilenum 5470
		myospal x y tilenum shade 4 wep_pal
		ifand GUNFIREMODE 32 myospal x y 5472 0 4 2
		else myospal x y 5471 0 4 0
      
   break
   case 7 
   case 8 
   case 9 
   case 10
   case 11
   case 12
   case 13
      set x 105
      add x weapon_xoffset
      sub x looking_angSR1
      set y 300
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 5
	  sub y WEAP_DISP_TEMP3
      add y looking_arc
      sub y gun_pos
      myospal x y 5175 shade 4 wep_pal
   break
   case 14
      set x 105
      set WEAP_DISP_TEMP 240
      add x weapon_xoffset
      sub x looking_angSR1
      set y WEAP_DISP_TEMP
      add y looking_arc
      sub y gun_pos
      myospal x y 5175 shade 4 wep_pal
      add WEAP_DISP_TEMP 5
   break
   case 15
   case 16
   case 17
   case 18
   case 19
      set x 105
      add x weapon_xoffset
      sub x looking_angSR1
      set y WEAP_DISP_TEMP
      add y looking_arc
      sub y gun_pos
      myospal x y 5176 shade 4 wep_pal
      add WEAP_DISP_TEMP 5
   break
  endswitch
else
  switch weaponcount
   case 0
      set tilenum 5470
	getp[].ammo_amount 8 WEAP_DISP_TEMP2
      ifg WEAP_DISP_TEMP2 0  
		{
		state wep_drawup
		rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand GUNFIREMODE 32 rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 5472 shade 2 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 5471 shade 0 0 windowx1 windowy1 windowx2 windowy2
		}
   break
   case 1 
   case 2 
   case 3 
   case 4 
   case 5 
   case 6 
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
      set y 240
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 20
	  add y WEAP_DISP_TEMP3
      add y looking_arc
      sub y gun_pos
      set tilenum 5470
		myospal x y tilenum shade 0 wep_pal
		ifand GUNFIREMODE 32 myospal x y 5472 0 0 2
		else myospal x y 5471 0 0 0
      
   break
   case 7 
   case 8 
   case 9 
   case 10
   case 11
   case 12
   case 13
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
      set y 300
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 5
	  sub y WEAP_DISP_TEMP3
      add y looking_arc
      sub y gun_pos
      set tilenum 5175
      myospal x y tilenum shade 0 wep_pal
   break
   case 14
      set x 175
      set WEAP_DISP_TEMP 240
      add x weapon_xoffset
      sub x looking_angSR1
      set y WEAP_DISP_TEMP
      add y looking_arc
      sub y gun_pos
      set tilenum 5175
      myospal x y tilenum shade 0 wep_pal
      add WEAP_DISP_TEMP 5
   break
   case 15
   case 16
   case 17
   case 18
   case 19
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
      set y WEAP_DISP_TEMP
      add y looking_arc
      sub y gun_pos
      set tilenum 5176
      myospal x y tilenum shade 0 wep_pal
      add WEAP_DISP_TEMP 5
   break
  endswitch
ends

// Merlijn's sphere ===============================================================================================================

defstate draw_merlijn_trap

  switch weaponcount
   case 0
      set WEAP_DISP_TEMP 235
      set x 175
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
      set y WEAP_DISP_TEMP
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos
	getp[].ammo_amount 8 WEAP_DISP_TEMP
      ifg WEAP_DISP_TEMP 0 
		{ 
		state wep_drawup
		rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 11014 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		}
   break
   case 1 
   case 2 
   case 3 
   case 4 
   case 5 
   case 6 
      set y 235
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
	  set WEAP_DISP_TEMP KICKBACKPIC
	  mulvar WEAP_DISP_TEMP 8
      add y WEAP_DISP_TEMP
      add y looking_arc
      sub y gun_pos
      myospal x y 11014 shade 0 wep_pal
      add WEAP_DISP_TEMP 9
   break
   case 7 
   case 8 
   case 9 
   case 10
   case 11
   case 12
   case 13
   case 14
   case 15
   case 16
   case 17
   case 18
   case 19
   break
  endswitch
ends

// Rusty's ball ===============================================================================================================

defstate drawrustytrap
  switch weaponcount
   case 0
      set WEAP_DISP_TEMP 235
      set x 175
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
      set y WEAP_DISP_TEMP
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos
	getp[].ammo_amount 8 WEAP_DISP_TEMP
      ifg WEAP_DISP_TEMP 0 
		{ 
		 set WEAP_DISP_TEMP2 player[].weapon_pos
		ife WEAP_DISP_TEMP2 1 soundonce RUSTY_TRAP
		ifl WEAP_DISP_TEMP2 1 set tilenum 12023 else set tilenum 12022
		state wep_drawup
		rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		}
   break
   case 1 
   case 2 
   case 3 
   case 4 
   case 5 
   case 6 
   case 7 
   case 8 
   case 9 
   case 10
   case 11
   case 12
   case 13
   case 14
   case 15
   case 16
   case 17
   case 18
   case 19
   break
  endswitch
ends

// ZAXTOR'S RIFLE===============================================================================================================


defstate displayzaxrifle

ifl weaponcount 5
 {
    set x 184 // 195-12
    add x weapon_xoffset
	sub x WEAPSWAYX
    ife weaponcount 3
    {
        sub x 3
    }
    sub x looking_angSR1

    set y 244
    add y looking_arc
	sub y WEAPSWAYY
    sub y gun_pos
	
	ifg GL_COUNTDOWN 23
		{
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 15
		rotatespritea x WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
    
    set tilenum FIRSTGUN
    switch weaponcount
		case 2
            add tilenum 1

			  sub y 50
			  sub x 5
			  ifand ZAXTOR_UPGRADE 2
				  {
				  state random_AR_flash
				  rotatespritea x y 18000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
				  }
			  else
				  {
				  displayrandvar M60FLASH 2048
				  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
				  }
			  add y 50
			  add x 5
			  break
		case 3
		case 4
			displayrandvar GUN_PUSHBACK_DISPLAY 12
			add x GUN_PUSHBACK_DISPLAY
			add y GUN_PUSHBACK_DISPLAY
            add tilenum 1

			  sub y 50
			  sub x 5
			  displayrandvar M60FLASH 2048
			  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			  add y 50
			  add x 5
            break
    endswitch
	
	state gunpushback_display
            
	state wep_drawup
	rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 2 windowx1 windowy1 windowx2 windowy2

	ifand ZAXTOR_UPGRADE 1 rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 5431 shade wep_pal 2 windowx1 windowy1 windowx2 windowy2 
		
	ifand ZAXTOR_UPGRADE 2
		{            
	state GLOWCODE
	rotatesprite x y NNORMALSIZE 0 5434 WEAP_DISP_TEMP 21 2 windowx1 windowy1 windowx2 windowy2
	ife WEAPON_GLOW YES
			{
			state crystal_glow
			rotatespritea x y NNORMALSIZE 0 5437 crystal_shade 21 2 -255 windowx1 windowy1 windowx2 windowy2
			}
		}
 }
 else
 {
    ifl weaponcount 10
    {
        set x 194
        sub x looking_angSR1
        
        set y 230
        add y looking_arc
        sub y gun_pos
        
        set tilenum FIRSTGUN
        add tilenum 4

        myospal x y tilenum shade 0 pal


		ifand ZAXTOR_UPGRADE 1
		{
        	myospal x y 5432 shade 0 pal
		}

	ifand ZAXTOR_UPGRADE 2
		{
		state GLOWCODE
        myospal x y 5435 WEAP_DISP_TEMP 0 21
		ife WEAPON_GLOW YES
			{
			state crystal_glow
			rotatespritea x y NNORMALSIZE 0 5438 crystal_shade 21 2 -255 windowx1 windowy1 windowx2 windowy2
			}
		}
    }
    else ifl weaponcount 15
    {
        set x 144
        set wp_temp weaponcount
        mulvar wp_temp 2 // <<1
        mulvar wp_temp 4 // << 2
        mulvar wp_temp 8 // << 3
        sub x wp_temp
        sub x looking_angSR1
		shiftvarr x 4
		add x 270
        
        set y 240
        add y looking_arc
        mulvarvar wp_temp wp_temp // << 4
        add y wp_temp
        sub y gun_pos
		shiftvarr y 14
		add y 155

        myospal x y 2530 shade orientation pal


// ///////      
        set x 224
        sub x looking_angSR1
        
        set y 220
        add y looking_arc
        sub y gun_pos

        myospal x y 5440 shade 0 pal


	ifand ZAXTOR_UPGRADE 1
		{
        	myospal x y 5433 shade 0 pal
		}

	ifand ZAXTOR_UPGRADE 2
		{
		state GLOWCODE
        myospal x y 5436 WEAP_DISP_TEMP 0 21
		ife WEAPON_GLOW YES
				{
				state crystal_glow
				rotatespritea x y NNORMALSIZE 0 5439 crystal_shade 21 2 -255 windowx1 windowy1 windowx2 windowy2
				}
		}
        
    }
    else ifl weaponcount 20
    {	
        set x 140
        set wp_temp weaponcount
        mulvarvar wp_temp wp_temp // <<1
		divvar wp_temp 2
        add x wp_temp
        sub x looking_angSR1
		sub x 150
        
        set y 30
        add y looking_arc
        mulvarvar wp_temp wp_temp // << 2
        mulvarvar wp_temp wp_temp // << 3
        add y wp_temp
        sub y gun_pos
		shiftvarr y 26
		add y 200

        myospal x y 2531 shade orientation pal

// ///////      
        set x 224
        sub x looking_angSR1
        
        set y 220
        add y looking_arc
        sub y gun_pos
        
        myospal x y 5440 shade 0 pal

	ifand ZAXTOR_UPGRADE 1
		{

        	myospal x y 5433 shade 0 pal
		}

	ifand ZAXTOR_UPGRADE 2
		{
		state GLOWCODE
        myospal x y 5436 WEAP_DISP_TEMP 0 21
		ife WEAPON_GLOW YES
				{
				state crystal_glow
				rotatespritea x y NNORMALSIZE 0 5439 crystal_shade 21 2 -255 windowx1 windowy1 windowx2 windowy2
				}
		}
        
    }
    else ifl weaponcount 23
    {
        set x 184
        sub x looking_angSR1
        
        set y 235
        add y looking_arc
        sub y gun_pos
        
        set tilenum FIRSTGUN
        add tilenum 8

        myospal x y tilenum shade 0 pal
// ///////      
        set x 224
        sub x looking_angSR1
        
        set y 210
        add y looking_arc
        sub y gun_pos

        myospal x y 5440 shade 0 pal

	ifand ZAXTOR_UPGRADE 1
		{
        	myospal x y 5433 shade 0 pal
		}

	ifand ZAXTOR_UPGRADE 2
		{
		state GLOWCODE
        myospal x y 5436 WEAP_DISP_TEMP 0 21
		ife WEAPON_GLOW YES
				{
				state crystal_glow
				rotatespritea x y NNORMALSIZE 0 5439 crystal_shade 21 2 -255 windowx1 windowy1 windowx2 windowy2
				}
		}
        
    }
    else ifl weaponcount 25
    {
        set x 164
        sub x looking_angSR1
        
        set y 245
        add y looking_arc
        sub y gun_pos
        
        set tilenum FIRSTGUN
        add tilenum 8

        myospal x y tilenum shade 0 pal
// ///////      
        set x 224
        sub x looking_angSR1
        
        set y 220
        add y looking_arc
        sub y gun_pos
        
        set tilenum FIRSTGUN
        add tilenum 5

        myospal x y tilenum shade 0 pal

	ifand ZAXTOR_UPGRADE 1
		{
        	myospal x y 5433 shade 0 pal
		}

	ifand ZAXTOR_UPGRADE 2
		{
		state GLOWCODE
        myospal x y 5436 WEAP_DISP_TEMP 0 21
		ife WEAPON_GLOW YES
				{
				state crystal_glow
				rotatespritea x y NNORMALSIZE 0 5439 crystal_shade 21 2 -255 windowx1 windowy1 windowx2 windowy2
				}
		}

    }
    else ifl weaponcount 27
    {
        set x 194
        sub x looking_angSR1
        
        set y 235
        add y looking_arc
        sub y gun_pos
        
        set tilenum FIRSTGUN
        add tilenum 5

        myospal x y tilenum shade 0 pal


	ifand ZAXTOR_UPGRADE 1
		{
        	myospal x y 5433 shade 0 pal
		}

	ifand ZAXTOR_UPGRADE 2
		{
		state GLOWCODE
        myospal x y 5436 WEAP_DISP_TEMP 0 21
		ife WEAPON_GLOW YES
				{
				state crystal_glow
				rotatespritea x y NNORMALSIZE 0 5439 crystal_shade 21 2 -255 windowx1 windowy1 windowx2 windowy2
				}
		}

    }
 }

ends


// ZAXTOR'S SONIC RPG

defstate draw_z_rpg // RPG_WEAPON:

  set x 235
  set WEAP_DISP_TEMP4 WEAPSWAYX
  divvar WEAP_DISP_TEMP4 2
  sub x WEAP_DISP_TEMP4
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

switch weaponcount
case 0
case 1
case 10
case 11
case 12
case 13
case 14
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 2544 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  sub x 60
  sub y 40
 displayrandvar M60FLASH 2048
  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 60
  add y 40
  rotatesprite x y 40960 0 2545 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
add x 10
add y 10
  sub x 60
  sub y 40
 displayrandvar M60FLASH 2048
  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 60
  add y 40
  rotatesprite x y 40960 0 2545 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
case 8
case 9
  add x KICKBACKPIC
  add y KICKBACKPIC
  set GUN_PUSHBACK_DISPLAY KICKBACKPIC
  rotatesprite x y 40960 0 2544 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ZAXTOR'S PLASMA CANNON

defstate draw_z_plasma_rpg // RPG_WEAPON

  set x 235
  set WEAP_DISP_TEMP4 WEAPSWAYX
  divvar WEAP_DISP_TEMP4 2
  sub x WEAP_DISP_TEMP4
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

switch weaponcount
case 0
case 1
case 10
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 19918 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  sub x 60
  sub y 40
 displayrandvar M60FLASH 2048
  rotatespritea x y 20000 M60FLASH 16114 0 8 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 60
  add y 40
  rotatesprite x y 40960 0 19919 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
add x 10
add y 10
  sub x 60
  sub y 40
 displayrandvar M60FLASH 2048
  rotatespritea x y 20000 M60FLASH 16114 0 8 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 60
  add y 40
  rotatesprite x y 40960 0 19919 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
case 8
case 9
  add x KICKBACKPIC
  add y KICKBACKPIC
  set GUN_PUSHBACK_DISPLAY KICKBACKPIC
  rotatesprite x y 40960 0 19918 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
	
ends


// ZAXTOR'S DEVISTATOR

defstate DISP_zaxdevi

  set x 275
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 238
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 161 320

 switch weaponcount
 case 0
  rotatesprite x y NORMALSIZE 0 2510 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 250
  rotatesprite x y NORMALSIZE 1024 2510 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
 case 1
  ife ALT_DEVI_CYCLE 0
   {
   rotatesprite x y NORMALSIZE 0 2511 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 250
  rotatesprite x y NORMALSIZE 1024 2510 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
   }
   else
   {
   rotatesprite x y NORMALSIZE 0 2510 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 250
  rotatesprite x y NORMALSIZE 1024 2511 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
   }
  break
  case 2
		ife ALT_DEVI_CYCLE 0
	   {
	  add y 10
		rotatesprite x y NORMALSIZE 0 2511 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub y 10
	  sub x 250
	  rotatesprite x y NORMALSIZE 1024 2510 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  }
	  else
	   {
	   rotatesprite x y NORMALSIZE 0 2510 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 250
	   add y 10
	  rotatesprite x y NORMALSIZE 1024 2511 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	   sub y 10
	  }
  break
  case 3
		ife ALT_DEVI_CYCLE 0
	   {
	  add y 5
		rotatesprite x y NORMALSIZE 0 2511 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub y 5
	  sub x 250
	  rotatesprite x y NORMALSIZE 1024 2510 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  }
	  else
	   {
	   rotatesprite x y NORMALSIZE 0 2510 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 250
	   add y 5
	  rotatesprite x y NORMALSIZE 1024 2511 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	   sub y 5
	  }
  break
  case 4
   rotatesprite x y NORMALSIZE 0 2510 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 250
  rotatesprite x y NORMALSIZE 1024 2510 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// ZAXTOR'S FIRESTORM

defstate DISP_zaxfirestorm

  set x 275
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 238
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

 switch weaponcount
 case 0
  rotatesprite x y NORMALSIZE 0 5396 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 250
  rotatesprite x y NORMALSIZE 1024 5396 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
 case 1
  ife WEAP_DISP_TEMP 0
   {
   rotatesprite x y NORMALSIZE 0 5399 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 250
  rotatesprite x y NORMALSIZE 1024 5396 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
   }
   else
   {
   rotatesprite x y NORMALSIZE 0 5396 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 250
  rotatesprite x y NORMALSIZE 1024 5399 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
   }
  break
  case 2
		ife WEAP_DISP_TEMP 0
	   {
	   set GUN_PUSHBACK_DISPLAY 10
		state gunpushback_display
	   
	  rotatesprite x y NORMALSIZE 0 5397 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  sub x 250
	  sub x GUN_PUSHBACK_DISPLAY
	  sub y GUN_PUSHBACK_DISPLAY
	  rotatesprite x y NORMALSIZE 1024 5396 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
	  }
	  else
	   {
	   rotatesprite x y NORMALSIZE 0 5396 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  sub x 250
	   set GUN_PUSHBACK_DISPLAY 10
		 ifg GUN_PUSHBACK_DISPLAY 0
		{
		sub x GUN_PUSHBACK_DISPLAY
		add y GUN_PUSHBACK_DISPLAY
		sub GUN_PUSHBACK_DISPLAY 1
		}
	  rotatesprite x y NORMALSIZE 1024 5397 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
	  }
  break
  case 3
		ife WEAP_DISP_TEMP 0
	   {
	  state gunpushback_display
	  rotatesprite x y NORMALSIZE 0 5397 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  sub x 250
	  sub x GUN_PUSHBACK_DISPLAY
	  sub y GUN_PUSHBACK_DISPLAY
	  rotatesprite x y NORMALSIZE 1024 5396 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
	  }
	  else
	   {
	   rotatesprite x y NORMALSIZE 0 5396 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	  sub x 250
	  	 ifg GUN_PUSHBACK_DISPLAY 0
		{
		sub x GUN_PUSHBACK_DISPLAY
		add y GUN_PUSHBACK_DISPLAY
		sub GUN_PUSHBACK_DISPLAY 1
		}
	  rotatesprite x y NORMALSIZE 1024 5397 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
	  }
  break
  case 4
   ifg WEAP_DISP_TEMP 0 set WEAP_DISP_TEMP 0 else set WEAP_DISP_TEMP 1
   ife WEAP_DISP_TEMP 1 state gunpushback_display
   rotatesprite x y NORMALSIZE 0 5396 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2

  sub x 250
   ife WEAP_DISP_TEMP 0
   {
   	  	 ifg GUN_PUSHBACK_DISPLAY 0
		{
		sub x GUN_PUSHBACK_DISPLAY
		add y GUN_PUSHBACK_DISPLAY
		sub GUN_PUSHBACK_DISPLAY 1
		}
	} 
  rotatesprite x y NORMALSIZE 1024 5396 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// ZAXTOR'S SHOTGUN===============================================================================================================

defstate draw_z_shotgun
  set x 205
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 25
case 26
case 27
case 28
case 29
case 30
case 31
  ife player[].weapon_pos 8 sound SELECT_WEAPON
  state wep_drawup
  state gunpushback_display
  
	sub x 77
	add y 18
	rotatesprite x y 45056 0 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 77
	sub y 18

  rotatesprite x y 49152 WEAP_DISP_TEMP2 11108 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 44
  sub y 48
  rotatespritea x y 34000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 77
	add y 18
	rotatesprite x y 45056 0 9009 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 77
	sub y 18
  
  rotatesprite x y 49152 0 11109 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 6
  sub x 44
  sub y 48
  rotatespritea x y 40000 M60FLASH 16114 15 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 77
	add y 18
	rotatesprite x y 45056 0 9009 0 108 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 77
	sub y 18

  rotatesprite x y 49152 0 11109 shade 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  sub y 7
  add x 15
  set M60FLASH 0
  
	sub x 77
	add y 18
	rotatesprite x y 45056 16 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 77
	sub y 18
  rotatesprite x y 49152 16 11108 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  add x 15
  
	sub x 78
	add y 10
	rotatesprite x y 45056 32 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 78
	sub y 10

  rotatesprite x y 49152 32 11110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  add x 27
  
	sub x 78
	add y 8
	rotatesprite x y 45056 48 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 78
	sub y 8
  rotatesprite x y 49152 48 11110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  add x 27
  
	sub x 78
	rotatesprite x y 49248 0 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 78

  rotatesprite x y 49152 0 11111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  add x 40
  
	sub x 78
	rotatesprite x y 49248 16 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 78
  
  rotatesprite x y 49152 16 11111 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  add x 35
  
	sub x 75
	add y 18
	rotatesprite x y 49248 16 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 75
	sub y 18
	  
  rotatesprite x y 49152 0 11112 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ZAXTOR'S QUAD SHOTGUN =========================================================================================================================

defstate draw_z_quadshot
  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  state gunpushback_display

switch weaponcount
case 0
case 1
case 4
case 38
  ife player[].weapon_pos 8 sound SELECT_WEAPON
  state wep_drawup 
	sub x 2
	add y 12
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 2613 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	add x 2
	sub y 12

  rotatesprite x y 49152 WEAP_DISP_TEMP2 8316 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  displayrandvar GUN_PUSHBACK_DISPLAY 15
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
    sub x 55
  sub y 20
  rotatespritea x y 24000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 20
	sub x 2
	add y 12
	rotatesprite x y NORMALSIZE 0 2613 0 107 8 windowx1 windowy1 windowx2 windowy2
	add x 2
	sub y 12
  rotatesprite x y 49152 0 8317 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7

case 11
case 12
case 13

	sub x 2
	add y 12
	rotatesprite x y NORMALSIZE 0 2617 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	add x 2
	sub y 12

  rotatesprite x y 49152 0 8318 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
	add x 8
	add y 14
	rotatesprite x y NORMALSIZE 0 2617 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	sub x 8
	sub y 14

  rotatesprite x y 49152 0 8319 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  rotatesprite x y 49152 0 8320 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
  rotatesprite x y 49152 0 8321 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
add x 5
add y 5
  rotatesprite x y 49152 0 8321 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 28
  add x 10
  add y 10
  rotatesprite x y 49152 0 8322 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 27
  add x 15
  add y 15
  rotatesprite x y 49152 0 8322 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 25
case 26
  add x 20
  add y 20
  rotatesprite x y 49152 0 8322 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 29
case 30
case 31
add x 5
add y 5
  rotatesprite x y 49152 0 8322 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 32
case 33
case 34
  rotatesprite x y 49152 0 8322 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
  rotatesprite x y 49152 0 8367 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
ends

// DP-12 SHOTGUN ===============================================================================================================

defstate draw_dp_12

  set x 216
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
 //  ifl y 158 set y 158


switch weaponcount
case 0
case 1
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 2613 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 36864 WEAP_DISP_TEMP2 8309 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  break
case 2
  displayrandvar M60FLASH 2048
  sub x 35
  sub y 30
  rotatespritea x y 18000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 35
  add y 30
  rotatesprite x y NORMALSIZE 0 2613 0 107 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 36864 0 8310 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  displayrandvar M60FLASH 2048
  sub x 35
  sub y 30
  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 35
  add y 30
  rotatesprite x y NORMALSIZE 0 2613 0 107 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 36864 0 8310 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 28
case 29
case 30
case 31
  sub y 15
  add x 15
  rotatesprite x y 36864 32 8311 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 27
  add y 25
  rotatesprite x y 49152 32 2617 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
case 8
case 24
case 25
case 26
case 27
sub y 25
  add x 15
  rotatesprite x y 36864 32 8312 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 23
  add y 5
  rotatesprite x y 61444 32 2617 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 20
case 21
case 22
case 23
  sub y 30
  rotatesprite x y 36864 0 8313 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 6
  sub y 5
  rotatesprite x y 61444 0 2618 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 18
case 19
  sub y 15
  rotatesprite x y 36864 0 8314 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 5
  add y 5
  rotatesprite x y 61444 0 2619 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 17
  rotatesprite x y 36864 32 8314 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 5
  add y 5
  rotatesprite x y 61444 32 2619 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch


ends


// ZAXTOR'S GOLD SHOTGUN===============================================================================================================

defstate draw_z_goldshotgun

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 25
case 26
case 27
case 28
case 29
case 30
case 31
  ife player[].weapon_pos 8 sound SELECT_WEAPON
  state wep_drawup
  state gunpushback_display
  
	sub x 75
	add y 40
	rotatesprite x y 45056 0 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 75
	sub y 40

  rotatesprite x y 49152 WEAP_DISP_TEMP2 19767 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 44
  sub y 48
  rotatespritea x y 34000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 75
	add y 40
	rotatesprite x y 45056 0 9009 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 75
	sub y 40
  
  rotatesprite x y 49152 0 19768 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 6
  sub x 44
  sub y 48
  rotatespritea x y 40000 M60FLASH 16114 15 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 75
	add y 40
	rotatesprite x y 45056 0 9009 0 108 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 75
	sub y 40

  rotatesprite x y 49152 0 19768 shade 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  sub y 7
  add x 15
  set M60FLASH 0
  
	sub x 75
	add y 40
	rotatesprite x y 45056 16 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 75
	sub y 40
  rotatesprite x y 49152 16 19767 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  add x 15
  
	sub x 76
	add y 10
	rotatesprite x y 45056 32 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 76
	sub y 10

  rotatesprite x y 49152 32 19769 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  add x 27
  
	sub x 76
	add y 8
	rotatesprite x y 45056 48 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 76
	sub y 8
  rotatesprite x y 49152 48 19769 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  add x 27
  
	sub x 78
	rotatesprite x y 49248 0 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 78

  rotatesprite x y 49152 0 19770 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  add x 40
  
	sub x 78
	rotatesprite x y 49248 16 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 78
  
  rotatesprite x y 49152 16 19770 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  add x 35
  
	sub x 70
	add y 18
	rotatesprite x y 49248 16 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 70
	sub y 18
	  
  rotatesprite x y 49152 0 19771 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ZAXTOR'S DUEL SMGS===============================================================================================================

defstate OTHERONE4
ifand GUNFIREMODE 1024 
{
  set x 90
  sub x WEAPSWAYX
  sub x weapon_xoffset
  add x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  state gunpushback_display
  set tilenum 5625
  
  switch KICKBACKPIC_2
  case 2
	displayrandvar WEAP_DISP_TEMP4 5
    sub x WEAP_DISP_TEMP4
    add y WEAP_DISP_TEMP4

  sub y 40
  add x 40
  mulvar M60FLASH -1
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  sub x 40
  set tilenum 5626
  break
  endswitch
  rotatesprite x y 57344 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
}
ends


defstate drawzsmg

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
    ifand GUNFIREMODE 16384
	{
	add x 20
	add y 20
	}

switch weaponcount
case 0
case 1
case 3
case 4
  set tilenum 5625
  state gunpushback_display
  rotatesprite x y 57344 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state OTHERONE4
  break
case 2
  	displayrandvar GUN_PUSHBACK_DISPLAY 5
    add x GUN_PUSHBACK_DISPLAY
    add y GUN_PUSHBACK_DISPLAY
	
	state gunpushback_display
 
    sub y 40
    sub x 40
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 40
  set tilenum 5626
  rotatesprite x y 57344 0 tilenum 0 0 0 windowx1 windowy1 windowx2 windowy2
state OTHERONE4
  break
endswitch
ends

// ZAXTOR'S SUPER GALIL ================================================================================================


defstate draw_zsgalil

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 4
case 5
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
  state wep_drawup
   state gunpushback_display
  	sub x 65
	add y 24
	rotatesprite x y 40960 0 9009 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // HAND
	add x 65
	sub y 24
  rotatesprite x y 40960 WEAP_DISP_TEMP2 16016 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 40
  ifand GUNFIREMODE_2 128 
	{
	rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 5620 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
	
	ifand GUNFIREMODE_2 4
			{
			add x 10
			add y 10
		   state sg_dup_digit
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 tilenum 0 8 0 -255 windowx1 windowy1 windowx2 windowy2
			}
	
	}
  else ifand GUNFIREMODE_2 2 rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 16019 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  else ifand GUNFIREMODE_2 1 ifg heat_seek_card 0
	{
	state sg_heat_digit
	rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	ifand GUNFIREMODE_2 4
			{
			add x 10
			add y 10
		    state sg_dup_digit
		   rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 tilenum 0 8 0 -255 windowx1 windowy1 windowx2 windowy2
			}
	}
  break
case 2
case 3
  	displayrandvar GUN_PUSHBACK_DISPLAY 10
    add x GUN_PUSHBACK_DISPLAY
    add y GUN_PUSHBACK_DISPLAY
			sub y 45
			sub x 55
			state random_AR_flash
			rotatespritea x y 22000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // muzzleflash
		  add y 45
		  add x 55
		  
  	sub x 65
	add y 24
	rotatesprite x y 40960 0 9009 0 107 0 windowx1 windowy1 windowx2 windowy2 // HAND
	add x 65
	sub y 24
		  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 16017 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // GUN
  sub x 40
	  ifand GUNFIREMODE_2 4 rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 16020 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  else ifand GUNFIREMODE_2 2 rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 16019 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  else ifand GUNFIREMODE_2 1 ifg heat_seek_card 0
		{
		state sg_heat_digit
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
  break
case 6
			sub y 45
			sub x 55
			displayrandvar M60FLASH 2048
			rotatespritea x y 22000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // muzzleflash
		  add y 45
		  add x 55
		  
  	sub x 65
	add y 24
	rotatesprite x y 40960 0 9009 0 106 0 windowx1 windowy1 windowx2 windowy2 // HAND
	add x 65
	sub y 24
  
		  
  rotatespritea x y 40960 WEAP_DISP_TEMP2 16017 shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2 // gun
  sub x 40
	  ifand GUNFIREMODE_2 4 rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 16020 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  else ifand GUNFIREMODE_2 2 rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 16019 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  else ifand GUNFIREMODE_2 1 ifg heat_seek_card 0
		{
		state sg_heat_digit
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
    set GUN_PUSHBACK_DISPLAY 20
    add x GUN_PUSHBACK_DISPLAY
    add y GUN_PUSHBACK_DISPLAY
  break
endswitch
ends

// ZAXTOR'S GOLD RIFLE ================================================================================================

defstate draw_gold_zrifle

  set x 241
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 157 set y 157
  
  ifand GUNFIREMODE 16384 { add x 20 add y 20 set WEAP_DISP_TEMP9 50000 }
else set WEAP_DISP_TEMP9 40920 
  

switch weaponcount
case 0
case 1
case 4
  state gunpushback_display
  state wep_drawup  
  
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 14627 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  ife HANDS_DRAW 2
  {
  	sub x 80
	add y 32
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 80
	sub y 32
  }
  
  sub x 25
  sub y 25
  state gold_sparkle
  add x 25
  add y 25
  break
case 2
case 3
  	displayrandvar GUN_PUSHBACK_DISPLAY 5
    add x GUN_PUSHBACK_DISPLAY
    add y GUN_PUSHBACK_DISPLAY
 
 ifand GUNFIREMODE 16384
	{
	sub y 10
	sub x 10
	}
 
    sub y 30
    sub x 60
  state random_AR_flash
  rotatespritea x y 24000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  
 ifand GUNFIREMODE 16384
	{
	add y 10
	add x 10
	}
  
  add y 30
  add x 60
  rotatesprite x y WEAP_DISP_TEMP9 0 14628 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  ife HANDS_DRAW 2
  {
   	sub x 80
	add y 32
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade 107 0 windowx1 windowy1 windowx2 windowy2
	add x 80
	sub y 32
  }
  
  break
endswitch
ends

// ZAXTOR'S MP5K ================================================================================================

defstate draw_mp5k

   set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display

  rotatesprite x y 45056 WEAP_DISP_TEMP2 22646 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 40
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 40
  

  rotatesprite x y 45056 0 22647 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display

  rotatesprite x y 45056 8 22646 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 26
case 27
  add y 5
  rotatesprite x y 45056 16 22646 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 24
case 25
  add y 5
    rotatesprite x y 45056 0 22648 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 22
case 23
    ife weaponcount 32 add y 5
    rotatesprite x y 45056 0 22649 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 20
case 21
    rotatesprite x y 45056 0 22650 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
  add y 5
    rotatesprite x y 45056 0 22651 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ZAXTOR'S DUEL APSMGS===============================================================================================================

defstate OTHERONE5
ifand GUNFIREMODE 1024 
{
  set x 65
  sub x weapon_xoffset
  add x looking_angSR1
      
  set y 230
  add y looking_arc
  sub y gun_pos
  
  set tilenum 13366
  
  switch KICKBACKPIC_2
  case 2
	displayrandvar WEAP_DISP_TEMP4 5
    sub x WEAP_DISP_TEMP4
    add y WEAP_DISP_TEMP4

  sub y 10
  add x 50
  mulvar M60FLASH -1
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 10
  sub x 50
  set tilenum 13367
  break
  endswitch

  rotatesprite x y 40960 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
}
ends


defstate draw_rc_zsmg

  set x 260
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  add y looking_arc
  sub y gun_pos
  
  ifand GUNFIREMODE 16384
	{
	add x 20
	add y 20
	}

switch weaponcount
case 0
case 1
case 4
  set tilenum 13366
   rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state OTHERONE5
  break
case 2
case 3
  	displayrandvar WEAP_DISP_TEMP4 5
    add x WEAP_DISP_TEMP4
    add y WEAP_DISP_TEMP4
 
    sub y 10
    sub x 55
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 10
  add x 55
  set tilenum 13367
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
state OTHERONE5
  break
endswitch
ends

defstate draw_petrify
 ifg weaponcount 0 
 { 
    displayrandvar GUN_PUSHBACK_DISPLAY 3
	displayrandvar WEAP_DISP_TEMP 1
	ife WEAP_DISP_TEMP 1 mulvar GUN_PUSHBACK_DISPLAY -1
	displayrandvar WEAP_DISP_TEMP 1
	ife WEAP_DISP_TEMP 1 mulvar GUN_PUSHBACK_DISPLAY -1
  
//  set gun_pos 5
  set x 230
  add x weapon_xoffset
  getp[].look_ang temp
  divvar temp 2
  sub x temp
  set y 271
  add y looking_arc
  sub y gun_pos
  set tilenum 2549
  add tilenum 1
  set gs shade
  sub gs 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  myospal x y tilenum gs orientation wep_pal

  
  sub y 31
  sub x 43 
  set wp_temp weaponcount // ex, 33
  divvar wp_temp 6 // 33/6= 5
  mulvar wp_temp 6 // 5 * 6 = 30
  set temp weaponcount 
  sub temp wp_temp // 30 - 33 = 3

  switch temp
  default
  addlogvar temp // this is an error.... we should not have an unexpected value
  break
  case 0
  case 1
  set wp_temp 1
  break
  case 2
  case 3
  set wp_temp 2
  break
  case 4
  case 5
  set wp_temp 3
  break
  endswitch
  add tilenum wp_temp
  myospal x y tilenum gs orientation wep_pal
  
  state reverse_shade
  add tilenum 3548
  // rotatespritea x y NORMALSIZE 0 tilenum rev_shade 0 1 -1 windowx1 windowy1 windowx2 windowy2
  

  
//  wp_temp
 } 
 else
 {
  set x 240
  add x weapon_xoffset
  getp[].look_ang temp
  divvar temp 2
  sub x temp
  sub x WEAPSWAYX
  set y 256
  add y looking_arc
  sub y gun_pos
  sub y WEAPSWAYY
  ifl y 180 set y 180
  state wep_drawup
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 2549 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NNORMALSIZE WEAP_DISP_TEMP2 2547 0 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  rotatespritea x y NNORMALSIZE WEAP_DISP_TEMP2 5493 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  }
 }
ends

// PUNCH===============================================================================================================

defstate JSPUNCH


ife CHAR 0 set tilenum 5186
ife CHAR 2 set tilenum 4971
ife CHAR 3 set tilenum 12246
ife CHAR 4 
	{
	ifand CHAR_APP 2 set tilenum 23895 else
	set tilenum 12237
	}
ife CHAR 5 set tilenum 12237
ife CHAR 6 set tilenum 12234
ife CHAR 7 set tilenum 12240
ife CHAR 9 set tilenum 12237
ife CHAR 10 set tilenum 12243
ife CHAR 11 set tilenum 4971
ife CHAR 12 set tilenum 12240
ife CHAR 13 set tilenum 16445
ife CHAR 14 
	{
	ife TIMEZONE 6 set tilenum 12237 else
	set tilenum 20872
	}
ife CHAR 15 set tilenum 12237
	
  set x 250
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 254
  add y looking_arc
  sub y gun_pos
  
  set x2 100
  add x2 weapon_xoffset
  sub x2 looking_angSR1
  set y2 264
  add y2 looking_arc
  sub y2 gun_pos

switch weaponcount
case 0
ifn MELEE_LOCKED_ON -1
	{
  ife CHAR 0 ifand CHAR_APP 1 ifn TIMEZONE 2 myospal x y 19866 shade 0 wep_pal else
  myospal x y tilenum shade 0 wep_pal
  myospal x2 y2 tilenum shade 4 wep_pal
	}
  break
case 1
case 2
sub y 5
  ife CHAR 0 ifand CHAR_APP 1 ifn TIMEZONE 2 myospal x y 19866 shade 0 wep_pal else
  myospal x y tilenum shade 0 wep_pal // right hook
 break
case 3
case 4
case 5
  add tilenum 1
  sub y 10
  ife CHAR 0 ifand CHAR_APP 1 ifn TIMEZONE 2 myospal x y 19867 shade 0 wep_pal else
  myospal x y tilenum shade 0 wep_pal // right hook
break
case 6
case 7
case 8
  add tilenum 2
  sub y 10
  ife CHAR 0 ifand CHAR_APP 1 ifn TIMEZONE 2 myospal x y 19868 shade 0 wep_pal else
  myospal x y tilenum shade 0 wep_pal // right hook
break
case 9
case 10
case 11
  sub y2 5
  myospal x2 y2 tilenum shade 4 wep_pal // left hook
  ife CHAR 0 ifand CHAR_APP 1 ifn TIMEZONE 2 myospal x y 19867 shade 0 wep_pal else
  myospal x y tilenum shade 0 wep_pal // right hook
 break
case 12
case 13
  sub y2 10
  add tilenum 1
  myospal x2 y2 tilenum shade 4 wep_pal // left hook
  sub tilenum 1
  ife CHAR 0 ifand CHAR_APP 1 ifn TIMEZONE 2 myospal x y 19866 shade 0 wep_pal else
  myospal x y tilenum shade 0 wep_pal // right hook
break
case 14
case 15
  add tilenum 2
   sub y2 10
  myospal x2 y2 tilenum shade 4 wep_pal // left hook
  break
case 16
case 17
  add tilenum 1
  myospal x2 y2 tilenum shade 4 wep_pal // left hook
break

endswitch
ends

//JAMES SUPER PUNCH (I SHALL ANSWER YOU WITH MY FISTS)===============================================================
defstate JSORAORAPUNCH
switch weaponcount
case 0
  break
case 1
  set x 250
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 254
  add y looking_arc
  sub y gun_pos
  set tilenum 5186
  myospal x y tilenum shade 0 wep_pal
 break
case 3
case 5
  set x 250
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 255
  add y looking_arc
  sub y gun_pos
  set tilenum 5190
  myospal x y tilenum shade 0 wep_pal
break
case 4
  set x 210
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 234
  add y looking_arc
  sub y gun_pos
  set tilenum 5189
  myospal x y tilenum 0 0 wep_pal
break

case 6
  set x 100
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 254
  add y looking_arc
  sub y gun_pos
  set tilenum 5186
  myospal x y tilenum shade 4 wep_pal
 break
case 7
case 9
  set x 110
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 255
  add y looking_arc
  sub y gun_pos
  set tilenum 5190
  myospal x y tilenum shade 4 wep_pal
break
case 8
  set x 70
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 234
  add y looking_arc
  sub y gun_pos
  set tilenum 5189
  myospal x y tilenum 0 4 wep_pal
break

endswitch
ends

//HIGHWIRE'S SNIPER RIFLE===============================================================================================================

defstate drawrrifle

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
	case 0
	case 1
	case 3
	case 4
	ife SCOPE 0
		{
			state wep_drawup
			state gunpushback_display
			  sub x 65
			  add y 16
			  myospal x y C_ARM_2 shade 0 wep_pal
			  add x 65
			  sub y 16
			  
			ife player[].weapon_pos 9 soundonce SELECT_WEAPON

			rotatesprite x y 40960 WEAP_DISP_TEMP2 5951 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		}
	  break
	case 2
	displayrandvar GUN_PUSHBACK_DISPLAY 10
	  add x GUN_PUSHBACK_DISPLAY
	  add y GUN_PUSHBACK_DISPLAY
	  sub x 55
	  sub y 60
	  state random_AR_flash
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 60

	  	  sub x 65
		  add y 16
		  myospal x y C_ARM_2 0 0 107
		  add x 65
		  sub y 16
	  
	  
	  rotatesprite x y 40960 0 5952 0 0 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  state gunpushback_display
	  rotatesprite x y 40960 0 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 30
	case 31
	case 32
	case 33
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 5954 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 55
	  add y 15
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 16
	case 17
	case 34
	case 35
	  sub y 15
	  rotatesprite x y 40960 0 5955 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 25
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 5956 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 5953 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	
ends

// RIOT SHIELD ===============================================================================================================

defstate drawriotshield

  set x 70
  sub x WEAPSWAYX
  sub x weapon_xoffset
  add x looking_angSR1

  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  
  
    ifg SHIELD_SHAKE 0
	{
	displayrandvarvar SHAKE_RAND SHIELD_SHAKE
	add x SHAKE_RAND
	add y SHAKE_RAND
	sub SHIELD_SHAKE 1
	}
 
  ife GUN_HANDS 1 
	{
	set WEAP_DISP_TEMP SHIELDUP
	mulvar WEAP_DISP_TEMP 6
	sub y WEAP_DISP_TEMP
	}
	else
	{
	set WEAP_DISP_TEMP2 225
	set WEAP_DISP_TEMP SHIELDUP
	mulvar WEAP_DISP_TEMP 6
	sub WEAP_DISP_TEMP2 WEAP_DISP_TEMP
	set y WEAP_DISP_TEMP2
	}
  
  ifand GUNFIREMODE 16384 
	{
	sub x 15
	add y 15
	}
  
  
  rotatesprite x y HALFSIZE 0 22751 shade wep_pal 256 windowx1 windowy1 windowx2 windowy2
  ifg RIOTSHIELD 120 set tilenum 22752
  else ifg RIOTSHIELD 90 set tilenum 22753
  else ifg RIOTSHIELD 60 set tilenum 22754
  else ifg RIOTSHIELD 30 set tilenum 22755
  else set tilenum 22756
  rotatespritea x y HALFSIZE 0 tilenum shade wep_pal 256 64 windowx1 windowy1 windowx2 windowy2

ends

// WOOD SHIELD ===============================================================================================================

defstate draw_wood_shield

  set x 70
  sub x WEAPSWAYX
  sub x weapon_xoffset
  add x looking_angSR1

  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  
  
    ifg SHIELD_SHAKE 0
	{
	displayrandvarvar SHAKE_RAND SHIELD_SHAKE
	add x SHAKE_RAND
	add y SHAKE_RAND
	sub SHIELD_SHAKE 1
	}
 
  ife GUN_HANDS 1 
	{
	set WEAP_DISP_TEMP SHIELDUP
	mulvar WEAP_DISP_TEMP 6
	sub y WEAP_DISP_TEMP
	}
	else
	{
	set WEAP_DISP_TEMP2 225
	set WEAP_DISP_TEMP SHIELDUP
	mulvar WEAP_DISP_TEMP 6
	sub WEAP_DISP_TEMP2 WEAP_DISP_TEMP
	set y WEAP_DISP_TEMP2
	}
  
  ifand GUNFIREMODE 16384 
	{
	sub x 15
	add y 15
	}
  
  
  
  ifg RIOTSHIELD 110 set tilenum 23910
  else ifg RIOTSHIELD 90 set tilenum 23911
  else ifg RIOTSHIELD 60 set tilenum 23912
  else ifg RIOTSHIELD 30 set tilenum 23913
  else set tilenum 23914
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 256 windowx1 windowy1 windowx2 windowy2

ends

// BIG WOOD SHIELD ===============================================================================================================

defstate draw_big_wood_shield

  set x 70
  sub x WEAPSWAYX
  sub x weapon_xoffset
  add x looking_angSR1

  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  
  
    ifg SHIELD_SHAKE 0
	{
	displayrandvarvar SHAKE_RAND SHIELD_SHAKE
	add x SHAKE_RAND
	add y SHAKE_RAND
	sub SHIELD_SHAKE 1
	}
 
  ife GUN_HANDS 1 
	{
	set WEAP_DISP_TEMP SHIELDUP
	mulvar WEAP_DISP_TEMP 6
	sub y WEAP_DISP_TEMP
	}
	else
	{
	set WEAP_DISP_TEMP2 225
	set WEAP_DISP_TEMP SHIELDUP
	mulvar WEAP_DISP_TEMP 6
	sub WEAP_DISP_TEMP2 WEAP_DISP_TEMP
	set y WEAP_DISP_TEMP2
	}
  
  ifand GUNFIREMODE 16384 
	{
	sub x 15
	add y 15
	}
  
  ifg RIOTSHIELD 110 set tilenum 23910
  else ifg RIOTSHIELD 90 set tilenum 23911
  else ifg RIOTSHIELD 60 set tilenum 23912
  else ifg RIOTSHIELD 30 set tilenum 23913
  else set tilenum 23914
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 256 windowx1 windowy1 windowx2 windowy2

ends

// MERLIJN SHIELD ===============================================================================================================

defstate drawshield

  set x 70
  sub x WEAPSWAYX
  sub x weapon_xoffset
  add x looking_angSR1

  set y 215
  sub y WEAPSWAYY
  add y looking_arc
  
  ifg SHIELD_SHAKE 0
	{
	displayrandvarvar SHAKE_RAND SHIELD_SHAKE
	add x SHAKE_RAND
	add y SHAKE_RAND
	sub SHIELD_SHAKE 1
	}
  
  ife GUN_HANDS 1 
	{
	set WEAP_DISP_TEMP MSHIELDUP
	mulvar WEAP_DISP_TEMP 6
	sub y WEAP_DISP_TEMP
	}
	else
	{
	set WEAP_DISP_TEMP2 225
	set WEAP_DISP_TEMP MSHIELDUP
	mulvar WEAP_DISP_TEMP 6
	sub WEAP_DISP_TEMP2 WEAP_DISP_TEMP
	set y WEAP_DISP_TEMP2
	}
  
  ifand GUNFIREMODE 16384 
	{
	sub x 15
	add y 15
	}

  
  ife MSHIELDTYPE 0
  {
  ifg MERLIJNSHIELD 75 set tilenum 4988
  else ifg MERLIJNSHIELD 50 set tilenum 4989 
  else ifg MERLIJNSHIELD 25 set tilenum 4990
  else ifg MERLIJNSHIELD 0 set tilenum 4991
  else ifl MERLIJNSHIELD 1 set tilenum 3833
  }
  else
  ife MSHIELDTYPE 1
  {
  ifg MERLIJNSHIELD 175 set tilenum 5012
  else ifg MERLIJNSHIELD 125 set tilenum 5013 
  else ifg MERLIJNSHIELD 75 set tilenum 5014
  else ifg MERLIJNSHIELD 50 set tilenum 5015
  else ifg MERLIJNSHIELD 0 set tilenum 5016
  else ifl MERLIJNSHIELD 1 set tilenum 3833
  }
  rotatesprite x y 30720 0 tilenum shade wep_pal 256 windowx1 windowy1 windowx2 windowy2

ends

// MERLIJN'S DAGGER===============================================================================================================

defstate drawmknife

  set x 250
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 205
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 165 320

ife KNIFE_ATTACK 28
switch weaponcount
case 0
case 14
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife player[].weapon_pos -9 ife PLAYERONTHEBIKE 1 add y 60
  else 
	{
  	  sub y 50
	  sub x 25
	  rotatesprite x y 45056 78 4980 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 50
	  add x 25
	  rotatesprite x y 62000 0 10243 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  	  sub y 50
	  sub x 25
	  rotatesprite x y 45056 78 14593 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
  break
case 1
case 2
  sub y 60
  rotatesprite x y 45056 0 4981 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // dagger
  add y 60
  rotatesprite x y NNORMALSIZE 128 10240 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 3
case 4
	  sub y 49
	  sub x 13
	  rotatesprite x y 45056 0 4980 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 49
	  add x 13
	  rotatesprite x y NNORMALSIZE -64 10240 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 5
case 12
add y 20
	  sub y 15
	  sub x 32
	  rotatesprite x y 45056 0 4982 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 15
	  add x 32
	  rotatesprite x y 55000 0 10242 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
 break
case 6
case 13
sub x 15
add y 30
	  sub y 15
	  sub x 32
	  rotatesprite x y 45056 0 4982 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 15
	  add x 32
	  rotatesprite x y 55000 0 10242 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 7
case 8
case 11
sub x 30
add y 40
	  sub y 15
	  sub x 32
	  rotatesprite x y 45056 -32 4982 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 15
	  add x 32
	  rotatesprite x y 55000 -32 10242 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 9
case 10
sub x 45
add y 50
	  sub y 8
	  sub x 25
	  rotatesprite x y 45056 0 4983 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 8
	  add x 25
	  rotatesprite x y 55000 -32 10242 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
endswitch

ends

// MERLIJN'S GOLD DAGGER===============================================================================================================

defstate drawm_gold_knife
  set x 250
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 205
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 165 320

ife KNIFE_ATTACK 28
switch weaponcount
case 0
case 14
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife player[].weapon_pos -9 ife PLAYERONTHEBIKE 1 add y 60
  else 
	{
	  sub y 47
	  sub x 15
	  rotatesprite x y 40960 64 4984 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 47
	  add x 15
	  rotatesprite x y NNORMALSIZE 0 10240 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	  sub y 47
	  sub x 15
	  rotatesprite x y 40960 64 14592 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
  break
case 1
case 2
  sub y 60
  rotatesprite x y 45056 0 4985 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // dagger
  add y 60
  rotatesprite x y NNORMALSIZE 128 10240 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 3
case 4
	  sub y 47
	  sub x 15
	  rotatesprite x y 40960 0 4984 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 44
	  add x 18
	  rotatesprite x y NNORMALSIZE -64 10240 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	  sub y 44
	  sub x 18
	  rotatesprite x y 40960 0 14592 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 12
add y 20
	  sub y 15
	  sub x 32
	  rotatesprite x y 45056 0 4986 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 15
	  add x 32
	  rotatesprite x y 55000 0 10242 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
 break
case 6
case 13
sub x 15
add y 30
	  sub y 15
	  sub x 26
	  rotatesprite x y 40960 0 4986 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 15
	  add x 26
	  rotatesprite x y 55000 0 10242 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 7
case 8
case 11
sub x 30
add y 40
	  sub y 10
	  sub x 27
	  rotatesprite x y 40960 -32 4986 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 10
	  add x 27
	  rotatesprite x y 55000 -32 10242 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 9
case 10
sub x 45
add y 50
	  sub y 8
	  sub x 23
	  rotatesprite x y 40960 0 4987 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add y 8
	  add x 23
	  rotatesprite x y 55000 -32 10242 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
endswitch

ends

// MERLIJN's SWORD===============================================================================================================

gamevar swing_type2 0 1

defstate drawmsword

 ifn WEP2_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP2_BLOODY
	}

switch weaponcount
case 0
  set x 267
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 215
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  set WEAP_DISP_TEMP2 player[].weapon_pos
   ife WEAP_DISP_TEMP2 8 sound DRAW_SWORD
  rotatesprite x y 40960 0 4993 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	add y 67
	add x 20
	rotatesprite x y NNORMALSIZE 0 10314 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  displayrandvar swing_type 1
  break
case 1
case 2
  ife swing_type 1
	  {
	  set x 257
	  set y 130
	  rotatesprite x y 40960 0 10248 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 34
	  rotatesprite x y NNORMALSIZE 0 10318 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  set x 244
	  set y 144
	  rotatesprite x y 40960 0 4994 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	add y 67
	add x 20
	rotatesprite x y NNORMALSIZE 64 10314 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 3
  ife swing_type 1
	  {
	  set x 270
	  set y 124
	  rotatesprite x y 32768 0 10249 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 44
	  add x 8
	  rotatesprite x y NNORMALSIZE 128 10319 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  else
		{
		set x 257
		set y 116
		rotatesprite x y 40960 0 4995 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		add y 74
		add x 5
		rotatesprite x y NNORMALSIZE 0 10314 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		}
  break
case 4
  ife swing_type 1
	  {
	  set x 265
	  set y 128
	  rotatesprite x y 32768 0 10249 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 44
	  add x 8
	  rotatesprite x y NNORMALSIZE 128 10319 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  else
		{
		set x 247
		set y 106
		rotatesprite x y 40960 0 4995 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		add y 74
		add x 5
		rotatesprite x y NNORMALSIZE 0 10314 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		}
  break
case 5
  ife swing_type 1
		  {
		  set x 257
		  set y 138
		  rotatesprite x y 40960 0 10250 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		  add y 24
		  add x 8
		  rotatesprite x y NNORMALSIZE 0 10318 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		  }
  else
		{
		set x 202
		set y 65
		rotatesprite x y 40960 0 4996 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		add y 74
		add x 92
		rotatesprite x y NNORMALSIZE 0 10315 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		}
  break
case 6
  ife swing_type 1
		  {
		  set x 257
		  set y 138
		  rotatesprite x y 40960 0 10250 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		  add y 24
		  add x 8
		  rotatesprite x y NNORMALSIZE 0 10318 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		  }
  else
		{
		set x 192
		set y 75
		rotatesprite x y 40960 0 4996 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		add y 74
		add x 92
		rotatesprite x y NNORMALSIZE 0 10315 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		}
  break
case 7
case 8
  ife swing_type 1
	  {
	  set x 224
	  set y 102
	  rotatesprite x y 40960 0 10251 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 70
	  sub x 14
	  rotatesprite x y NNORMALSIZE 0 10319 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  set x 186
	  set y 95
	  rotatesprite x y 40960 0 4997 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 70
	  add x 85
	  rotatesprite x y NNORMALSIZE 0 10316 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 9
case 10
  ife swing_type 1
	  {
	  set x 184
	  set y 102
	  rotatesprite x y 40960 0 10252 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  set x 170
	  set y 103
	  rotatesprite x y 40960 0 4998 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 110
	  add x 145
	  rotatesprite x y NNORMALSIZE 0 10316 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 11
case 12
  ife swing_type 1
	  {
	  set x 84
	  set y 222
	  rotatesprite x y 40960 0 10252 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  set x 145
	  set y 167
	  rotatesprite x y 40960 0 4999 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 60
	  add x 90
	  rotatesprite x y NNORMALSIZE 0 10317 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  break
endswitch

ends

// MERLIJN's Gold SWORD===============================================================================================================


defstate drawm_gold_sword
 ifn WEP2_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP2_BLOODY
	}

switch weaponcount
case 0
  set x 267
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 215
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  set WEAP_DISP_TEMP2 player[].weapon_pos
   ife WEAP_DISP_TEMP2 8 sound DRAW_SWORD
  rotatesprite x y 40960 0 19782 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	add y 67
	add x 20
	rotatesprite x y NNORMALSIZE 0 10314 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  displayrandvar swing_type 1
  break
case 1
case 2
  ife swing_type 1
	  {
	  set x 257
	  set y 130
	  rotatesprite x y 40960 0 19789 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 34
	  rotatesprite x y NNORMALSIZE 0 10318 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  set x 244
	  set y 144
	  rotatesprite x y 40960 0 19782 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	add y 67
	add x 20
	rotatesprite x y NNORMALSIZE 64 10314 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 3
  ife swing_type 1
	  {
	  set x 270
	  set y 124
	  rotatesprite x y 32768 0 19790 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 44
	  add x 8
	  rotatesprite x y NNORMALSIZE 128 10319 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  else
		{
		set x 257
		set y 116
		rotatesprite x y 40960 0 19783 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		add y 74
		add x 5
		rotatesprite x y NNORMALSIZE 0 10314 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		}
  break
case 4
  ife swing_type 1
	  {
	  set x 265
	  set y 128
	  rotatesprite x y 32768 0 19790 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 44
	  add x 8
	  rotatesprite x y NNORMALSIZE 128 10319 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  else
		{
		set x 247
		set y 106
		rotatesprite x y 40960 0 19783 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		add y 74
		add x 5
		rotatesprite x y NNORMALSIZE 0 10314 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		}
  break
case 5
  ife swing_type 1
		  {
		  set x 257
		  set y 138
		  rotatesprite x y 40960 0 19791 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		  add y 24
		  add x 8
		  rotatesprite x y NNORMALSIZE 0 10318 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		  }
  else
		{
		set x 202
		set y 65
		rotatesprite x y 40960 0 19784 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		add y 74
		add x 92
		rotatesprite x y NNORMALSIZE 0 10315 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		}
  break
case 6
  ife swing_type 1
		  {
		  set x 257
		  set y 138
		  rotatesprite x y 40960 0 19791 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		  add y 24
		  add x 8
		  rotatesprite x y NNORMALSIZE 0 10318 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		  }
  else
		{
		set x 192
		set y 75
		rotatesprite x y 40960 0 19785 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		add y 74
		add x 92
		rotatesprite x y NNORMALSIZE 0 10315 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		}
  break
case 7
case 8
  ife swing_type 1
	  {
	  set x 224
	  set y 102
	  rotatesprite x y 40960 0 19792 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 70
	  sub x 14
	  rotatesprite x y NNORMALSIZE 0 10319 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  set x 186
	  set y 95
	  rotatesprite x y 40960 0 19786 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 70
	  add x 85
	  rotatesprite x y NNORMALSIZE 0 10316 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 9
case 10
  ife swing_type 1
	  {
	  set x 184
	  set y 102
	  rotatesprite x y 40960 0 19793 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  set x 170
	  set y 103
	  rotatesprite x y 40960 0 19787 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 110
	  add x 145
	  rotatesprite x y NNORMALSIZE 0 10316 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 11
case 12
  ife swing_type 1
	  {
	  set x 84
	  set y 222
	  rotatesprite x y 40960 0 19793 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  set x 145
	  set y 167
	  rotatesprite x y 40960 0 19788 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 60
	  add x 90
	  rotatesprite x y NNORMALSIZE 0 10317 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  }
  break
endswitch
ends

// MERLIJN'S GUANDAO ================================================================================

defstate draw_guandao // Guandao

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 210
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
 ifn WEP2_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP2_BLOODY
	}
  
set tilenum 16072
 
ife SWORD_ANIM 0
{
switch weaponcount
case 0
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce GUANDAO_DRAW
  state wep_drawup
  rotatesprite x y M4A1_SIZE WEAP_DISP_TEMP2 16070 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite x y M4A1_SIZE WEAP_DISP_TEMP2 16073 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  
  getp[].angvel WEAP_DISP_TEMP3
  mulvar WEAP_DISP_TEMP3 3
  divvar WEAP_DISP_TEMP3 2
  set WEAP_DISP_TEMP4 weapon_xoffset
  mulvar WEAP_DISP_TEMP4 3
  add WEAP_DISP_TEMP3 WEAP_DISP_TEMP4
  
  sub y 76
  add x 54
  rotatesprite x y M4A1_SIZE WEAP_DISP_TEMP3 16077 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Guandao's tail thingy
  
  
  break
case 1
case 2
  add x 10
  sub y 10
  rotatesprite x y M4A1_SIZE 0 16071 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite x y M4A1_SIZE 0 16074 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  add x 15
  sub y 15
  rotatesprite x y M4A1_SIZE 0 16071 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite x y M4A1_SIZE 64 16074 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
 add tilenum 1
  rotatesprite 240 120 M4A1_SIZE 0 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 240 120 M4A1_SIZE 0 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 240 120 M4A1_SIZE 0 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 240 120 M4A1_SIZE 0 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 M4A1_SIZE 0 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 210 130 M4A1_SIZE 0 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
 rotatesprite 240 120 M4A1_SIZE 0 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 240 120 M4A1_SIZE 0 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 M4A1_SIZE 0 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 210 130 M4A1_SIZE 0 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 M4A1_SIZE 0 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 140 M4A1_SIZE 0 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 210 130 M4A1_SIZE 0 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 210 130 M4A1_SIZE 0 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 M4A1_SIZE 0 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 140 M4A1_SIZE 0 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 150 M4A1_SIZE 0 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 150 M4A1_SIZE 0 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
 rotatesprite 180 140 M4A1_SIZE 0 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 140 M4A1_SIZE 0 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 150 M4A1_SIZE 0 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 150 M4A1_SIZE 0 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 160 M4A1_SIZE 0 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 120 160 M4A1_SIZE 0 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 150 M4A1_SIZE 0 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 150 M4A1_SIZE 0 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 160 M4A1_SIZE 0 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 120 160 M4A1_SIZE 0 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 M4A1_SIZE 0 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 90 170 M4A1_SIZE 0 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
 rotatesprite 120 160 M4A1_SIZE 0 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 120 160 M4A1_SIZE 0 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 M4A1_SIZE 0 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 90 170 M4A1_SIZE 0 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 60 190 M4A1_SIZE 0 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 60 190 M4A1_SIZE 0 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
 rotatesprite 90 170 M4A1_SIZE 0 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic  
  ifn WEP2_BLOODY 0 rotatesprite 90 170 M4A1_SIZE 0 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 60 190 M4A1_SIZE 0 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 60 190 M4A1_SIZE 0 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 30 210 M4A1_SIZE 0 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 30 210 M4A1_SIZE 0 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 1
{
switch weaponcount
case 5
 add tilenum 1
 rotatesprite 30 120 M4A1_SIZE 1024 16072 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 30 120 M4A1_SIZE 1024 16075 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 30 120 M4A1_SIZE 1024 16072 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 30 120 M4A1_SIZE 1024 16075 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 M4A1_SIZE 1024 16072 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 60 130 M4A1_SIZE 1024 16075 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 30 120 M4A1_SIZE 1024 16072 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 30 120 M4A1_SIZE 1024 16075 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 M4A1_SIZE 1024 16072 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 60 130 M4A1_SIZE 1024 16075 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 M4A1_SIZE 1024 16072 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 90 140 M4A1_SIZE 1024 16075 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 60 130 M4A1_SIZE 1024 16072 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 60 130 M4A1_SIZE 1024 16075 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 M4A1_SIZE 1024 16072 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 90 140 M4A1_SIZE 1024 16075 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 M4A1_SIZE 1024 16072 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 120 150 M4A1_SIZE 1024 16075 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 90 140 M4A1_SIZE 1024 16072 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  ifn WEP2_BLOODY 0 rotatesprite 90 140 M4A1_SIZE 1024 16075 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 M4A1_SIZE 1024 16072 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  ifn WEP2_BLOODY 0 rotatesprite 120 150 M4A1_SIZE 1024 16075 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 M4A1_SIZE 1024 16072 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 160 M4A1_SIZE 1024 16075 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
  rotatesprite 120 150 M4A1_SIZE 1024 16072 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  ifn WEP2_BLOODY 0 rotatesprite 120 150 M4A1_SIZE 1024 16075 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 M4A1_SIZE 1024 16072 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 160 M4A1_SIZE 1024 16075 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 M4A1_SIZE 1024 16072 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 170 M4A1_SIZE 1024 16075 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 150 160 M4A1_SIZE 1024 16072 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 160 M4A1_SIZE 1024 16075 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 M4A1_SIZE 1024 16072 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 170 M4A1_SIZE 1024 16075 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 190 M4A1_SIZE 1024 16072 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2  // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 210 190 M4A1_SIZE 1024 16075 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 180 170 M4A1_SIZE 1024 16072 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 170 M4A1_SIZE 1024 16075 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 210 190 M4A1_SIZE 1024 16072 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 210 190 M4A1_SIZE 1024 16075 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 240 210 M4A1_SIZE 1024 16072 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 240 210 M4A1_SIZE 1024 16075 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 2
{
switch weaponcount
case 5
 add tilenum 1
  rotatesprite 180 120 M4A1_SIZE -64 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 120 M4A1_SIZE -64 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
  rotatesprite 180 120 M4A1_SIZE -64 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 120 M4A1_SIZE -64 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 M4A1_SIZE -64 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  ifn WEP2_BLOODY 0 rotatesprite 170 150 M4A1_SIZE -64 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 180 120 M4A1_SIZE -64 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  ifn WEP2_BLOODY 0 rotatesprite 180 120 M4A1_SIZE -64 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 M4A1_SIZE -64 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 170 150 M4A1_SIZE -64 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 M4A1_SIZE -64 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 160 180 M4A1_SIZE -64 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 170 150 M4A1_SIZE -64 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 170 150 M4A1_SIZE -64 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 M4A1_SIZE -64 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 160 180 M4A1_SIZE -64 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 M4A1_SIZE -64 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 210 M4A1_SIZE -64 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 160 180 M4A1_SIZE -64 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 160 180 M4A1_SIZE -64 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 M4A1_SIZE -64 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 210 M4A1_SIZE -64 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 M4A1_SIZE -64 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 140 240 M4A1_SIZE -64 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 210 M4A1_SIZE -64 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 150 210 M4A1_SIZE -64 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 M4A1_SIZE -64 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 140 240 M4A1_SIZE -64 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 M4A1_SIZE -64 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 130 270 M4A1_SIZE -64 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 140 240 M4A1_SIZE -64 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 140 240 M4A1_SIZE -64 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 M4A1_SIZE -64 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 130 270 M4A1_SIZE -64 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 120 300 M4A1_SIZE -64 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 120 300 M4A1_SIZE -64 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 130 270 M4A1_SIZE -64 16072 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 130 170 M4A1_SIZE -64 16075 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 120 300 M4A1_SIZE -64 16072 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 120 300 M4A1_SIZE -64 16075 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 110 330 M4A1_SIZE -64 16072 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifn WEP2_BLOODY 0 rotatesprite 110 330 M4A1_SIZE -64 16075 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}

ends

// PUNCH===============================================================================================================

defstate MPUNCH
switch weaponcount
case 0
case 12
  break
case 1
case 2
case 10
case 11
  set x 250
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 254
  add y looking_arc
  sub y gun_pos
  myospal x y 4971 shade 0 wep_pal
 break
case 3
case 4
case 5
case 9
  set x 250
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 255
  add y looking_arc
  sub y gun_pos
  myospal x y 4972 shade 0 wep_pal
break
case 6
case 7
case 8
  set x 210
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 234
  add y looking_arc
  sub y gun_pos
  myospal x y 4973 shade 0 wep_pal
break
endswitch

ends

// MERLIJN'S BOW===============================================================================================================

defstate MBOW
switch weaponcount
case 0
  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 238
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 5001 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 20
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 10310 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
  set x 224
  set y 168
  rotatesprite x y 40960 5 5001 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 20
  rotatesprite x y NORMALSIZE 5 10310 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  set DISP_TEMP KICKBACKPIC
  sub y 70
  add x 90
  mulvar DISP_TEMP 4
  sub x DISP_TEMP
  rotatesprite x y NORMALSIZE 0 5002 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
 break
case 5
case 6
case 4
  set x 228
  set y 168
  rotatesprite x y 40960 15 5001 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 20
  rotatesprite x y NORMALSIZE 15 10310 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  set DISP_TEMP KICKBACKPIC
  sub y 70
  add x 30
  mulvar DISP_TEMP 4
  sub x DISP_TEMP
  rotatesprite x y NORMALSIZE 0 5003 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
 break
case 7
case 8
case 9
  set x 210
  set y 100
  add x KICKBACKPIC
  rotatesprite x y 40960 0 5004 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
  sub x 50
  add y 60
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 10311 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 10
case 11
case 12
  set x 210
  set y 100
  add x KICKBACKPIC
  rotatesprite x y 40960 0 5005 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
  sub x 40
  add y 70
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 10311 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 13
case 14
case 15
  set x 210
  set y 100
  rotatesprite x y 40960 0 5006 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 90
  rotatesprite x y NORMALSIZE 0 10313 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  add x 160
  sub y 30
  rotatesprite x y NORMALSIZE 0 10312 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 16
  set x 210
  set y 100
  rotatesprite x y 40960 0 5007 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
  sub x 75
  add y 70
  rotatesprite x y NORMALSIZE 0 10313 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  add x 160
  sub y 20
  rotatesprite x y NORMALSIZE 0 10312 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20

  set DISP_TEMP KICKBACKPIC
  add y KICKBACKPIC
  mulvar DISP_TEMP 4

  set x 130
  set y 50
  add x DISP_TEMP
  add y DISP_TEMP
  set DISP_TEMP2 KICKBACKPIC
  mulvar DISP_TEMP2 2
  rotatesprite x y 40960 DISP_TEMP2 5008 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
  set x 215
  set y 140
  add y KICKBACKPIC
  add x DISP_TEMP
  rotatesprite x y NORMALSIZE 0 5009 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
 break
endswitch

ends

// COMPOUND BOW===============================================================================================================

defstate COMPOUND_BOW
switch weaponcount
case 0
  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 238
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 18088 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 20
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 10310 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
  set x 224
  set y 168
  rotatesprite x y 40960 5 18088 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 20
  rotatesprite x y NORMALSIZE 5 10310 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  set DISP_TEMP KICKBACKPIC
  sub y 70
  add x 90
  mulvar DISP_TEMP 4
  sub x DISP_TEMP
  rotatesprite x y NORMALSIZE 0 18089 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
 break
case 5
case 6
case 4
  set x 228
  set y 168
  rotatesprite x y 40960 15 18088 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 20
  rotatesprite x y NORMALSIZE 15 10310 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  set DISP_TEMP KICKBACKPIC
  sub y 70
  add x 30
  mulvar DISP_TEMP 4
  sub x DISP_TEMP
  rotatesprite x y NORMALSIZE 0 18090 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
 break
case 7
case 8
case 9
  set x 210
  set y 100
  add x KICKBACKPIC
  rotatesprite x y 40960 0 18091 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
  sub x 50
  add y 60
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 10311 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 10
case 11
case 12
  set x 210
  set y 100
  add x KICKBACKPIC
  rotatesprite x y 40960 0 18092 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
  sub x 40
  add y 70
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 10311 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 13
case 14
case 15
  set x 210
  set y 100
  rotatesprite x y 40960 0 18093 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 90
  add y 90
  rotatesprite x y NORMALSIZE 0 10313 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  add x 160
  sub y 30
  rotatesprite x y NORMALSIZE 0 10312 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 16
  set x 210
  set y 100
  rotatesprite x y 40960 0 18094 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
  sub x 75
  add y 70
  rotatesprite x y NORMALSIZE 0 10313 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  add x 160
  sub y 20
  rotatesprite x y NORMALSIZE 0 10312 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20

  set DISP_TEMP KICKBACKPIC
  add y KICKBACKPIC
  mulvar DISP_TEMP 4

  set x 130
  set y 50
  add x DISP_TEMP
  add y DISP_TEMP
  set DISP_TEMP2 KICKBACKPIC
  mulvar DISP_TEMP2 2
  rotatesprite x y 40960 DISP_TEMP2 18095 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
  set x 215
  set y 140
  add y KICKBACKPIC
  add x DISP_TEMP
  rotatesprite x y NORMALSIZE 0 5009 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2 
 break
endswitch
ends

// STEYR AUG===============================================================================================================

defstate draw_steyr_aug

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

ifg SCOPE 0 { add x 20 add y 20 set WEAP_DISP_TEMP9 71536 }
else set WEAP_DISP_TEMP9 49152

switch weaponcount
case 0
case 1
case 3
case 4
case 5
ife SCOPE 0 
  {
  state wep_drawup
  getp[].angvel WEAP_DISP_TEMP3
  mulvar WEAP_DISP_TEMP3 3
  divvar WEAP_DISP_TEMP3 2
  set WEAP_DISP_TEMP4 weapon_xoffset
  mulvar WEAP_DISP_TEMP4 3
  add WEAP_DISP_TEMP3 WEAP_DISP_TEMP4
  
  state gunpushback_display
  
  sub y 25
  sub x 32
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
  add y 25
  add x 32
  
   sub x 50
  add y 26
  rotatesprite x y 49152 0 5182 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 50
  sub y 26
  
  
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 12146 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
  }
  break
case 2
  displayrandvar GUN_PUSHBACK_DISPLAY 8
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  
 displayrandvar M60FLASH 2048
  sub x 55
  sub y 45
  state random_AR_flash
  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 45
  
   sub x 50
  add y 26
  rotatesprite x y 49152 0 5182 0 107 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 50
  sub y 26
  
  
  ife SCOPE 0 rotatesprite x y WEAP_DISP_TEMP9 0 12147 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself

  break
case 6
case 7
case 8
case 9
case 10
case 11
case 12
  add y KICKBACKPIC
  rotatesprite x y WEAP_DISP_TEMP9 0 12148 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
      sub x 20
	  add y 25
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 4
	  sub x WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 4
	  sub y WEAP_DISP_TEMP3
	  rotatesprite x y 55538 0 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
  break
case 13
case 14
case 15
case 16
  add y KICKBACKPIC
  rotatesprite x y WEAP_DISP_TEMP9 0 12149 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
      sub x 100
	  sub y 75
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 4
	  add x WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 4
	  add y WEAP_DISP_TEMP3
	  rotatesprite x y 55538 1024 7894 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // hand moving away
  
  break
case 17
case 18
case 19
case 20
  add y KICKBACKPIC
  rotatesprite x y WEAP_DISP_TEMP9 64 12149 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
      sub x 100
	  sub y 75
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 4
	  add x WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 4
	  add y WEAP_DISP_TEMP3
	  rotatesprite x y 55538 992 7894 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // hand moving away
  break
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
  sub y KICKBACKPIC
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 2
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP5 12150 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
  
     sub x 15
	 sub y 20
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 2
	  sub x WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 3
	  add y WEAP_DISP_TEMP3
	  rotatesprite x y 55538 0 12152 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand moving away
  break
case 36
case 37
case 38
case 39
case 40
case 41
case 42
case 43
case 44
case 45
  sub y 15
  set WEAP_DISP_TEMP5 KICKBACKPIC
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP5 12151 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
  break
case 46
case 47
case 48
  add y 10
  rotatesprite x y WEAP_DISP_TEMP9 50 12151 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
  break
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
case 59
  rotatesprite x y WEAP_DISP_TEMP9 45 12151 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
  break
 case 60
 case 61
 case 62
   add y 10
   rotatesprite x y WEAP_DISP_TEMP9 50 12151 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
  break
case 63
case 64
case 65
case 66
case 67
case 68
case 69
case 70
case 71
case 72
case 73
case 74
case 75
  sub y KICKBACKPIC
  add y 60
  rotatesprite x y WEAP_DISP_TEMP9 0 12150 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself
   break
case 76
case 77
case 78
case 79
case 80
case 81
case 82
case 83
case 84
case 85
  sub y KICKBACKPIC
  add y 60
  rotatesprite x y WEAP_DISP_TEMP9 0 12149 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Aug itself

   break
endswitch
ends

// James'S LR300 =========================================================================================

defstate drawLR300

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 247
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifvarn pal 1
ifvarn pal 2
ifvarn pal 4
ifvarn pal 7
ifvarn pal 8
ifvarn pal 18
{
ifvarand SPECIALIST_CUSTOM[45] 1 setvar wep_pal 0 
else ifvarand SPECIALIST_CUSTOM[45] 2 setvar wep_pal 21 
else ifvarand SPECIALIST_CUSTOM[45] 4 setvar wep_pal 18
else ifvarand SPECIALIST_CUSTOM[45] 8 setvar wep_pal 13
else ifvarand SPECIALIST_CUSTOM[45] 16 setvar wep_pal 15
else setvar wep_pal 11
}
    
ifand GUNFIREMODE 32768 // Using the M16's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 state wep_drawup
 rotatesprite x y 45152 WEAP_DISP_TEMP2 15893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 45152 0 15889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 45152 32 15890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 45152 32 15892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 45152 0 15891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 90
		add y 5		
		ife CHAR 4 
			{
			ifand CHAR_APP 2 rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 else
			rotatesprite x y NORMALSIZE 0 6190 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			}
		else rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 45152 64 15891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 105
		
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 45152 0 15890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 45152 32 15889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
	  
 rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

 rotatesprite x y 45152 0 15889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 45152 WEAP_DISP_TEMP2 15894 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using M16's mainfiring mode
	{
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	ifand GUNFIREMODE 16384
	{
		  set x 160
		  set DISP_TEMP2 WEAPSWAYX
		  divvar DISP_TEMP2 2
		  sub x DISP_TEMP2
		  set y 100
		  set DISP_TEMP3 WEAPSWAYY
		  divvar DISP_TEMP3 2
		  sub y DISP_TEMP3
		
		rotatesprite x y NORMALSIZE 0 4962 shade pal 0 0 0 xdim ydim // farthest part of scope
		rotatesprite x y NORMALSIZE 0 4969 25 pal 1 0 0 xdim ydim // 'blur'
		rotatespritea 160 100 8192 0 23731 0 2 0 -255 0 0 xdim ydim // Crosshair
		
		set x 160
		sub x WEAPSWAYX		
		set y 100
		sub y WEAPSWAYY
		rotatesprite x y 96638 0 4962 shade 0 0 0 0 xdim ydim // closest part of scope
		rotatesprite x y 96638 0 4969 25 0 33 0 0 xdim ydim // closest part of scope
		
		ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 2
			rotatespritea x y 43000 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 0 0 xdim ydim // Glass in holosight
			}
	}
	else
		{
		 state tempm16_arm
			ife player[].weapon_pos 9 soundonce SELECT_WEAPON
			state wep_drawup
			rotatesprite x y 40960 WEAP_DISP_TEMP2 15893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		}
	  break
	case 2
	ifand GUNFIREMODE 16384
		{
			  set x 160
			  set DISP_TEMP2 WEAPSWAYX
			  divvar DISP_TEMP2 2
			  sub x DISP_TEMP2
			  set y 100
			  set DISP_TEMP3 WEAPSWAYY
			  divvar DISP_TEMP3 2
			  sub y DISP_TEMP3
			  
			state random_AR_flash
			add y 40
		    rotatespritea x y 40000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			sub y 40
			
			rotatesprite x y NORMALSIZE 0 4962 shade pal 0 0 0 xdim ydim // farthest part of scope
			rotatesprite x y NORMALSIZE 0 4969 25 pal 1 0 0 xdim ydim // 'blur'
			rotatespritea 160 100 8192 0 23731 0 2 0 -255 0 0 xdim ydim // Crosshair
			
			set x 160
			sub x WEAPSWAYX		
			set y 100
			sub y WEAPSWAYY
			rotatesprite x y 96638 0 4962 shade 0 0 0 0 xdim ydim // closest part of scope
			rotatesprite x y 96638 0 4969 25 0 33 0 0 xdim ydim // closest part of scope
			
			ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				rotatespritea x y 43000 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 0 0 xdim ydim // Glass in holosight
				}
		}
	else
		{
		displayrandvar WEAP_DISP_TEMP 5
		  add x WEAP_DISP_TEMP
		  add y WEAP_DISP_TEMP
		  sub x 65
		  sub y 60
		  state random_AR_flash
		  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  add x 65
		  add y 60
		 state tempm16_arm
		  rotatesprite x y 40960 0 15894 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		}
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 15887 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 25
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 15888 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 15886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

// James's M4-15 =========================================================================================

defstate draw_m4-15

  set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 247
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

	switch weaponcount
	case 0
	case 1
	case 3
	case 4
    ifand GUNFIREMODE 16384 // Ironsight?
		  {
			  set x 160
			  set WEAP_DISP_TEMP2 WEAPSWAYX
			  divvar WEAP_DISP_TEMP2 2
			  sub x WEAP_DISP_TEMP2
			  set y 140
			  set WEAP_DISP_TEMP3 WEAPSWAYY
			  divvar WEAP_DISP_TEMP3 2
			  sub y WEAP_DISP_TEMP3
			  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
			  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
			  add x WEAP_DISP_TEMP4 // add it to x
			  sub x 5 // offset it by 5
			  state gunpushback_sight_display
			  rotatesprite x y WEAP_DISP_TEMP8 0 15905 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Barrel
			  sub y 40
			  rotatespritea x y 4296 0 11047 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
			  set x 160
			  sub x WEAPSWAYX
			  sub x 10
			  add x weapon_xoffset
			  set y 142
			  sub y WEAPSWAYY
			  rotatesprite x y WEAP_DISP_TEMP8 0 15904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holographic sight
			  ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				sub y 35
				rotatespritea x y 10192 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
				}
		  }
	else
		{
		
	  sub x 75
	  add y 16
	  myospal x y C_ARM_2 shade 0 wep_pal
	  sub y 16
	  add x 75
		
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		rotatesprite x y 40960 WEAP_DISP_TEMP2 15899 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		}
	  break
	case 2
	ifand GUNFIREMODE 16384
		  {
			  set x 160
			  set WEAP_DISP_TEMP2 WEAPSWAYX
			  divvar WEAP_DISP_TEMP2 2
			  sub x WEAP_DISP_TEMP2
			  set y 142
			  set WEAP_DISP_TEMP3 WEAPSWAYY
			  divvar WEAP_DISP_TEMP3 2
			  sub y WEAP_DISP_TEMP3
			  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
			  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
			  add x WEAP_DISP_TEMP4 // add it to x
			  sub x 5 // offset it by 5
		  
			  state random_AR_flash
			  rotatespritea x 120 10192 0 M60FLASH 15 27 0 -255 windowx1 windowy1 windowx2 windowy2
			  set GUN_PUSHBACK_DISPLAY 10
		  state gunpushback_sight_display

		  rotatesprite x y WEAP_DISP_TEMP8 0 15905 0 106 0 windowx1 windowy1 windowx2 windowy2 // Barrel
		  sub y 42
		  rotatespritea x y 4096 0 11047 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
			 set x 160
			 sub x WEAPSWAYX
			 sub x 10
			 add x weapon_xoffset
			 set y 142
			 sub y WEAPSWAYY
		  rotatesprite x y WEAP_DISP_TEMP8 0 15904 0 108 0 windowx1 windowy1 windowx2 windowy2 // holotech gunsight
		  }
	else
			{
			displayrandvar WEAP_DISP_TEMP 5
			  add x WEAP_DISP_TEMP
			  add y WEAP_DISP_TEMP
			  sub x 70
			  sub y 65
			  state random_AR_flash
			  rotatespritea x y 8192 0 M60FLASH 15 27 0 -255 windowx1 windowy1 windowx2 windowy2
			  add x 70
			  add y 65
				  sub x 75
				  add y 16
				  myospal x y C_ARM_2 shade 0 wep_pal
				  sub y 16
				  add x 75
			  rotatesprite x y 40960 0 15900 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
			}
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 15901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 15902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 25
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 15903 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 15901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 15901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 15901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 15901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 15901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 15901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 15901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 15902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 15902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 15902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
ends

// James'S G36 =========================================================================================

defstate draw_G36
  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 247
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
      
ifand GUNFIREMODE 32768 // Using the M16's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 state wep_drawup
 rotatesprite x y 45152 WEAP_DISP_TEMP2 22572 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 45152 0 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 45152 32 22575 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 45152 32 22577 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 45152 0 22576 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 85
		add y 5		
		rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 45152 64 22576 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 95
		
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 45152 0 22576 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 45152 32 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
	  
 rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

 rotatesprite x y 45152 0 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 45152 WEAP_DISP_TEMP2 22573 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using G36's mainfiring mode
	{
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	ifand GUNFIREMODE 16384
	{
		  set x 160
		  set DISP_TEMP2 WEAPSWAYX
		  divvar DISP_TEMP2 2
		  sub x DISP_TEMP2
		  set y 100
		  set DISP_TEMP3 WEAPSWAYY
		  divvar DISP_TEMP3 2
		  sub y DISP_TEMP3
		
		rotatesprite x y NORMALSIZE 0 4962 shade pal 0 0 0 xdim ydim // farthest part of scope
		rotatesprite x y NORMALSIZE 0 4969 25 pal 1 0 0 xdim ydim // 'blur'
		rotatespritea 160 100 8192 0 23731 0 2 0 -255 0 0 xdim ydim // Crosshair
		
		set x 160
		sub x WEAPSWAYX		
		set y 100
		sub y WEAPSWAYY
		rotatesprite x y 96638 0 4962 shade 0 0 0 0 xdim ydim // closest part of scope
		rotatesprite x y 96638 0 4969 25 0 33 0 0 xdim ydim // closest part of scope
		
		ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 2
			rotatespritea x y 43000 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 0 0 xdim ydim // Glass in holosight
			}
	}
	else
		{
		 state tempm16_arm
			ife player[].weapon_pos 9 soundonce SELECT_WEAPON
			state wep_drawup
			rotatesprite x y 40960 WEAP_DISP_TEMP2 22572 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		}
	  break
case 2
	ifand GUNFIREMODE 16384
		{
			  set x 160
			  set DISP_TEMP2 WEAPSWAYX
			  divvar DISP_TEMP2 2
			  sub x DISP_TEMP2
			  set y 100
			  set DISP_TEMP3 WEAPSWAYY
			  divvar DISP_TEMP3 2
			  sub y DISP_TEMP3
			  
			state random_AR_flash
			add y 40
		    rotatespritea x y 40000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			sub y 40
			
			rotatesprite x y NORMALSIZE 0 4962 shade pal 0 0 0 xdim ydim // farthest part of scope
			rotatesprite x y NORMALSIZE 0 4969 25 pal 1 0 0 xdim ydim // 'blur'
			rotatespritea 160 100 8192 0 23731 0 2 0 -255 0 0 xdim ydim // Crosshair
			
			set x 160
			sub x WEAPSWAYX		
			set y 100
			sub y WEAPSWAYY
			rotatesprite x y 96638 0 4962 shade 0 0 0 0 xdim ydim // closest part of scope
			rotatesprite x y 96638 0 4969 25 0 33 0 0 xdim ydim // closest part of scope
			
			ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				rotatespritea x y 43000 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 0 0 xdim ydim // Glass in holosight
				}
		}
	else
		{
		displayrandvar WEAP_DISP_TEMP 5
		  add x WEAP_DISP_TEMP
		  add y WEAP_DISP_TEMP
		  sub x 65
		  sub y 55
		  state random_AR_flash
		  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  add x 65
		  add y 55
		 state tempm16_arm
		  rotatesprite x y 40960 0 22573 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		}
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 -16 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 54
	  add y 40
	  rotatesprite x y 50960 64 5243 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 22575 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 22574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 22575 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 22575 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 22575 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

// HIGHWIRE's R870===============================================================================================================

defstate draw870


  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

ife player[].reloading 1
{
	sub y 40
 
	switch weaponcount
	case 13
	case 14
	case 15
	case 16
	case 17
	  add x 10
	  sub y 10	  
	  rotatesprite x y 45152 0 5936 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 5939 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 18
	case 19
	case 20
	  add x 10
	  sub y 8
	  ifand AMMO_TYPES[CURWEAP] 1 rotatesprite x y NORMALSIZE 5 6094 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[CURWEAP] 4 rotatesprite x y NORMALSIZE 5 6093 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[CURWEAP] 64 rotatesprite x y NORMALSIZE 5 6092 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else ifand AMMO_TYPES[CURWEAP] 1024 rotatesprite x y NORMALSIZE 5 6096 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y NORMALSIZE 5 5937 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y 45152 5 5936 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 5 5939 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 21
	case 22
	case 23
	  add x 10
	  sub y 5
	  rotatesprite x y 45152 10 5936 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 10 5939 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 24
	case 25
	rotatesprite x y 45152 0 5936 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 5939 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
	case 26
	case 27
	case 28
	add y 10
		ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6012 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 else rotatesprite x y 45152 0 5895 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 29
	case 30
	case 31
	add y 10
		ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y 45152 0 5893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  
  	sub x 57
	add y 14
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 5935 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 57
	sub y 14
	  
	  break
	endswitch
}
else
switch weaponcount
case 0
case 1
case 4
case 5
case 26
case 27
case 28
  state gunpushback_display
  ife player[].weapon_pos 8 soundonce R870PUMP 
  state wep_drawup
  ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 WEAP_DISP_TEMP2 6010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 WEAP_DISP_TEMP2 5893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
	sub x 57
	add y 14
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 5935 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  break
case 2
case 3
  
  displayrandvar GUN_PUSHBACK_DISPLAY 12
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY

 displayrandvar M60FLASH 2048
  
   sub y 52
  sub x 50
  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 52
  add x 50
  
    ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6011 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5894 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  	sub x 57
	add y 14
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 5935 0 107 0 windowx1 windowy1 windowx2 windowy2
  
  break
case 6
case 7
case 8
case 9
case 22
case 23
case 24
case 25
  set x 240
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  add y looking_arc
  sub y gun_pos
  state gunpushback_display
  ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
   	sub x 57
	add y 14
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 5935 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

  break
case 10
case 11
case 20
case 21
  set x 240
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 220
  add y looking_arc
  sub y gun_pos
   ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  	sub x 57
	add y 14
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 5935 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

  break
case 12
case 13
case 18
case 19
  set x 242
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 222
  add y looking_arc
  sub y gun_pos
   ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6012 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5895 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  	sub x 57
	add y 14
    rotatesprite x y NORMALSIZE 0 5898 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  break  
case 14
case 17
  set x 240
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 210
  add y looking_arc
  sub y gun_pos
   ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 6012 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5895 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  	sub x 57
	add y 14
    rotatesprite x y NORMALSIZE 0 5898 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  break
case 15
case 16
  set x 245
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 215
  add y looking_arc
  sub y gun_pos
   ifand HIGHWIRE_UPGRADE 32 rotatesprite x y 45152 0 5897 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45152 0 5896 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
	sub x 52
	add y 29
    rotatesprite x y NORMALSIZE 0 5898 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  break
endswitch
ends


// HIGHWIRE'S SAIGA-12===============================================================================================================

defstate H_SHOTFRAME
  set y 223
  add y looking_arc
  sub y gun_pos

  set x 240
  add x weapon_xoffset
  sub x looking_angSR1
  ife KICKBACKPIC 37 sub y 5
  ifg KICKBACKPIC 20 ifl KICKBACKPIC 36 set WEAP_DISP_TEMP3 96 else
  set WEAP_DISP_TEMP3 64
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP3 12099 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
ends

defstate draw_saiga12

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 257
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
	state gunpushback_display
    
	switch weaponcount
	case 0
	case 1
	case 3
	case 4

		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		rotatesprite x y 45152 WEAP_DISP_TEMP2 12096 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		
	  sub x 70
	  add y 6
	  myospal x y 5935 shade 0 wep_pal
		
	  break
	case 2
	displayrandvar GUN_PUSHBACK_DISPLAY 10
	  add x GUN_PUSHBACK_DISPLAY
	  add y GUN_PUSHBACK_DISPLAY
	  sub x 65
	  sub y 60
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 65
	  add y 60
	  rotatesprite x y 45152 0 12097 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 70
	  add y 6
	  myospal x y 5935 shade 0 wep_pal
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  rotatesprite x y 40960 0 12099 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 15
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 30
	case 31
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  ife SHOTGUNBOXMAG 0 ifl weaponcount 20 rotatesprite x y 40960 8 12091 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  else rotatesprite x y 40960 8 12092 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 

	  break 
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 16 12093 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 12098 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
ends

// GOLDEN SAIGA-12


defstate draw_golden_saiga12

 set x 217
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 238
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 144 set y 144
  
  ifg weaponcount 6 set GUN_PUSHBACK_DISPLAY 0

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  ife player[].weapon_pos 8 sound AUTO5_DEPLOY 
  sub x 70
  add y 50
  rotatesprite x y 57344 WEAP_DISP_TEMP2 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 49152 WEAP_DISP_TEMP2 19775 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
 set GUN_PUSHBACK_DISPLAY 10
 displayrandvar M60FLASH 2048
   sub x 50
   sub y 55
   ife SHOTGUNBOXMAG 1 add y 10 // second shot comes from top barrel
  rotatespritea x y 15000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 55
  ife SHOTGUNBOXMAG 1 sub y 10 // second shot comes from top barrel
  
  sub x 70
  add y 50
  rotatesprite x y 57344 WEAP_DISP_TEMP2 9011 shade 107 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  
  rotatesprite x y 49152 0 19776 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 5
  sub x 70
  add y 50
  rotatesprite x y 57344 32 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 49152 0 19777 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  sub x 70
  add y 50
  rotatesprite x y 57344 16 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 49152 0 19777 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 29
  sub x 70
  add y 50
  rotatesprite x y 57344 -32 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 49152 -32 19775 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 30
  sub x 70
  add y 50
  rotatesprite x y 57344 -64 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 49152 -64 19775 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 27
case 28
  set tilenum 19778
  rotatesprite x 185 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 25
case 26
  set tilenum 19779
  rotatesprite x 185 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
add y 15
add x 30
  set tilenum 19780
  rotatesprite x 185 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 25
  add y 11
  rotatesprite x 185 NNORMALSIZE 0 C_HAND_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
  add y 5
  set tilenum 19780
  rotatesprite x 185 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 25
  add y 11
  rotatesprite x 185 NNORMALSIZE 0 C_HAND_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
  add y 5
  set tilenum 19773
  rotatesprite x 185 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
  set tilenum 19773
  rotatesprite x 190 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
ends

// SANG'S UNMAKER===============================================================================================================

defstate drawunmaker

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 148 320

switch weaponcount
case 0
case 4
  state wep_drawup
  ife HANDS_DRAW 2
	  {
	  sub x 50
	  add y 30
	  rotatesprite x y NNORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  sub y 30
	  }
  rotatesprite x y 49152 WEAP_DISP_TEMP2 6277 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
break
case 1
case 3
  ife HANDS_DRAW 2
	  {
	  sub x 50
	  add y 30
	  rotatesprite x y NNORMALSIZE 0 C_ARM_2 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  sub y 30
	  }
  rotatesprite x y 49152 0 6278 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 2

  ife HANDS_DRAW 2
	  {
	  sub x 50
	  add y 30
	  rotatesprite x y NNORMALSIZE 0 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  sub y 30
	  }
  rotatesprite x y 49152 0 6277 0 107 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
ends

// SANG'S SACRED MANACLE===============================================================================================================

defstate draw_manacle

  set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
ifand GUNFIREMODE 16384 
	{
	add x 40
	add y 40
	set WEAP_DISP_TEMP 92000 
	}
	else set WEAP_DISP_TEMP NORMALSIZE

switch weaponcount
case 0
case 14
  state gunpushback_display
  state wep_drawup
  rotatesprite x y WEAP_DISP_TEMP WEAP_DISP_TEMP2 22604 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
case 12
case 13
  state gunpushback_display
  rotatesprite x y WEAP_DISP_TEMP 0 22605 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 10
case 11
  state gunpushback_display
  rotatesprite x y WEAP_DISP_TEMP 0 22606 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9

   displayrandvar GUN_PUSHBACK_DISPLAY 5
   add GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY

  rotatesprite x y WEAP_DISP_TEMP 0 22607 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y WEAP_DISP_TEMP 0 22608 0 0 0 windowx1 windowy1 windowx2 windowy2
  
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  rotatespritea x y WEAP_DISP_TEMP 0 22609 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  }
  
  break
endswitch
ends

//  SANG'S SERAPH SHOTGUN===============================================================================================================

defstate draw_seraph_shotg

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 203
  sub y WEAPSWAYY
  add y looking_arc
  set WEAP_DISP_TEMP gun_pos
  divvar WEAP_DISP_TEMP 2
  sub y WEAP_DISP_TEMP

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 23871 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
	  sub x 55
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 18000 M60FLASH 16114 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 30
  rotatesprite x y 40960 0 23872 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  state gunpushback_display
   displayrandvar GUN_PUSHBACK_DISPLAY 5
   add GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY

	  sub x 55
	  sub y 30
	  rotatespritea x y 20000 M60FLASH 16114 15 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 30
 rotatesprite x y 40960 0 23872 0 67 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
  state gunpushback_display
  rotatesprite x y 40960 0 23873 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
  state gunpushback_display
  rotatesprite x y 40960 0 23874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MERLIJN'S GREAT AXE===============================================================================================================

defstate drawdaxe

 ifn WEP3_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP3_BLOODY
	}

switch weaponcount
case 0
  set x 227
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 258
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife player[].weapon_pos 8 sound AXESWING
	rotatesprite x y 40960 0 5017 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 1
  set x 168
  set y 187
  rotatesprite x y 40960 0 5018 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 70
  sub y 5
  rotatesprite x y NNORMALSIZE 0 9306 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  set x 208
  set y 182
  rotatesprite x y 40960 0 5019 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 70
  sub y 5
  rotatesprite x y NNORMALSIZE 0 9306 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  set x 250
  set y 185
  rotatesprite x y 40960 0 5020 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
  set x 215
  set y 155
  rotatesprite x y 40960 0 5019 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 80
  add y 10
  rotatesprite x y NNORMALSIZE 0 9308 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
  set x 220
  set y 120
  rotatesprite x y 40960 0 5022 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  sub x 80
  add y 52
  rotatesprite x y NNORMALSIZE -24 9309 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  break
case 9
  set x 200
  set y 100
  rotatesprite x y 40960 0 5022 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 80
  add y 52
  rotatesprite x y NNORMALSIZE -24 9309 shade wep_pal 5122 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  set x 160
  set y 100
  rotatesprite x y 40960 0 5023 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 26
  add y 55
  rotatesprite x y NNORMALSIZE 0 9310 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
  set x 156
  set y 125
  rotatesprite x y 40960 0 5024 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  set x 140
  set y 145
  rotatesprite x y 40960 0 5024 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
  set x 120
  set y 165
  rotatesprite x y 40960 0 5024 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends


// Merlijn's long axe===============================================================================================================


defstate draw_longaxe
ife SWORD_ANIM 1 // backwards swing
{

 ifn WEP3_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP3_BLOODY
	}

switch weaponcount
case 0
  set x 227
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 258
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  set WEAP_DISP_TEMP2 player[].weapon_pos
  set SWORD_ANIM 0
	rotatesprite x y 40960 0 13391 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  rotatesprite 160 125 40960 0 13396 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  rotatesprite 45 110 40960 0 13398 shade wep_pal 256 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
  rotatesprite 160 180 40960 0 13399 shade wep_pal 264 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
  rotatesprite 120 180 40960 0 13400 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  rotatesprite 140 190 40960 0 13401 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
  rotatesprite 170 190 40960 0 13401 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
  rotatesprite 230 190 40960 0 13401 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
  rotatesprite 260 190 40960 0 13401 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
  rotatesprite 300 190 40960 0 13402 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
{
  ifn WEP3_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP3_BLOODY
	}

switch weaponcount
case 0
  set x 227
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 258
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife player[].weapon_pos 8 sound AXESWING
	rotatesprite x y 40960 0 13391 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
  set x 168
  set y 187
  rotatesprite x y 40960 0 13392 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 70
  sub y 7
  rotatesprite x y NNORMALSIZE 0 9306 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  set x 208
  set y 182
  rotatesprite x y 40960 0 13393 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 70
  sub y 7
  rotatesprite x y NNORMALSIZE 0 9306 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  set x 250
  set y 185
  rotatesprite x y 40960 0 5020 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
  set x 215
  set y 155
  rotatesprite x y 40960 0 13393 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 80
  add y 10
  rotatesprite x y NNORMALSIZE 0 9308 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
  set x 220
  set y 110
  rotatesprite x y 40960 0 13394 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  sub x 80
  add y 57
  rotatesprite x y NNORMALSIZE -24 9309 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  set x 160
  set y 100
  rotatesprite x y 40960 0 13395 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 17
  add y 55
  rotatesprite x y NNORMALSIZE 0 9310 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
  set x 156
  set y 125
  rotatesprite x y 40960 0 13396 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  set x 140
  set y 145
  rotatesprite x y 40960 0 13396 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
  set x 120
  set y 165
  rotatesprite x y 40960 0 13396 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
ends

// GEOFFREY'S PISTOL===============================================================================================================

defstate drawgpistol

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 155 320

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  state wep_drawup
  ifand GEOFFREY_UPGRADE 2 set tilenum 6510 else set tilenum 6462
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
ifand GEOFFREY_UPGRADE 1
	{
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 16 
  rotatespritea x y 40960 WEAP_DISP_TEMP2 6464 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  
  break
case 2  
  displayrandvar M60FLASH 2048
  sub x 35
  sub y 35
  rotatespritea x y 15000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 35
  add y 35
  
  ifand GEOFFREY_UPGRADE 2 set tilenum 6511 else set tilenum 6463
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  set GUN_PUSHBACK_DISPLAY 3
  displayrandvar M60FLASH 2048
  sub x 35
  sub y 35
  rotatespritea x y 15000 M60FLASH 16115 0 0 1 -255 windowx1 windowy1 windowx2 windowy2 
  add x 35
  add y 35
  
  
  ifand GEOFFREY_UPGRADE 2 set tilenum 6511 else set tilenum 6463
  rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
ifand GEOFFREY_UPGRADE 1
	{
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 16 
  rotatespritea x y NORMALSIZE 64 6464 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  
  break
case 5
case 6
case 7
  ifand GEOFFREY_UPGRADE 2 set tilenum 6510 else set tilenum 6462
  rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
ifand GEOFFREY_UPGRADE 1
	{
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 16 
  rotatespritea x y NORMALSIZE 0 6464 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  
  break
endswitch
ends

// GEOFFREY'S GOLD PISTOL===============================================================================================================

defstate drawg_gold_pistol

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 155 320

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  state wep_drawup
  rotatesprite x y 36864 WEAP_DISP_TEMP2 14594 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 15
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 8990 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set M60FLASH 0
  sub x 25
  sub y 25
  state gold_sparkle
  add x 25
  add y 25
  
  break
case 2  
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 45
  sub y 45
  rotatespritea x y 66638 M60FLASH 6461 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 45
  add y 45
  rotatesprite x y 36864 0 14595 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 15
  rotatesprite x y NNORMALSIZE 0 8990 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  sub x 45
  sub y 45
  rotatespritea x y 76638 M60FLASH 6461 0 0 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 45
  add y 45
  rotatesprite x y 36864 32 14595 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 15
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 8990 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 6
  rotatesprite x y 36864 0 14596 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 60
  add x 15
  rotatesprite x y 70000 0 8990 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
  rotatesprite x y 36864 0 14597 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 70
  add x 15
  rotatesprite x y 70000 32 8990 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// GEOFFREY'S SMG===============================================================================================================

defstate drawgsmg

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  
	sub x 55
	add y 35
	rotatesprite x y NNORMALSIZE 0 15971 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 55
	sub y 35
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6502 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6506 0 0 0 windowx1 windowy1 windowx2 windowy2
  sub y 27
  sub x 5
  qsprintf 1400 1401 MGUNMAG
  screentext 3010 x y NORMALSIZE 0 0 1400 0 12 0 -255 5 16 1 0 524290 0 0 xdim ydim 
  
  ifn hitsprite -1
	{
	geta[hitsprite].extra WEAP_DISP_TEMP
	ifg WEAP_DISP_TEMP 0
		{
		sub y 10
		sub x 2
		digitalnumberz 3010 x y WEAP_DISP_TEMP 20 2 0 windowx1 windowy1 windowx2 windowy2 HALFSIZE
		}
	}
  
  break
case 2
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 42
  sub y 15
 displayrandvar M60FLASH 2048
  rotatespritea x y 86638 M60FLASH 6505 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 42
  add y 15
  
	sub x 55
	add y 35
	rotatesprite x y NNORMALSIZE 0 15971 0 107 0 windowx1 windowy1 windowx2 windowy2
	add x 55
	sub y 35
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6503 0 0 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6506 0 0 0 windowx1 windowy1 windowx2 windowy2
  sub y 27
  sub x 5
  qsprintf 1400 1401 MGUNMAG
  screentext 3010 x y NORMALSIZE 0 0 1400 0 12 0 -255 5 16 1 0 524290 0 0 xdim ydim 
  
  ifn hitsprite -1
	{
	geta[hitsprite].extra WEAP_DISP_TEMP
	ifg WEAP_DISP_TEMP 0
		{
		sub y 10
		sub x 2
		digitalnumberz 3010 x y WEAP_DISP_TEMP 20 2 0 windowx1 windowy1 windowx2 windowy2 HALFSIZE
		}
	}
  
  break
case 3
case 4
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 42
  sub y 15
 displayrandvar M60FLASH 2048
  rotatespritea x y 66638 M60FLASH 6505 15 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 42
  add y 15
  
	sub x 55
	add y 35
	rotatesprite x y NNORMALSIZE 0 15971 0 108 0 windowx1 windowy1 windowx2 windowy2
	add x 55
	sub y 35
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6503 0 107 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6506 0 0 0 windowx1 windowy1 windowx2 windowy2
  sub y 23
  digitalnumber 3010 x y MGUNMAG 0 4 0 windowx1 windowy1 windowx2 windowy2
  break
case 50
case 51
  rotatesprite x y 40960 0 6504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 47
case 48
case 49
  rotatesprite x y 40960 16 6504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 44
case 45
case 46
  rotatesprite x y 40960 32 6504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  rotatesprite x y 40960 48 6504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
  rotatesprite x y 40960 64 6507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 25
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y NORMALSIZE 0 6501 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 26
add y 5
  rotatesprite x y 40960 68 6520 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
case 36
case 40
case 41
case 42
case 43 
  rotatesprite x y 40960 68 6520 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  add y 10
  rotatesprite x y 40960 58 6507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// GEOFFREY'S AP SMG===============================================================================================================

defstate draw_ap_gsmg

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 6550 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  displayrandvar GUN_PUSHBACK_DISPLAY 20
  displayrandvar M60FLASH 2048
  state gunpushback_display
  sub x 40
  sub y 40
  rotatespritea x y 18000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
  myospal x y 6551 0 0 wep_pal
  break
case 3
case 4
  rotatesprite x y NNORMALSIZE 32 6550 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 38
case 39
case 40
  myospal x y 6550 shade 0 wep_pal
  break
case 8
case 9
case 35
case 36
case 37
  rotatesprite x y NNORMALSIZE 32 6552 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
case 32
case 33
case 34
  rotatesprite x y NNORMALSIZE 48 6552 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 29
case 30
case 31
  rotatesprite x y NNORMALSIZE 64 6553 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
  rotatesprite x y NNORMALSIZE 68 6553 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
   add y 5
  rotatesprite x y NNORMALSIZE 68 6553 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ####################################################################################################################################################################################
// Geoffrey's GP63
// ####################################################################################################################################################################################

defstate gp63_hand
	sub x 70
	add y 23
    ife weaponcount 2 rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade 106 0 windowx1 windowy1 windowx2 windowy2
	else rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 70
	sub y 23
ends

defstate gp63_hand2
	sub x 73
	add y 13
	rotatesprite x y NORMALSIZE 32 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 73
	sub y 13
ends

defstate draw_gp_63

  set x 210
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 234
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 150 320
  
  ife currentweapon 11
  ife wep_pal 0
	{
	set wep_pal 21
	}
	
  set WEAP_DISP_TEMP5 60
  sub WEAP_DISP_TEMP5 GUN_HEAT[CURWEAP]

switch weaponcount
case 0
case 1
case 4
case 5
case 6
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
    state gunpushback_display
	state gp63_hand
	set M60FLASH 0
	rotatesprite x y 40960 WEAP_DISP_TEMP2 22618 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	rotatespritea x y 40960 WEAP_DISP_TEMP2 22620 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 2
add x 5
add y 5
set GUN_PUSHBACK_DISPLAY 6

   sub y 40
  sub x 35
 ife M60FLASH 0 displayrandvar M60FLASH 2048
  rotatespritea x y 82000 M60FLASH 16510 0 94 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 35
  state gp63_hand
  rotatesprite x y 40960 0 22619 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 WEAP_DISP_TEMP2 22620 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 3
add x 5
add y 5
set GUN_PUSHBACK_DISPLAY 6

   sub y 40
  sub x 35
  rotatespritea x y 92000 M60FLASH 16510 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 35
  state gp63_hand
  rotatesprite x y 40960 0 22619 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 WEAP_DISP_TEMP2 22620 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
case 19
case 20
case 21
case 22
  state gunpushback_display
  add x 10
  state gp63_hand
  sub x 10
  rotatesprite x y 40960 16 22618 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 16 22620 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 16
case 17
case 18
add x 10
add y 10
  state gp63_hand2
  rotatesprite x y 40960 32 22621 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22622 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 14
add x 10
add y 10
  state gp63_hand2
  rotatesprite x y 40960 32 22621 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22622 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 15
add x 10
add y 10
  state gp63_hand2
  rotatesprite x y 40960 32 22621 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22622 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// ####################################################################################################################################################################################
// Micky's AR73
// ####################################################################################################################################################################################

defstate draw_ar73

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 234
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ife currentweapon 11
  ife wep_pal 0
	{
	set wep_pal 21
	}
	
	  
  set WEAP_DISP_TEMP5 60
  sub WEAP_DISP_TEMP5 GUN_HEAT[CURWEAP]

switch weaponcount
case 0
case 1
case 3
case 4
case 5
case 6
  ifand GUNFIREMODE 16384 // Using the scope?
		{
		  set x 160
		  set DISP_TEMP2 WEAPSWAYX
		  divvar DISP_TEMP2 2
		  sub x DISP_TEMP2
		  set y 100
		  set DISP_TEMP3 WEAPSWAYY
		  divvar DISP_TEMP3 2
		  sub y DISP_TEMP3
		
		rotatesprite x y NORMALSIZE 0 4962 shade pal 0 0 0 xdim ydim // farthest part of scope
		rotatesprite x y NORMALSIZE 0 4969 25 pal 1 0 0 xdim ydim // 'blur'
		rotatespritea 160 100 8192 0 23731 0 2 0 -255 0 0 xdim ydim // Crosshair
		
		set x 160
		sub x WEAPSWAYX		
		set y 100
		sub y WEAPSWAYY
		rotatesprite x y 96638 0 4962 shade 0 0 0 0 xdim ydim // closest part of scope
		rotatesprite x y 96638 0 4969 25 0 33 0 0 xdim ydim // closest part of scope
		
		ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 2
			rotatespritea x y 43000 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 0 0 xdim ydim // Glass in holosight
			}
		}
  else
		{
		  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
		  state wep_drawup
		  state gunpushback_display
		sub x 72
		add y 26
		rotatesprite x y 40960 WEAP_DISP_TEMP2 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		add x 72
		sub y 26
		  rotatesprite x y 40960 WEAP_DISP_TEMP2 16566 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  rotatespritea x y 40960 WEAP_DISP_TEMP2 16568 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
  break
case 2 // firing frame
  ifand GUNFIREMODE 16384 // Using the scope?
		  {  
			  set x 160
			  set DISP_TEMP2 WEAPSWAYX
			  divvar DISP_TEMP2 2
			  sub x DISP_TEMP2
			  set y 100
			  set DISP_TEMP3 WEAPSWAYY
			  divvar DISP_TEMP3 2
			  sub y DISP_TEMP3
			  
			state random_AR_flash
			add y 40
		    rotatespritea x y 40000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			sub y 40
			
			rotatesprite x y NORMALSIZE 0 4962 shade pal 0 0 0 xdim ydim // farthest part of scope
			rotatesprite x y NORMALSIZE 0 4969 25 pal 1 0 0 xdim ydim // 'blur'
			rotatespritea 160 100 8192 0 23731 0 2 0 -255 0 0 xdim ydim // Crosshair
			
			set x 160
			sub x WEAPSWAYX		
			set y 100
			sub y WEAPSWAYY
			rotatesprite x y 96638 0 4962 shade 0 0 0 0 xdim ydim // closest part of scope
			rotatesprite x y 96638 0 4969 25 0 33 0 0 xdim ydim // closest part of scope
			
			ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				rotatespritea x y 43000 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 0 0 xdim ydim // Glass in holosight
				}
		  }
  else
 {
	add x 5
	add y 5
	set GUN_PUSHBACK_DISPLAY 6

	  sub y 38
	  sub x 60
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 72000 M60FLASH 16510 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 38
	  add x 60
	  
		sub x 72
		add y 26
		rotatesprite x y 40960 WEAP_DISP_TEMP2 9008 shade 107 0 windowx1 windowy1 windowx2 windowy2
		add x 72
		sub y 26

  rotatesprite x y 40960 0 16567 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 0 16568 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  }
  break
case 7
case 8
case 9
case 10
case 19
case 20
case 21
case 22
  state gunpushback_display
  sub x 72
  add y 26
  rotatesprite x y 40960 16 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 72
  sub y 26
  rotatesprite x y 40960 16 16566 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 16 16568 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 16
case 17
case 18
add x 10
add y 10
  rotatesprite x y 40960 16 16569 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 16 16570 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 14
add x 10
add y 10
  rotatesprite x y 40960 24 16569 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 24 16570 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 15
add x 10
add y 10
  rotatesprite x y 40960 32 16569 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 16570 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// ==========================================================================================
// Micky's particle beam
// ==========================================================================================

defstate pb_hand
	sub x 80
	add y 27
    ife weaponcount 2 rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade 103 0 windowx1 windowy1 windowx2 windowy2
	else rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 80
	sub y 27
ends


defstate draw_mc_pbeam
  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 150 320
  
  ifand GUNFIREMODE 16384
	{
	add y 10
	add x 10
	}

  set WEAP_DISP_TEMP5 60
  sub WEAP_DISP_TEMP5 GUN_HEAT[CURWEAP]

switch weaponcount
case 0
case 1
case 4
case 5
case 6
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
    state gunpushback_display
	state pb_hand
	set M60FLASH 0
	rotatesprite x y 40960 WEAP_DISP_TEMP2 22529 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	rotatespritea x y 40960 WEAP_DISP_TEMP2 22531 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 2
add x 5
add y 5
set GUN_PUSHBACK_DISPLAY 6

   sub y 35
  sub x 40
 ife M60FLASH 0 displayrandvar M60FLASH 2048
  rotatespritea x y 82000 M60FLASH 16510 0 1 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 40
  state pb_hand
  rotatesprite x y 40960 0 22530 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 WEAP_DISP_TEMP2 22531 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 3
add x 5
add y 5
set GUN_PUSHBACK_DISPLAY 6

   sub y 40
  sub x 35
  rotatespritea x y 92000 M60FLASH 16510 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 35
  state pb_hand
  rotatesprite x y 40960 0 22530 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 WEAP_DISP_TEMP2 22531 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
case 19
case 20
case 21
case 22
  state gunpushback_display
  add x 10
  state pb_hand
  sub x 10
  rotatesprite x y 40960 16 22618 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 16 22531 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 16
case 17
case 18
add x 10
add y 10
  state gp63_hand2
  rotatesprite x y 40960 32 22532 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22533 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 14
add x 10
add y 10
  state gp63_hand2
  rotatesprite x y 40960 32 22532 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22533 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 15
add x 10
add y 10
  state gp63_hand2
  rotatesprite x y 40960 32 22532 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22533 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch

	
ends

// GEOFFREY'S RAILGUN=======================================================================================================


defstate drawg_railgun
ife SCOPE 2 break
  set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 229
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 147 320
  
  ife currentweapon 11
  ife wep_pal 0
	{
	set wep_pal 21
	}

switch weaponcount
case 0
case 2
case 4
case 6
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  state gunpushback_display
  
	sub x 60
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 18
  
  rotatesprite x y 45056 WEAP_DISP_TEMP2 6523 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife currentweapon 11 set WEAP_DISP_TEMP4 21 else set WEAP_DISP_TEMP4 0
  ife WEAPON_GLOW YES
	  {
	  state GLOWCODE
	  rotatespritea x y 45056 WEAP_DISP_TEMP2 6569 WEAP_DISP_TEMP WEAP_DISP_TEMP4 0 -255 windowx1 windowy1 windowx2 windowy2
	  state crystal_glow
	  rotatespritea x y 45056 WEAP_DISP_TEMP2 6528 crystal_shade WEAP_DISP_TEMP4 0 -255 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 1
case 5
 displayrandvar GUN_PUSHBACK_DISPLAY 3
  add x GUN_PUSHBACK_DISPLAY
 displayrandvar GUN_PUSHBACK_DISPLAY 3
  add y GUN_PUSHBACK_DISPLAY
  
	sub x 60
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 18
  
	rotatesprite x y 45056 0 6524 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 3
case 7
 displayrandvar GUN_PUSHBACK_DISPLAY 3
  add x GUN_PUSHBACK_DISPLAY
 displayrandvar GUN_PUSHBACK_DISPLAY 3
  add y GUN_PUSHBACK_DISPLAY
  
	sub x 60
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 18
  
	rotatesprite x y 45056 0 6525 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 8
case 9
case 10
	sub x 60
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 18
  rotatesprite x y 45056 0 6526 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
	sub x 60
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 18
  rotatesprite x y 45056 0 6527 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  set GUN_PUSHBACK_DISPLAY 10
  	sub x 60
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 18
  rotatesprite x y 45056 0 6524 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends


// HIGHWIRE'S TOKAREV PISTOL===============================================================================================================

defstate drawtokarev

  set x 199
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  ife PISTOLMAG 0 set tilenum 5919 else set tilenum 5917
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 33
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  rotatesprite x y 40960 0 5918 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
  rotatesprite x y 40960 8 5919 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  rotatesprite x y 65536 8 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  ife PISTOLMAG 0 set tilenum 5919 else set tilenum 5917
  rotatesprite x y 40960 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  rotatesprite x y 65536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  ife PISTOLMAG 0 set tilenum 5919 else set tilenum 5917
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
  ife PISTOLMAG 0 set tilenum 5920 else set tilenum 5921
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 22
  sub x 6
  rotatesprite x y 65536 64 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  ife PISTOLMAG 0 set tilenum 5920 else set tilenum 5921
    rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 6
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  ife PISTOLMAG 0 set tilenum 5920 else set tilenum 5921
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
  ife PISTOLMAG 0 set tilenum2 5920 else set tilenum2 5921
    rotatesprite x y 40960 96 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
    rotatesprite x y 40960 98 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 65536 162 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  ife tilenum2 5920 ife weaponcount 40 sound S1911_SLIDE
    rotatesprite x y 40960 64 5921 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
  
ends

// HIGHWIRE'S PP2000 PISTOL===============================================================================================================

defstate draw_pp2000
  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  add y 25
  sub x 25
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 25
  rotatesprite x y 40960 WEAP_DISP_TEMP2 11860 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 63
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 63
  
  add y 25
  sub x 25
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 25  
  rotatesprite x y 40960 0 11861 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
  add y 25
  sub x 25
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 25
  rotatesprite x y 40960 8 11860 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  set tilenum 11860
  add y 25
  sub x 25
  rotatesprite x y 65536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 25
  rotatesprite x y 40960 16 11860 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  add y 25
  sub x 25
  rotatesprite x y 65536 32 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 25
  rotatesprite x y 40960 32 11860 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
  add y 25
  sub x 25
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub y 25
  add x 25
  rotatesprite x y 40960 0 11862 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  add y 45
  sub x 22
  rotatesprite x y 65536 64 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  sub y 45
  add x 22
    rotatesprite x y 40960 0 11862 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  add y 45
  sub x 22
  rotatesprite x y 65536 64 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  sub y 45
  add x 22
    rotatesprite x y 40960 0 11862 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
    rotatesprite x y 40960 0 11863 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 50
  sub x 32
  rotatesprite x y 65536 256 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
    rotatesprite x y 40960 0 11863 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   add y 50
  sub x 32
  rotatesprite x y 65536 256 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
    rotatesprite x y 40960 0 11864 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	   add y 50
  sub x 32
  rotatesprite x y 65536 256 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// HIGHWIRE'S GOLD SKORPION===============================================================================================================

defstate draw_skorpion

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 32768 WEAP_DISP_TEMP2 13509 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 15
  sub y 25
  state gold_sparkle
  add x 15
  add y 25  
  break
case 2
  add x 7
  add y 7
  set GUN_PUSHBACK_DISPLAY 7
	  displayrandvar M60FLASH 2048
	  sub y 44
	  sub x 50
	  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 44
	  add x 50
	  rotatesprite x y 32768 0 13510 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  add x 7
  add y 7
  rotatesprite x y 32768 0 13509 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  rotatesprite x y 32768 0 13509 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 36
case 37
case 38
  rotatesprite x y 32768 0 13509 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 33
case 34
case 35
  rotatesprite x y 32768 32 13509 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  rotatesprite x y 32768 48 13511 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    sub x 55
  add y 34
  rotatesprite x y NORMALSIZE 1300 CHOLDING shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 30
case 31
case 32
  rotatesprite x y 32768 64 13511 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    sub x 55
  add y 34
  rotatesprite x y NORMALSIZE 1288 CHOLDING shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  rotatesprite x y 32768 64 13512 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
  rotatesprite x y 32768 64 13512 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  rotatesprite x y 32768 96 13512 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends


// Mikko's MDF Magnum===============================================================================================================

defstate draw_MDF_magnum

  set x 199
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  set tilenum 11102
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 29
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 33
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  set tilenum 11103
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 29
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
  set tilenum 11104
  rotatesprite x y 40960 8 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 29
  add x 8
  rotatesprite x y 65536 8 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  state gunpushback_display
  set tilenum 11102
  rotatesprite x y 40960 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 29
  add x 7
  rotatesprite x y 65536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
 set tilenum 11104
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 42
  add x 10
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
 set tilenum 11104
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 42
  add x 10
  rotatesprite x y 65536 64 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  set tilenum 11105
    rotatesprite x y 40960 0 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add y 50
  add x 6
  rotatesprite x y 68536 128 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  set tilenum 11106
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 50
  add x 6
  rotatesprite x y 68536 128 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
	set tilenum 11106
    rotatesprite x y 40960 32 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add y 50
  add x 4
  rotatesprite x y 68536 140 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
  set tilenum 11106
    rotatesprite x y 40960 32 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add y 50
  add x 4
  rotatesprite x y 68536 140 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  set tilenum 11105
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 50
  add x 6
  rotatesprite x y 68536 128 C_PISTOL_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// Mikko's gold rose===============================================================================================================

defstate draw_gold_rose
  set x 199
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  set tilenum 13484
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 29
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
     sub x 35
  sub y 55
  state gold_sparkle
  add x 35
  add y 55
  
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 33
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  set tilenum 13485
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 29
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
  set tilenum 13486
  rotatesprite x y 40960 8 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  state gunpushback_display
  set tilenum 13484
  rotatesprite x y 40960 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 29
  add x 7
  rotatesprite x y 65536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
 set tilenum 13486
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
 set tilenum 13486
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  set tilenum 13487
    rotatesprite x y 40960 0 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  set tilenum 13513
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
	set tilenum 13514
    rotatesprite x y 40960 32 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
  set tilenum 13513
    rotatesprite x y 40960 32 tilenum shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  set tilenum 13487
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// Highwire's automag===============================================================================================================

defstate draw_automag

  set x 219
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SILVER_T_SPIN
  ife WEAP_DISP_TEMP2 -2 soundonce SILVER_T_SPIN
  state wep_drawup
  state gunpushback_display
  ife PISTOLMAG 0 set tilenum 13435 else set tilenum 13433
  rotatesprite x y 32768 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 33
  rotatespritea x y 24000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  rotatesprite x y 32768 0 13434 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
  rotatesprite x y 32768 8 13435 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 5
  rotatesprite x y 65536 8 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  ife PISTOLMAG 0 set tilenum 13435 else set tilenum 13433
  rotatesprite x y 32768 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 30
  add x 5
  rotatesprite x y 65536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  ife PISTOLMAG 0 set tilenum 13435 else set tilenum 13433
  rotatesprite x y 32768 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add y 30
  add x 5
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife PISTOLMAG 0 set tilenum 13436 else set tilenum 13437
    rotatesprite x y 32768 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 6
  rotatesprite x y 65536 64 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  ife weaponcount 20 add y 5
  ife PISTOLMAG 0 set tilenum 13436 else set tilenum 13437
    rotatesprite x y 32768 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
case 42
case 43
  add y 5
  ife weaponcount 42 add y 5
  ife PISTOLMAG 0 set tilenum 13436 else set tilenum 13437
    rotatesprite x y 32768 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 16
  sub x 10
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 39
case 40
case 41
  ife PISTOLMAG 0 set tilenum 13436 else set tilenum 13437
    rotatesprite x y 32768 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 12
  sub x 10
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
  ife PISTOLMAG 0 set tilenum 13436 else set tilenum 13437
    rotatesprite x y 32768 98 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 12
  sub x 10
  rotatesprite x y 65536 162 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// Highwire's AKM===============================================================================================================

defstate drawAKM

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 227
  clamp y 155 320
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
 ifand GUNFIREMODE 32768 // Using the GL?
{
	switch GL_COUNTDOWN 
	case 0
	case 43
	case 42
	case 41	
	  state wep_drawup
	 rotatesprite x y 40960 WEAP_DISP_TEMP2 5906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 WEAP_DISP_TEMP2 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 WEAP_DISP_TEMP2 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 1
	case 2
	case 3
	case 4
	 rotatesprite x y 40960 0 5901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5913 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 5
	case 6
	case 7
	case 8
	 rotatesprite x y 40960 32 5904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 9
	case 10
	case 11
	case 12
	case 13
	 rotatesprite x y 40960 32 5905 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 14
	case 15
	case 16
	 rotatesprite x y 40960 0 5905 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			sub x 20
			add y 25
			rotatesprite x y NNORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	 break
	case 17
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	 rotatesprite x y 40960 64 5905 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			set WEAP_DISP_TEMP7 GL_COUNTDOWN
			mulvar WEAP_DISP_TEMP7 2
			sub WEAP_DISP_TEMP7 20
			add y WEAP_DISP_TEMP7
			sub x 20
			rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 512 rotatesprite x y NORMALSIZE 0 16122 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 2048 rotatesprite x y NORMALSIZE 0 6132 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 4096 rotatesprite x y NORMALSIZE 0 6133 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else rotatesprite x y NORMALSIZE 0 16127 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 30
	case 31
	case 32
	 rotatesprite x y 40960 0 5904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 33
	case 34
	case 35
	case 36
	 rotatesprite x y 40960 32 5904 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 37
	case 38
	case 39
	case 40
	 rotatesprite x y 40960 0 5901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5913 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 44
	case 45
	case 46
	case 47
	case 48
			set WEAP_DISP_TEMP6 x
			sub WEAP_DISP_TEMP6 48
			set WEAP_DISP_TEMP7 y
			sub WEAP_DISP_TEMP7 32
			displayrandvar M60FLASH 2048
			rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			rotatesprite x y 40960 0 5900 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5908 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
			ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5912 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	endswitch
}
else
switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
  ifand GUNFIREMODE 16384 // Ironsight?
  {
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 10
	  state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12172 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 147
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12165 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
	  
	  		ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				sub y 30
				rotatespritea x y 6096 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
				}

  }
  else
	  {
	  state wep_drawup
	  state gunpushback_display
	  sub x 35
	  add y 40
	  rotatesprite x y 57344 0 C_ARM_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 40
	  rotatesprite x y 40960 WEAP_DISP_TEMP2 5899 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 WEAP_DISP_TEMP2 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 WEAP_DISP_TEMP2 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 2
case 3
  ifand GUNFIREMODE 16384
  {
  	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 5
	  state random_AR_flash
	  sub y 10
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 5
	  set GUN_PUSHBACK_DISPLAY 10
		state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12172 0 106 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 147
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12165 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
  
  }
  else
  {
 displayrandvar GUN_PUSHBACK_DISPLAY 7
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 50
  sub y 38
  state random_AR_flash
  rotatespritea x y 20500 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 38
	  sub x 35
	  add y 40
	  rotatesprite x y 57344 0 C_ARM_1 0 107 8 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 40
  rotatesprite x y 40960 0 5900 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5908 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5912 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 11
case 12
case 13
  rotatesprite x y 40960 64 5901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 64 5909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 64 5913 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
  add y 5
  add x 5
  rotatesprite x y 40960 96 5901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 96 5909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 96 5913 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 34
case 35
  add y 5
  add x 5
  rotatesprite x y 40960 128 5901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 128 5909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 128 5913 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
case 32
case 33
  sub y 5
  sub x 5
  rotatesprite x y 40960 96 5902 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 96 5910 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 96 5914 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
case 31
  sub y 5
  sub x 5
  rotatesprite x y 40960 64 5903 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 64 5910 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 64 5914 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start reloading
case 58
  rotatesprite x y 40960 0 5906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 0 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 0 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 57
  rotatesprite x y 40960 16 5906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 16 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 16 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 56
  rotatesprite x y 40960 24 5906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 24 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 24 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 55
  rotatesprite x y 40960 32 5906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 32 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 32 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 42
case 54
  rotatesprite x y 40960 40 5906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 40 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 40 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 53
  add y 15
  rotatesprite x y 40960 48 5906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 48 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 48 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 52
  add y 20
  rotatesprite x y 40960 64 5906 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 64 5907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 64 5911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 45
case 51
  add y 25
  rotatesprite x y 40960 76 5901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 76 5909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 76 5913 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 50
  add y 30
  rotatesprite x y 40960 96 5901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 96 5909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 96 5913 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 47
case 48
case 49
  add y 45
  rotatesprite x y 40960 104 5901 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 64 rotatesprite x y 40960 104 5909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand HIGHWIRE_UPGRADE 1 rotatesprite x y 40960 104 5913 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// HIGHWIRE'S M16A2 =========================================================================================

defstate drawm16a2

  set x 250
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 257
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
    
ifand GUNFIREMODE 32768 // Using the M16's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 state wep_drawup
 rotatesprite x y 45152 WEAP_DISP_TEMP2 11872 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 45152 0 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 45152 32 12077 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 45152 32 12079 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 45152 0 12078 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 90
		add y 5		
	    rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 45152 64 12078 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 105
		
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 45152 0 12078 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 45152 32 12077 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
	  
 rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

 rotatesprite x y 45152 0 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 45152 WEAP_DISP_TEMP2 12108 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using M16's mainfiring mode
	{
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	  state tempm16_arm
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		rotatesprite x y 45152 WEAP_DISP_TEMP2 11872 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 2
	displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  sub x 75
	  sub y 70
	  state random_AR_flash
	  rotatespritea x y 25000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 75
	  add y 70
	   state tempm16_arm
	  rotatesprite x y 45152 0 11873 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 11875 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 15
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 34
	case 35
	  sub y 15
	  rotatesprite x y 40960 0 11876 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 11877 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 11874 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 11875 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 11875 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

// Highwire's AS VAL===============================================================================================================

defstate draw_ASVAL
 set x 270
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 257
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
   set WEAP_DISP_TEMP9 49248  
    
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	  state tempm16_arm
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 11031 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 2
	displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  sub x 95
	  sub y 70
	  rotatespritea x y 15000 0 16114 15 27 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 95
	  add y 70
	   state tempm16_arm
	  rotatesprite x y WEAP_DISP_TEMP9 0 11032 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  ife KICKBACKPIC 10 add y 5
	  rotatesprite x y WEAP_DISP_TEMP9 0 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y WEAP_DISP_TEMP9 0 11034 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 15
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 34
	case 35
	  sub y 15
	  rotatesprite x y WEAP_DISP_TEMP9 0 11035 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  rotatesprite x y WEAP_DISP_TEMP9 0 11036 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y WEAP_DISP_TEMP9 0 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y WEAP_DISP_TEMP9 16 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y WEAP_DISP_TEMP9 32 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y WEAP_DISP_TEMP9 32 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y WEAP_DISP_TEMP9 32 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y WEAP_DISP_TEMP9 48 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y WEAP_DISP_TEMP9 64 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y WEAP_DISP_TEMP9 76 11033 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y WEAP_DISP_TEMP9 96 11034 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y WEAP_DISP_TEMP9 104 11034 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
ends

// Highwire's RPK===============================================================================================================

defstate drawRPK

  set x 205
  ifand GUNFIREMODE 512 add x WEAPSWAYX else
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
   state gunpushback_display
   
  sub x 40
  add y 17
  rotatesprite x y 53248 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 40
  sub y 17
   
  rotatesprite x y 45056 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
case 4
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
 displayrandvar M60FLASH 2048
 sub x 40
 sub y 50
  state random_AR_flash
  rotatespritea x y 21000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 50
  
  sub x 40
  add y 17
  rotatesprite x y 53248 0 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2
  add x 40
  sub y 17
  
  ifand GUNFIREMODE 512 rotatesprite x y 45056 WEAP_DISP_TEMP2 5978 0 0 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 45056 WEAP_DISP_TEMP2 5976 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 62
case 63
case 64

  sub x 40
  add y 17
  rotatesprite x y 53248 16 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 40
  sub y 17

  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 60
case 61
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 58
case 59
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 48 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 56
case 57
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 17
case 52
case 53
case 54
case 55
  ifand GUNFIREMODE 512 set tilenum 5958 else set tilenum 5957
  rotatesprite x y 45056 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
case 21
case 48
case 49
case 50
case 51
  ifand GUNFIREMODE 512 set tilenum 5958 else set tilenum 5957
  rotatesprite x y 45056 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 44
case 45
case 46
case 47
  ifand GUNFIREMODE 512 set tilenum 5960 else set tilenum 5959
  rotatesprite x y 45056 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 42
case 43
  ifand GUNFIREMODE 512 set tilenum 5960 else set tilenum 5959
  rotatesprite x y 45056 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 28
case 29
case 40
case 41
  ifand GUNFIREMODE 512 set tilenum 5962 else set tilenum 5961
  rotatesprite x y 45056 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
case 35
case 36
case 37
case 38
case 39
  add y 10
  ifand GUNFIREMODE 512 set tilenum 5964 else set tilenum 5963
  rotatesprite x y 45056 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 65 // start reloading
case 85
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 66
case 84
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 67
case 83
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 68
case 82
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 10
  break
case 69
case 81
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 10
  break
case 70
case 80
  add y 5
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 48 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 71
case 79
  add y 10
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 72
case 78
  add y 15
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 76 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 73
case 77
  add y 20
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 96 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 8
  break
case 74
case 75
case 76
  add y 35
  ifand GUNFIREMODE 512 set tilenum 5977 else set tilenum 5975
  rotatesprite x y 45056 104 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 8
  break
endswitch
ends

// Highwire's PKM===============================================================================================================

defstate drawPKM

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 78
case 1
	state gunpushback_display
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
   state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 13452 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
case 4
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
 displayrandvar M60FLASH 2048
 sub x 57
 sub y 55
  state random_AR_flash
  rotatespritea x y 22000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 55
  rotatesprite x y 40960 WEAP_DISP_TEMP2 13453 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
add x KICKBACKPIC
  rotatesprite x y 40960 0 13452 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 75
case 76
case 77
sub x 20
sub y 20
  rotatesprite x y 40960 0 13452 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 72
case 73
case 74
sub x 20
sub y 20
  rotatesprite x y 40960 0 13452 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 69
case 70
case 71
sub x 20
sub y 20
  rotatesprite x y 40960 0 13452 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
case 66
case 67
case 68
sub x 20
sub y 20
  rotatesprite x y 40960 0 13452 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 62
case 63
case 64
case 65
  add y 5
  rotatesprite x y 40960 0 13452 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
  add y 15
  rotatesprite x y 40960 0 13452 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 35
case 36
case 37
case 38
case 39
case 42
case 43
  add y 10
  rotatesprite x y 40960 0 13454 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
  add y 5
  rotatesprite x y 40960 0 13454 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 45
case 60
case 61
  add y 10
  rotatesprite x y 40960 32 13454 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 47
case 58
case 59
  add y 12
  rotatesprite x y 40960 64 13454 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 48
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
  add y 15
  rotatesprite x y 40960 96 13455 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 79
case 80
case 81
case 96
case 97
case 98
  add y 10
  add x 10
	  rotatesprite x y 40960 0 13455 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 82
case 83
case 84
case 93
case 94
case 95
  add y 11
  add x 11
	  rotatesprite x y 40960 0 13455 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 85
case 86
case 90
case 91
case 92
  add y 13
  add x 13
	  rotatesprite x y 40960 32 13455 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 87
case 88
case 89
  add y 15
  add x 15
	  rotatesprite x y 40960 64 13455 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
endswitch
ends


// Highwire's RPKM===============================================================================================================

defstate drawRPKM

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  state gunpushback_display
  rotatesprite x y FNFAL_SIZE WEAP_DISP_TEMP2 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
case 4
 displayrandvar GUN_PUSHBACK_DISPLAY 8
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
 displayrandvar M60FLASH 2048
 sub x 60
 sub y 50
  state random_AR_flash
  rotatespritea x y 21000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 60
  add y 50
  rotatesprite x y FNFAL_SIZE 0 11882 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 48
  rotatesprite x y FNFAL_SIZE 16 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 47
  rotatesprite x y FNFAL_SIZE 32 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 46
  rotatesprite x y FNFAL_SIZE 48 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 45
  rotatesprite x y FNFAL_SIZE 64 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 17
case 43
case 44
  sub x 105
  add y 20
  ifl KICKBACKPIC 18 ife MACHINE_MAG 0 set tilenum 11879 else set tilenum 11885
  rotatesprite x y NNORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 105
  sub y 30
  rotatesprite x y 70638 32 11884 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
case 21
case 41
case 42
  sub x 135
  add y 25
  ifl KICKBACKPIC 22 ife MACHINE_MAG 0 set tilenum 11879 else set tilenum 11885
  rotatesprite x y NNORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 135
  sub y 25
  rotatesprite x y 70638 0 11884 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 39
case 40
  sub x 150
  add y 30
  ifl KICKBACKPIC 26 ife MACHINE_MAG 0 set tilenum 11879 else set tilenum 11885
  rotatesprite x y NNORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 150
  sub y 50
  rotatesprite x y 70638 0 11884 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 37
case 38
  sub x 165
  add y 45
  ifl KICKBACKPIC 28 ife MACHINE_MAG 0 set tilenum 11879 else set tilenum 11885
  rotatesprite x y NNORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 165
  sub y 65
  rotatesprite x y 70638 0 11884 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 28
case 29
case 35
case 36
  sub x 180
  add y 45
  ifl KICKBACKPIC 30 ife MACHINE_MAG 0 set tilenum 11879 else set tilenum 11885
  rotatesprite x y NNORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 180
  sub y 65
  rotatesprite x y 70638 16 11884 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
  sub y 20
  rotatesprite x y 70638 32 11884 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 49 // start reloading
case 69
  rotatesprite x y FNFAL_SIZE 0 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 50
case 68
  rotatesprite x y FNFAL_SIZE 16 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 51
case 67
  rotatesprite x y FNFAL_SIZE 32 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 52
case 66
  rotatesprite x y FNFAL_SIZE 32 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 10
  break
case 53
case 65
  rotatesprite x y FNFAL_SIZE 32 11881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 10
  break
case 54
case 64
  add y 5
  rotatesprite x y FNFAL_SIZE 48 5891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 55
case 63
  add y 10
  rotatesprite x y FNFAL_SIZE 64 5891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 56
case 62
  add y 15
  rotatesprite x y FNFAL_SIZE 76 5891 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 40
  break
case 57
case 61
  add y 20
  rotatesprite x y FNFAL_SIZE 96 5892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 8
  break
case 58
case 59
case 60
  add y 35
  rotatesprite x y FNFAL_SIZE 104 5892 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 8
  break
endswitch
ends


// HIGHWIRE'S RPG7===============================================================================================================

defstate drawmissilel


  set x 260
  add x weapon_xoffset
  sub x looking_angSR1
  set WEAP_DISP_TEMP WEAPSWAYY
  divvar WEAP_DISP_TEMP 2
  sub x WEAP_DISP_TEMP


  set y 197
  sub y WEAPSWAYY
  add y looking_arc
  set WEAP_DISP_TEMP gun_pos
  divvar WEAP_DISP_TEMP 2
  sub y WEAP_DISP_TEMP
  

switch weaponcount
case 0
case 1
  ife CUR_AMMO 0 set tilenum 5929 else set tilenum 5922
  rotatesprite x y 49152 0 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  sub y 35
  sub x 20
 displayrandvar M60FLASH 2048
  rotatespritea x y 32000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 20

  rotatesprite x y 49152 0 5923 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
  add x weaponcount
  add y weaponcount
  rotatesprite x y 49152 0 5929 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
case 8
case 9
case 10
  sub y 40
  set WEAP_DISP_TEMP2 weaponcount
  mul WEAP_DISP_TEMP2 4
  add y WEAP_DISP_TEMP2
  add x WEAP_DISP_TEMP2
  rotatesprite x y 49152 0 5924 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
  sub x 100
  add y 80
  rotatesprite x y 49152 0 5926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 100
  sub y 80
  
  sub y 20
  set WEAP_DISP_TEMP2 weaponcount
  mul WEAP_DISP_TEMP2 3
  add y WEAP_DISP_TEMP2
  rotatesprite x y 49152 0 5925 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
  sub x 90
  add y 70
  rotatesprite x y 49152 0 5926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 90
  sub y 70
  
  sub y 20
  set WEAP_DISP_TEMP2 weaponcount
  mul WEAP_DISP_TEMP2 3
  add y WEAP_DISP_TEMP2
  rotatesprite x y 49152 0 5925 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
  sub x 80
  add y 60
  rotatesprite x y 49152 0 5926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
  sub x 70
  add y 50
  rotatesprite x y 49152 0 5926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
  sub x 60
  add y 40
  rotatesprite x y 49152 0 5926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
  sub x 50
  add y 50
  rotatesprite x y 49152 0 5926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
  sub x 40
  add y 60
  rotatesprite x y 49152 0 5926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
  add y 80
  set WEAP_DISP_TEMP2 weaponcount
  mul WEAP_DISP_TEMP2 3
  sub y WEAP_DISP_TEMP2
  rotatesprite x y 49152 0 5927 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
  add y 80
  set WEAP_DISP_TEMP2 weaponcount
  mul WEAP_DISP_TEMP2 3
  sub y WEAP_DISP_TEMP2
  add x WEAP_DISP_TEMP2 
  rotatesprite x y 49152 0 5928 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 35

  add y 80
  set WEAP_DISP_TEMP2 weaponcount
  mul WEAP_DISP_TEMP2 3
  sub y WEAP_DISP_TEMP2

  set WEAP_DISP_TEMP2 weaponcount
  add WEAP_DISP_TEMP2 512
  mul WEAP_DISP_TEMP2 4
  rotatesprite x y 49152 WEAP_DISP_TEMP2 5922 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ==============================================================================================================
// JAMES JACKHAMMER
// ==============================================================================================================

defstate draw_jackhammer

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1


  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 60
case 61
case 62
case 63
case 0
case 1
  state wep_drawup
  state gunpushback_display
  
 	sub x 90
	add y 32
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 90
	sub y 32
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 12161 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  sub y 35
  sub x 70
 displayrandvar M60FLASH 2048
  rotatespritea x y 15000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 70
  
 	sub x 90
	add y 32
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade 107 0 windowx1 windowy1 windowx2 windowy2
	add x 90
	sub y 32
  
  rotatesprite x y 40960 0 12162 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  displayrandvar GUN_PUSHBACK_DISPLAY 10
  add GUN_PUSHBACK_DISPLAY 5
  add y GUN_PUSHBACK_DISPLAY
  add x GUN_PUSHBACK_DISPLAY
  
 	sub x 90
	add y 32
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade 0 0 windowx1 windowy1 windowx2 windowy2
	add x 90
	sub y 32
  
  rotatesprite x y 40960 0 12161 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
 	sub x 85
	add y 37
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade 0 0 windowx1 windowy1 windowx2 windowy2
	add x 85
	sub y 37
  rotatesprite x y 40960 24 12161 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
 	sub x 88
	add y 32
    rotatesprite x y 70000 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 0 12159 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
 	sub x 88
	add y 32
    rotatesprite x y 70000 24 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 24 12159 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
 	sub x 88
	add y 32
    rotatesprite x y 70000 -64 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 -64 12153 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
 	sub x 88
	add y 32
    rotatesprite x y 70000 -48 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 -48 12153 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
 	sub x 88
	add y 32
    rotatesprite x y 70000 -32 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 -32 12153 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 26
case 27
case 28
 	sub x 88
	add y 32
    rotatesprite x y 70000 -24 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 -24 12153 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 29
case 30
case 31
case 32
case 33
case 34
 	sub x 88
	add y 32
    rotatesprite x y 70000 -12 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 -12 12153 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
case 39
case 40
case 41
case 42
 	sub x 88
	add y 32
    rotatesprite x y 70000 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 0 12153 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 44
case 45
case 46
case 47
case 48
case 49
case 50
case 51
case 52
 	sub x 88
	add y 32
    rotatesprite x y 70000 24 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  ife KICKBACKPIC 43 sub y 10
  rotatesprite x y 40960 24 12153 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 53
case 54
case 55
case 56
 	sub x 88
	add y 32
    rotatesprite x y 70000 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 0 12153 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 57
case 58
case 59
 	sub x 88
	add y 32
    rotatesprite x y 70000 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 88
	sub y 32
  rotatesprite x y 40960 0 12161 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// JAMES GOLD HK CAWS

defstate draw_gold_CAWS

 set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 220
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 139 320

switch weaponcount
case 0
case 1
case 4
case 5
case 6
  ife player[].weapon_pos 8 soundonce AUTOSHOT_CLOSE
  state wep_drawup
  state gunpushback_display
  
    sub x 75
	add y 40
    rotatesprite x y NNORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 75
	sub y 40
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 19760 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    sub x 35
  sub y 55
  state gold_sparkle
  add x 35
  add y 55
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 10
 add x GUN_PUSHBACK_DISPLAY
 add y GUN_PUSHBACK_DISPLAY
 ife M60FLASH 0 displayrandvar M60FLASH 2048
 sub y 30
  sub x 47
  rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 47
  add y 30
  
    sub x 75
	add y 40
    rotatesprite x y NNORMALSIZE 0 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2 // arm
    add x 75
	sub y 40
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 19761 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 38
case 37
  add y 15
    sub x 75
	add y 40
    rotatesprite x y NNORMALSIZE 0 C_ARM_2 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
    add x 75
	sub y 40
  rotatesprite x y 40960 WEAP_DISP_TEMP2 19760 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 36
case 35
  add y 20
  rotatesprite x y 40960 0 19762 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 34
case 33
  add y 25
  rotatesprite x y 40960 0 19762 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 28
case 29
case 30
case 31
case 32
  add y 25
  rotatesprite x y 40960 0 19763 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 25
case 26
case 27
  add y 30
  rotatesprite x y 40960 0 19764 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// JAMES'S XM8 laser===============================================================================================================

defstate drawjsautos

  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

  set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

ifand GUNFIREMODE 16384 { add x 20 add y 20 set WEAP_DISP_TEMP9 61536 }
else set WEAP_DISP_TEMP9 40960

switch weaponcount
case 0
case 3
case 52
  state wep_drawup
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 5254 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state reverse_shade
  ife CURWEAP 11 
		{
		rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 5179 0 2 0 windowx1 windowy1 windowx2 windowy2
		ife WEAPON_GLOW YES rotatespritea x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 5227 WEAP_DISP_TEMP5 2 0 -255 windowx1 windowy1 windowx2 windowy2
		}
  else 
		{
		rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 5179 0 0 0 windowx1 windowy1 windowx2 windowy2
		ife WEAPON_GLOW YES rotatespritea x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 5227 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
	
  	  sub x 80
	  add y 42
	  myospal x y C_ARM_2 shade 0 wep_pal
	  sub y 42
	  add x 80
  
  ifand GUNFIREMODE 16384 nullop
	else
	ife WEAP_DISP_TEMP2 0
	{
	 sub y 33
	 sub x 9
	 ife CURWEAP 11 digitalnumberz 3010 x y SLUGSHOTMAG 0 4 1 windowx1 windowy1 windowx2 windowy2 DOUBLESIZE
	 else digitalnumberz 3010 x y AUTOSHOTMAG 0 4 1 windowx1 windowy1 windowx2 windowy2 DOUBLESIZE
	}
  break
case 1
case 2
displayrandvar WEAP_DISP_TEMP 5
add x WEAP_DISP_TEMP
add y WEAP_DISP_TEMP

ife CURWEAP 6 // Laser Rifle
	{
 displayrandvar M60FLASH 2048
   sub y 43
  sub x 50
  displayrandvar M60FLASH 2048
  rotatespritea x y 17000 M60FLASH 16115 0 8 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 43
  add x 50
 
  rotatesprite x y WEAP_DISP_TEMP9 0 5255 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y WEAP_DISP_TEMP9 0 5179 0 0 0 windowx1 windowy1 windowx2 windowy2
  
    	  sub x 80
	  add y 42
	  myospal x y C_ARM_2 shade 0 wep_pal
	  sub y 42
	  add x 80
  
   ifand GUNFIREMODE 16384 nullop
	else
		{
		 sub y 33
		 sub x 9
		 digitalnumberz 3010 x y AUTOSHOTMAG 0 4 1 windowx1 windowy1 windowx2 windowy2 DOUBLESIZE
		}
  
	}
	else
ife CURWEAP 11 // Slug shot
	{
 displayrandvar M60FLASH 2048
   sub y 18
  sub x 50
  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 18
  add x 50
  
  rotatesprite x y WEAP_DISP_TEMP9 0 5258 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y WEAP_DISP_TEMP9 0 5179 0 2 0 windowx1 windowy1 windowx2 windowy2
    ifand GUNFIREMODE 16384 nullop
	else
		{
		 sub y 33
		 sub x 9
		 digitalnumberz 3010 x y SLUGSHOTMAG 0 4 1 windowx1 windowy1 windowx2 windowy2 DOUBLESIZE
		}
	}	
  break
case 4
case 5
case 6
  rotatesprite x y 49152 0 5256 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 49
case 50
case 51
  rotatesprite x y 49152 32 5256 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
case 46
case 47
case 48 
  rotatesprite x y 49152 64 5259 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 95
	  add y 25
	  rotatesprite x y 55536 64 5243 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 43
case 44
case 45
  rotatesprite x y 49152 0 5257 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 105
	  add y 85
	  rotatesprite x y 55536 64 5243 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
  rotatesprite x y 49152 0 5442 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 28
case 29
case 30
  rotatesprite x y 49152 32 5442 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
  rotatesprite x y 49152 0 5442 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 34
case 35
case 36
case 37
case 38
case 39
case 40
case 41
case 42
  rotatesprite x y 49152 0 5442 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

//GRENADE===============================================================================================================

defstate displaygrenade

      set x 235
      set y 255
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos

  switch weaponcount
   case 0
      set tilenum CPIPEBOMB
getp[].ammo_amount 5 WEAP_DISP_TEMP
      ifg WEAP_DISP_TEMP 0 myospal x y tilenum shade 0 wep_pal
   break
   case 1 
   case 2
      set tilenum CPIPEBOMB
      myospal x y tilenum shade 0 wep_pal
	sub x 140
	add tilenum 1
      myospal x y tilenum shade 0 wep_pal
	break
   case 3 
   case 4 
      set tilenum CPIPEBOMB
      myospal x y tilenum shade 0 wep_pal
	sub x 120
	add tilenum 1
      myospal x y tilenum shade 0 wep_pal
	break
   case 5
   case 6  
      set tilenum CPIPEBOMB
      myospal x y tilenum shade 0 wep_pal
	sub x 100
	add tilenum 1
      myospal x y tilenum shade 0 wep_pal
	break
   case 7
   case 8
   case 9
   case 10    
      set tilenum CPIPEBOMB
      myospal x y tilenum shade 0 wep_pal
	sub x 100
	add tilenum 2
      myospal x y tilenum shade 0 wep_pal
	break
   case 11
   case 12 
      soundonce 650
      set tilenum CPIPEBOMB
	add tilenum 4
      myospal x y tilenum shade 0 wep_pal
	sub x 120
	set tilenum CPIPEBOMB
	add tilenum 3
      myospal x y tilenum shade 0 wep_pal
	break
   case 13
   case 14  
      set tilenum CPIPEBOMB
	add tilenum 4
      myospal x y tilenum shade 0 wep_pal
	sub x 140
	set tilenum CPIPEBOMB
	add tilenum 3
      myospal x y tilenum shade 0 wep_pal
	break
   case 15
   case 16
   case 17  
      set tilenum CPIPEBOMB
	add tilenum 4
      myospal x y tilenum shade 0 wep_pal
   break
   case 18 
   case 19 
	sub x 150
      set tilenum CPIPEBOMB
      add tilenum 1
      myospal x y tilenum shade 0 wep_pal
   break
   case 20
   case 21
	sub x 40
      sub y 10
      set tilenum CPIPEBOMB
	add tilenum 5
      myospal x y tilenum shade 0 wep_pal
   break
   case 22
	sub x 60
      sub y 20
      set tilenum CPIPEBOMB
	add tilenum 6
      myospal x y tilenum shade 0 wep_pal
	break
   case 23
   case 24
	sub x 60
      sub y 10
      set tilenum CPIPEBOMB
	add tilenum 6
      myospal x y tilenum shade 0 wep_pal
	break
   case 25
   case 26
   case 27
	sub x 60
	sub y 10
      set tilenum CPIPEBOMB
	add tilenum 7
      myospal x y tilenum shade 0 wep_pal
	break
   case 28
   case 29
	sub x 60
	sub y 20
      set tilenum CPIPEBOMB
	add tilenum 7
      myospal x y tilenum shade 0 wep_pal
	break
  endswitch
ends



// JAMES' GRENADE===============================================================================================================


defstate displayjgrenade

	ifand CHAR_APP 1 set x 65 else
      set x 225
      set y 255
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos

ifand CHAR_APP 1
  switch weaponcount
   case 0
      set WEAP_DISP_TEMP 295
      set tilenum CPIPEBOMB
getp[].ammo_amount 5 WEAP_DISP_TEMP2
      ifg WEAP_DISP_TEMP2 0 myospal x y tilenum shade 4 wep_pal
   break
   case 1 
   case 2
      set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 3
	  add y WEAP_DISP_TEMP3
      set tilenum CPIPEBOMB
	  add tilenum 1
      myospal x y tilenum shade 4 wep_pal
	break
   case 3 
   case 4 
      set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 3
	  add y WEAP_DISP_TEMP3
      set tilenum CPIPEBOMB
	  add tilenum 2
      myospal x y tilenum shade 4 wep_pal
	break
	case 5
	case 6
      set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 3
	  add y WEAP_DISP_TEMP3
      set tilenum CPIPEBOMB
	  add tilenum 3
      myospal x y tilenum shade 4 wep_pal
	break	
   case 7 
   case 8 
   case 9 
   case 10
   case 11
   case 12
   case 13
   case 14
      set y 320
      add y looking_arc
      sub y gun_pos
	  set WEAP_DISP_TEMP2 weaponcount
	  mulvar WEAP_DISP_TEMP2 8
	  sub y WEAP_DISP_TEMP2
      myospal x y 5175 shade 4 wep_pal
   break
   case 15
   case 16
   case 17
   case 18
   case 19
      set y 160
      add y looking_arc
      sub y gun_pos
	  set WEAP_DISP_TEMP2 weaponcount
	  mulvar WEAP_DISP_TEMP2 8
	  add y WEAP_DISP_TEMP2
      myospal x y 5176 shade 4 wep_pal
   break
  endswitch
else
  switch weaponcount
   case 0
      set WEAP_DISP_TEMP 295
      set tilenum CPIPEBOMB
getp[].ammo_amount 5 WEAP_DISP_TEMP2
      ifg WEAP_DISP_TEMP2 0 myospal x y tilenum shade 0 wep_pal
   break
   case 1 
   case 2
      set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 3
	  add y WEAP_DISP_TEMP3
      set tilenum CPIPEBOMB
	  add tilenum 1
      myospal x y tilenum shade 0 wep_pal
	break
   case 3 
   case 4 
      set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 3
	  add y WEAP_DISP_TEMP3
      set tilenum CPIPEBOMB
	  add tilenum 2
      myospal x y tilenum shade 0 wep_pal
	break
	case 5
	case 6
      set WEAP_DISP_TEMP3 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP3 3
	  add y WEAP_DISP_TEMP3
      set tilenum CPIPEBOMB
	  add tilenum 3
      myospal x y tilenum shade 0 wep_pal
	break
   case 7 
   case 8 
   case 9 
   case 10
   case 11
   case 12
   case 13
   case 14
      set y 320
      add y looking_arc
      sub y gun_pos
	  set WEAP_DISP_TEMP2 weaponcount
	  mulvar WEAP_DISP_TEMP2 8
	  sub y WEAP_DISP_TEMP2
      myospal x y 5175 shade 0 wep_pal
   break
   case 15
   case 16
   case 17
   case 18
   case 19
      set y 160
      add y looking_arc
      sub y gun_pos
	  set WEAP_DISP_TEMP2 weaponcount
	  mulvar WEAP_DISP_TEMP2 8
	  add y WEAP_DISP_TEMP2
      myospal x y 5176 shade 0 wep_pal
   break
  endswitch
ends

// MERLIJN'S DRAGON SLAYER===============================================================================================================

defstate drawdragonslayer
switch weaponcount
case 0
  set x 187
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 253
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 175 320
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 5033 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 120
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 9306 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  set x 268
  set y 175
  rotatesprite x y 40960 0 5034 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  sub x 130
  rotatesprite x y NNORMALSIZE 0 9307 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  set x 250
  set y 185
  rotatesprite x y 40960 0 5035 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  sub x 127
  rotatesprite x y NNORMALSIZE 0 9307 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
  set x 270
  set y 185
  rotatesprite x y 40960 0 5036 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 127
  sub y 10
  rotatesprite x y NNORMALSIZE 0 9308 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
  set x 232
  set y 123
  rotatesprite x y 40960 0 5037 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  sub x 50
  add y 27
  rotatesprite x y NNORMALSIZE 48 9309 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  set x 200
  set y 100
  rotatesprite x y 40960 0 5038 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
  set x 170
  set y 125
  rotatesprite x y 40960 0 5038 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  set x 140
  set y 145
  rotatesprite x y 40960 0 5039 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
  set x 100
  set y 165
  rotatesprite x y 40960 0 5039 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
  set x 80
  set y 185
  rotatesprite x y 40960 0 5039 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
  set x 40
  set y 205
  rotatesprite x y 40960 0 5039 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
  set x 0
  set y 225
  rotatesprite x y 40960 0 5039 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// RUSTY'S REVOLVER===============================================================================================================

defstate OTHERREVOLVER
ifand GUNFIREMODE 64
  {
  set x2 110
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  sub x2 looking_angSR1

  set y2 230
  sub y2 WEAPSWAYY
  add y2 looking_arc
  sub y2 gun_pos
  clamp y2 155 320

  ife KICKBACKPIC 0
	{
	set WEAP_DISP_TEMP2 player[].weapon_pos
	mulvar WEAP_DISP_TEMP2 -20
	add WEAP_DISP_TEMP2 1024
	}
	else set WEAP_DISP_TEMP2 1024
	ife KICKBACKPIC 7 { sub x2 5 sub WEAP_DISP_TEMP2 16 }
	ife KICKBACKPIC 8 { sub x2 15 sub WEAP_DISP_TEMP2 32 }
  
  switch KICKBACKPIC
  case 2
  case 3
	  add x2 20
	  sub y2 40
	  displayrandvar M60FLASH 2048
	  rotatespritea x2 y2 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  sub x2 20
	  add y2 40
  break
  case 4
	  add x2 15
	  sub y2 55
	  displayrandvar M60FLASH 2048
	  rotatespritea x2 y2 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  sub x2 15
	  add y2 55
  break
  endswitch
  
  state wep_drawup_rev
  rotatesprite x2 y2 40690 WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  
    add y2 30
  sub x2 10
  rotatesprite x2 y2 57344 WEAP_DISP_TEMP2 C_PISTOL_1 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2

  ife KICKBACKPIC 2 sound REVOLVERFIRE

  }
ends

defstate drawrevolvers
  set x 217
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 155 set y 155

switch weaponcount
case 0
case 1
  set tilenum 6771 
  ife player[].weapon_pos 8 soundonce R_HOLSTER
  state wep_drawup
  rotatesprite x y 40690 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 60
  sub y 5
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER
  break
case 2
case 3
  add x 5
  add y 5
  set tilenum 6772
  sub x 20
  sub y 40
  displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 20
  add y 40
  rotatesprite x y 40690 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
   ifand GUNFIREMODE_2 16
	  {
	  sub x 60
	  sub y 5
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 0 107 0 windowx1 windowy1 windowx2 windowy2
	  }
  else
  state OTHERREVOLVER
  break
case 4
  add x 7
  add y 7
  set tilenum 6773
	  sub x 15
	  sub y 55
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 15
	  add y 55
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
	  {
	  sub x 60
	  sub y 5
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  else
  state OTHERREVOLVER
  break
case 5
case 6
  set tilenum 6774
  add x 5
  rotatesprite x y 40690 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 60
  add y 25
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER
  break
case 7
case 8
  set tilenum 6773
  add x 5
  rotatesprite x y 40690 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 32 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 58
  sub y 5
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER
  break
case 9
case 10
case 11
case 12
  set tilenum 6771
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state OTHERREVOLVER
  break
// PISTOL1 RELOAD
case 13
case 14
case 15
case 28
case 29
case 30
  ife KICKBACKPIC 13 soundonce R_ROUT
  add y 10
  add x 10
  set tilenum 6774
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  add y 15
  add x 15
  set tilenum 6775
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
  ife KICKBACKPIC 19 soundonce R_RIN
  add y 25
  add x 25
  set tilenum 6776
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  ife KICKBACKPIC 24 soundonce R_HAMMER 
  add y 28
  add x 28
  set tilenum 6777
  rotatesprite x y 40690 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 25
case 26
case 27
  add y 15
  add x 15
  set tilenum 6775
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
// PISTOL2 RELOAD
case 31
case 32
case 33
case 46
case 47
case 48
  ife KICKBACKPIC 31 soundonce R_ROUT
  add y 10
  sub x 140
  set tilenum 6774
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 34
case 35
case 36
  add y 15
  sub x 145
  set tilenum 6775
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  ife KICKBACKPIC 37 soundonce R_RIN
  add y 25
  sub x 155
  set tilenum 6776
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
case 42
  ife KICKBACKPIC 42 soundonce R_HAMMER 
  add y 28
  sub x 158
  set tilenum 6777
  rotatesprite x y 40690 992 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 44
case 45
  add y 15
  sub x 145
  set tilenum 6775
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// RUSTY'S GOLDEN REVOLVER===============================================================================================================

defstate OTHERREVOLVER3
ifand GUNFIREMODE 64
  {
  set x2 110
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  sub x2 looking_angSR1

  set y2 230
  sub y2 WEAPSWAYY
  add y2 looking_arc
  sub y2 gun_pos
  clamp y2 155 320

  ife KICKBACKPIC 0
	{
	set WEAP_DISP_TEMP2 player[].weapon_pos
	mulvar WEAP_DISP_TEMP2 -20
	add WEAP_DISP_TEMP2 1024
	}
	else set WEAP_DISP_TEMP2 1024
	ife KICKBACKPIC 7 { sub x2 5 sub WEAP_DISP_TEMP2 16 }
	ife KICKBACKPIC 8 { sub x2 15 sub WEAP_DISP_TEMP2 32 }
  
  switch KICKBACKPIC
  case 2
  case 3
	  add x2 20
	  sub y2 40
	  displayrandvar M60FLASH 2048
	  rotatespritea x2 y2 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  sub x2 20
	  add y2 40
  break
  case 4
	  add x2 15
	  sub y2 55
	  displayrandvar M60FLASH 2048
	  rotatespritea x2 y2 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  sub x2 15
	  add y2 55
  break
  endswitch
  
  state wep_drawup_rev
  rotatesprite x2 y2 40690 WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  
    add y2 30
  sub x2 10
  rotatesprite x2 y2 57344 WEAP_DISP_TEMP2 C_PISTOL_1 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2

  ife KICKBACKPIC 2 sound REVOLVERFIRE

  }
ends

defstate draw_gold_revolvers
  set x 217
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 155 set y 155

switch weaponcount
case 0
case 1
  set tilenum 14618 
  ife player[].weapon_pos 8 soundonce R_HOLSTER
  state wep_drawup
  rotatesprite x y 40690 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 60
  sub y 5
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER3
  break
case 2
case 3
  add x 5
  add y 5
  set tilenum 14619
  sub x 20
  sub y 40
  displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 20
  add y 40
  rotatesprite x y 40690 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
   ifand GUNFIREMODE_2 16
	  {
	  sub x 60
	  sub y 5
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 0 107 0 windowx1 windowy1 windowx2 windowy2
	  }
  else
  state OTHERREVOLVER3
  break
case 4
  add x 7
  add y 7
  set tilenum 14620
	  sub x 15
	  sub y 55
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 15
	  add y 55
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
	  {
	  sub x 60
	  sub y 5
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  else
  state OTHERREVOLVER3
  break
case 5
case 6
  set tilenum 14621
  add x 5
  rotatesprite x y 40690 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 60
  add y 25
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER3
  break
case 7
case 8
  set tilenum 14620
  add x 5
  rotatesprite x y 40690 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 32 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 58
  sub y 5
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER3
  break
case 9
case 10
case 11
case 12
  set tilenum 14618
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state OTHERREVOLVER3
  break
// PISTOL1 RELOAD
case 13
case 14
case 15
case 28
case 29
case 30
  ife KICKBACKPIC 13 soundonce R_ROUT
  add y 10
  add x 10
  set tilenum 14621
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  add y 15
  add x 15
  set tilenum 14622
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
  ife KICKBACKPIC 19 soundonce R_RIN
  add y 25
  add x 25
  set tilenum 14623
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  ife KICKBACKPIC 24 soundonce R_HAMMER 
  add y 28
  add x 28
  set tilenum 14624
  rotatesprite x y 40690 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 25
case 26
case 27
  add y 15
  add x 15
  set tilenum 14622
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
// PISTOL2 RELOAD
case 31
case 32
case 33
case 46
case 47
case 48
  ife KICKBACKPIC 31 soundonce R_ROUT
  add y 10
  sub x 140
  set tilenum 14621
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 34
case 35
case 36
  add y 15
  sub x 145
  set tilenum 14622
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  ife KICKBACKPIC 37 soundonce R_RIN
  add y 25
  sub x 155
  set tilenum 14623
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
case 42
  ife KICKBACKPIC 42 soundonce R_HAMMER 
  add y 28
  sub x 158
  set tilenum 14624
  rotatesprite x y 40690 992 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 44
case 45
  add y 15
  sub x 145
  set tilenum 14622
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// RUSTY'S 1858===============================================================================================================

defstate OTHERREVOLVER2
ifand GUNFIREMODE 64
  {
  set x2 110
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  sub x2 looking_angSR1

  set y2 230
  sub y2 WEAPSWAYY
  add y2 looking_arc
  sub y2 gun_pos
  clamp y2 155 320

  ife KICKBACKPIC 0
	{
	set WEAP_DISP_TEMP2 player[].weapon_pos
	mulvar WEAP_DISP_TEMP2 -20
	add WEAP_DISP_TEMP2 1024
	}
	else set WEAP_DISP_TEMP2 1024
	ife KICKBACKPIC 7 { sub x2 5 sub WEAP_DISP_TEMP2 16 }
	ife KICKBACKPIC 8 { sub x2 15 sub WEAP_DISP_TEMP2 32 }
  
  switch KICKBACKPIC
  case 2
  case 3
	  add x2 40
	  sub y2 50
	  displayrandvar M60FLASH 2048
	  rotatespritea x2 y2 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  sub x2 40
	  add y2 50
  break
  case 4
	  add x2 45
	  sub y2 55
	  displayrandvar M60FLASH 2048
	  rotatespritea x2 y2 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  sub x2 45
	  add y2 55
  break
  endswitch
  
  state wep_drawup_rev
  rotatesprite x2 y2 40690 WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  
    add y2 30
  sub x2 10
  rotatesprite x2 y2 57344 WEAP_DISP_TEMP2 C_PISTOL_1 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2

  ife KICKBACKPIC 2 sound REVOLVER2FIRE

  }
ends

defstate draw_r1858
  set x 217
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 155 set y 155

switch weaponcount
case 0
case 1
  set tilenum 13370 
  ife player[].weapon_pos 8 soundonce R_HOLSTER
  state wep_drawup
  rotatesprite x y 40690 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 60
  sub y 5
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER2
  break
case 2
case 3
  add x 5
  add y 5
  set tilenum 13371
  sub x 40
  sub y 50
  displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 50
  rotatesprite x y 40690 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
   ifand GUNFIREMODE_2 16
	  {
	  sub x 60
	  sub y 5
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 0 107 0 windowx1 windowy1 windowx2 windowy2
	  }
  else
  state OTHERREVOLVER2
  break
case 4
  add x 7
  add y 7
  set tilenum 13372
  sub x 45
  sub y 55
  displayrandvar M60FLASH 2048
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 45
  add y 55
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
	  {
	  sub x 60
	  sub y 5
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  else
  state OTHERREVOLVER2
  break
case 5
case 6
  set tilenum 13373
  add x 5
  rotatesprite x y 40690 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 60
  add y 25
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER2
  break
case 7
case 8
  set tilenum 13372
  add x 5
  rotatesprite x y 40690 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 32 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand GUNFIREMODE_2 16
  {
  sub x 58
  sub y 5
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6778 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  state OTHERREVOLVER2
  break
case 9
case 10
case 11
case 12
  set tilenum 13370
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 30
  add x 10
  rotatesprite x y 57344 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state OTHERREVOLVER2
  break
// PISTOL1 RELOAD
case 13
case 14
case 15
case 28
case 29
case 30
  ife KICKBACKPIC 13 soundonce R_ROUT
  add y 10
  add x 10
  set tilenum 13373
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  add y 15
  add x 15
  set tilenum 13375
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
  ife KICKBACKPIC 19 soundonce R_RIN
  add y 25
  add x 25
  set tilenum 13375
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  ife KICKBACKPIC 24 soundonce R_HAMMER 
  add y 28
  add x 28
  set tilenum 13375
  rotatesprite x y 40690 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 25
case 26
case 27
  add y 15
  add x 15
  set tilenum 13374
  rotatesprite x y 40690 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
// PISTOL2 RELOAD
case 31
case 32
case 33
case 46
case 47
case 48
  ife KICKBACKPIC 31 soundonce R_ROUT
  add y 10
  sub x 140
  set tilenum 13373
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 34
case 35
case 36
  add y 15
  sub x 145
  set tilenum 13375
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  ife KICKBACKPIC 37 soundonce R_RIN
  add y 25
  sub x 155
  set tilenum 13375
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
case 42
  ife KICKBACKPIC 42 soundonce R_HAMMER 
  add y 28
  sub x 158
  set tilenum 13375
  rotatesprite x y 40690 992 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 44
case 45
  add y 15
  sub x 145
  set tilenum 13374
  rotatesprite x y 40690 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// RUSTY'S MICROUZI===============================================================================================================

defstate draw_microuzi

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 138 set y 138

switch weaponcount
case 0
case 1
case 4
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 55248 WEAP_DISP_TEMP2 13419 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add y 19
	sub x 8
	rotatesprite x y 55248 WEAP_DISP_TEMP2 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  add x 7
  add y 7
  set GUN_PUSHBACK_DISPLAY 7
	  displayrandvar M60FLASH 2048
	  sub y 44
	  sub x 40
	  rotatespritea x y 15000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 44
	  add x 40
  rotatesprite x y 55248 0 13420 0 0 0 windowx1 windowy1 windowx2 windowy2
	add y 19
	sub x 8
	rotatesprite x y 55248 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 36
case 37
case 38
    add y 15
	rotatesprite x y 55248 0 13421 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add y 30
	sub x 12
	rotatesprite x y 55248 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 33
case 34
case 35
	add y 15
	rotatesprite x y 55248 32 13421 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add y 32
	sub x 14
	rotatesprite x y 55248 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
case 15
case 28
case 29
case 30
case 31
case 32
	add y 15
	rotatesprite x y 55248 64 13421 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add y 28
	sub x 18
	rotatesprite x y 55248 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
	add y 15
	rotatesprite x y 55248 0 13422 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add y 30
	sub x 18
	rotatesprite x y 55248 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
add y 15
rotatesprite x y 55248 32 13422 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
add y 30
sub x 18
rotatesprite x y 55248 176 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// RUSTY'S GOLD HAND-SHOTGUN===============================================================================================================

defstate draw_gold_handshotgun


  set x 237
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 238
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  // ifg weaponcount 6 set GUN_PUSHBACK_DISPLAY 0
  
  state gunpushback_display

switch weaponcount
case 0
case 1
case 24
case 25
case 26
  state wep_drawup
  state gunpushback_display
  sub x 60
  add y 50
  rotatesprite x y 57344 WEAP_DISP_TEMP2 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 60
  sub y 50
  rotatesprite x y 49152 WEAP_DISP_TEMP2 19813 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    sub x 35
  sub y 35
  state gold_sparkle
  add x 35
  add y 35
  break
case 2
case 3
 set GUN_PUSHBACK_DISPLAY 10
 displayrandvar M60FLASH 2048
 displayrandvar GUN_PUSHBACK_DISPLAY 10
	   sub y 40
	   sub x 45
	  rotatespritea x y 18000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 45
	  add y 40
  sub x 60
  add y 50
  rotatesprite x y 57344 WEAP_DISP_TEMP2 9011 0 107 0 windowx1 windowy1 windowx2 windowy2
  add x 60
  sub y 50
    rotatesprite x y 49152 0 19814 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
   break
case 4
case 5
case 21
case 22
case 23
    sub y 10
	  sub x 65
	  add y 50
	  rotatesprite x y 57344 16 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 65
	  sub y 50
    rotatesprite x y 49152 16 19815 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   break
case 6
case 7
case 8
case 18
case 19
case 20
    sub y 15
	  sub x 65
	  add y 45
	  rotatesprite x y 57344 32 9011 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add x 65
	  sub y 45
    rotatesprite x y 49152 32 19816 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   break
case 9
case 10
case 11
case 15
case 16
case 17
    sub y 20
	  sub x 70
	  add y 40
	  rotatesprite x y 57344 64 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 40
    rotatesprite x y 49152 64 19817 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   break
case 12
case 13
case 14
    sub y 25
  sub x 74
  add y 40
  rotatesprite x y 57344 96 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 74
  sub y 40
    rotatesprite x y 49152 96 19818 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   break
endswitch

ends

// RUSTY'S OVERUNDER SHOTGUN===============================================================================================================

defstate draw_overunder

  set x 247
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 238
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 144 set y 144
  
  ifg weaponcount 6 set GUN_PUSHBACK_DISPLAY 0

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  ife player[].weapon_pos 8 sound AUTO5_DEPLOY 
  sub x 70
  add y 50
  rotatesprite x y 57344 WEAP_DISP_TEMP2 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 40960 WEAP_DISP_TEMP2 11090 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
 set GUN_PUSHBACK_DISPLAY 10
 displayrandvar M60FLASH 2048
   sub x 70
   sub y 55
   ife SHOTGUNBOXMAG 1 add y 10 // second shot comes from top barrel
  rotatespritea x y 15000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 70
  add y 55
  ife SHOTGUNBOXMAG 1 sub y 10 // second shot comes from top barrel
  
  sub x 70
  add y 50
  rotatesprite x y 57344 WEAP_DISP_TEMP2 9011 shade 107 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  
  rotatesprite x y 40960 0 11091 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 5
  sub x 70
  add y 50
  rotatesprite x y 57344 32 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 40960 0 11093 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  sub x 70
  add y 50
  rotatesprite x y 57344 16 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 40960 0 11092 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 29
  sub x 70
  add y 50
  rotatesprite x y 57344 -32 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 40960 -32 11090 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 30
  sub x 70
  add y 50
  rotatesprite x y 57344 -64 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 40960 -64 11090 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 27
case 28
  set tilenum 11097
  rotatesprite x 185 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 25
case 26
  ife SHOTGUNBOXMAG 0 set tilenum 11095 
  else ife SHOTGUNBOXMAG 1 set tilenum 11098 
  else set tilenum 11096
  rotatesprite x 185 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
add y 15
add x 30
  ife SHOTGUNBOXMAG 0 set tilenum 11095 
  else ife SHOTGUNBOXMAG 1 set tilenum 11098 
  else set tilenum 11096
  rotatesprite x 185 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 25
  add y 11
  rotatesprite x 185 NNORMALSIZE 0 C_HAND_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand AMMO_TYPES[CURWEAP] 1 ifg explosive_shells 0 rotatesprite x 185 NNORMALSIZE 0 7903 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand AMMO_TYPES[CURWEAP] 4 ifg flechete_shells 0 rotatesprite x 185 NNORMALSIZE 0 7867 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
  add y 5
  ife SHOTGUNBOXMAG 0 set tilenum 11095 
  else ife SHOTGUNBOXMAG 1 set tilenum 11098 
  else set tilenum 11096
  rotatesprite x 185 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 25
  add y 11
  rotatesprite x 185 NNORMALSIZE 0 C_HAND_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
  add y 5
  ife SHOTGUNBOXMAG 1 set tilenum 11098 
  else set tilenum 11096
  rotatesprite x 185 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
  ife SHOTGUNBOXMAG 1 set tilenum 11098 
  else set tilenum 11096
  rotatesprite x 190 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
ends

// ####################################################################################################################################################################################################################
// RUSTY'S SHOTGUN
// ####################################################################################################################################################################################################################

defstate draw_autoshotgun

  set x 210
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 8 soundonce AUTOSHOT_CLOSE
  state wep_drawup
  state gunpushback_display
	sub x 58
	add y 44
	rotatesprite x y 45056 WEAP_DISP_TEMP2 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 58
	sub y 44
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6764 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand RUSTY_UPGRADE 64 rotatesprite x y 40960 WEAP_DISP_TEMP2 6800 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
 displayrandvar GUN_PUSHBACK_DISPLAY 10
 add x GUN_PUSHBACK_DISPLAY
 add y GUN_PUSHBACK_DISPLAY
 displayrandvar M60FLASH 2048
	  sub x 46
	  sub y 46
	  rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 46
	  add y 46
		sub x 58
		add y 44
		rotatesprite x y 45056 WEAP_DISP_TEMP2 9011 0 106 8 windowx1 windowy1 windowx2 windowy2 // hand
		add x 58
		sub y 44
  rotatesprite x y 40960 0 6765 0 0 0 windowx1 windowy1 windowx2 windowy2
  ifand RUSTY_UPGRADE 64 rotatesprite x y 40960 0 6801 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
 displayrandvar M60FLASH 2048
	  sub x 46
	  sub y 46
	  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 46
	  add y 46
		sub x 58
		add y 44
		rotatesprite x y 45056 WEAP_DISP_TEMP2 9011 0 107 8 windowx1 windowy1 windowx2 windowy2 // hand
		add x 58
		sub y 44
  rotatesprite x y 40960 0 6765 0 107 0 windowx1 windowy1 windowx2 windowy2
  ifand RUSTY_UPGRADE 64 rotatesprite x y 40960 0 6801 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 39
case 38
case 37
  add x 10
  add y 5
	sub x 58
	add y 38
	rotatesprite x y 45056 0 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 58
	sub y 38
  rotatesprite x y 40960 0 6766 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand RUSTY_UPGRADE 64 rotatesprite x y 40960 0 6802 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
case 8
case 33
case 34
case 35
case 36
  add x 15
  add y 10
	sub x 52
	add y 40
	rotatesprite x y 45056 0 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 52
	sub y 40
  rotatesprite x y 40960 0 6767 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand RUSTY_UPGRADE 64 rotatesprite x y 40960 0 6803 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
case 30
case 31
case 32
  add x 20
  add y 15
  rotatesprite x y 40960 -32 6768 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand RUSTY_UPGRADE 64 rotatesprite x y 40960 -32 6804 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 27
case 28
case 29
  add x 15
  sub y 15
  rotatesprite x y 40960 -16 6769 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand RUSTY_UPGRADE 64 rotatesprite x y 40960 -16 6805 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add x 15
  sub y 15
  rotatesprite x y 40960 0 6770 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// #####################################################
// RUSTY'S AUTOMATIC SHOTGUN
// #####################################################

defstate draw_autom_shotgun

  set x 250
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 8 soundonce AUTOSHOT_CLOSE
  state wep_drawup
  state gunpushback_display
  
    sub x 100
	add y 60
    rotatesprite x y 57344 0 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 100
	sub y 60
  
  rotatesprite x y 45056 WEAP_DISP_TEMP2 22672 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 10
 add x GUN_PUSHBACK_DISPLAY
 add y GUN_PUSHBACK_DISPLAY
 ife M60FLASH 0 displayrandvar M60FLASH 2048
 sub y 37
  sub x 65
  rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 65
  add y 37
  
    sub x 100
	add y 60
    rotatesprite x y 57344 0 9011 0 107 0 windowx1 windowy1 windowx2 windowy2
    add x 100
	sub y 60
  
  rotatesprite x y 45056 0 22673 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 39
case 38
case 37
  add x 10
  add y 15
  
    sub x 100
	add y 60
    rotatesprite x y 57344 0 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 100
	sub y 60
  
  rotatesprite x y 45056 0 22672 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 36
case 35
  add x 15
  add y 20
  rotatesprite x y 45056 0 22674 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 34
case 33
  add x 20
  add y 25
  rotatesprite x y 45056 0 22674 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 28
case 29
case 30
case 31
case 32
  add x 35
  add y 25
  rotatesprite x y 45056 0 22675 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 25
case 26
case 27
  add x 35
  add y 30
  rotatesprite x y 45056 0 22675 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// RUSTY'S FG42===============================================================================================================

define BAR_SIZE 58500

defstate FG_42_CHAIN1
getp[].ammo_amount 3 WEAP_DISP_TEMP6
ife WEAP_DISP_TEMP6 9 set tilenum 6895 else
ife WEAP_DISP_TEMP6 8 set tilenum 6896 else
ife WEAP_DISP_TEMP6 7 set tilenum 6897 else
ife WEAP_DISP_TEMP6 6 set tilenum 6898 else
ife WEAP_DISP_TEMP6 5 set tilenum 6899 else
ife WEAP_DISP_TEMP6 4 set tilenum 6900 else
ife WEAP_DISP_TEMP6 3 set tilenum 6901 else
ife WEAP_DISP_TEMP6 2 set tilenum 6902 else
ife WEAP_DISP_TEMP6 1 set tilenum 6903 else
ife WEAP_DISP_TEMP6 0 set tilenum 6903 else
set tilenum 5180
ends

defstate FG_42_CHAIN2
getp[].ammo_amount 3 WEAP_DISP_TEMP6
ife WEAP_DISP_TEMP6 9 set tilenum 6904 else
ife WEAP_DISP_TEMP6 8 set tilenum 6905 else
ife WEAP_DISP_TEMP6 7 set tilenum 6906 else
ife WEAP_DISP_TEMP6 6 set tilenum 6907 else
ife WEAP_DISP_TEMP6 5 set tilenum 6908 else
ife WEAP_DISP_TEMP6 4 set tilenum 6909 else
ife WEAP_DISP_TEMP6 3 set tilenum 6910 else
ife WEAP_DISP_TEMP6 2 set tilenum 6911 else
ife WEAP_DISP_TEMP6 1 set tilenum 6903 else
ife WEAP_DISP_TEMP6 0 set tilenum 6903 else
set tilenum 5181
ends

defstate drawbar_bayonet

 ifn WEP3_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP3_BLOODY
	}

  set x 195
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  ifand RUSTY_UPGRADE 2 set tilenum 6797 else set tilenum 6790
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   ifand RUSTY_UPGRADE 2
	{
	sub x 25
	add y 43
	state FG_42_CHAIN1
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 25
	sub y 43
	}
  
  break
case 2
    add x 15
	add y 30
	displayrandvar GUN_PUSHBACK_DISPLAY 8
	ifand RUSTY_UPGRADE 2 set tilenum 6797 else set tilenum 6790
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   ifand RUSTY_UPGRADE 2
	{
	sub x 25
	add y 43
	state FG_42_CHAIN1
	rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
  
  break
case 3
case 4
    add x 10
	add y 20
	ifand RUSTY_UPGRADE 2 set tilenum 6797 else set tilenum 6790
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 13
case 14
case 15
   add x 5
	add y 10
	ifand RUSTY_UPGRADE 2 set tilenum 6797 else set tilenum 6790
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
	add y 10
	  ifand RUSTY_UPGRADE 2 set tilenum 6799 else set tilenum 6792
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 9
case 10
	  ifand RUSTY_UPGRADE 2 set tilenum 6799 else set tilenum 6792
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
case 11
case 12
	sub y 10
	  ifand RUSTY_UPGRADE 2 set tilenum 6799 else set tilenum 6792
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
break
endswitch

ends

defstate drawbar

 ifn WEP3_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP3_BLOODY
	}

  set x 205
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 2
case 4
case 5
case 6
  state wep_drawup
  state gunpushback_display
   ifand RUSTY_UPGRADE 2 set tilenum 6797 else set tilenum 6790
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   ifand RUSTY_UPGRADE 2
	{
	sub x 25
	add y 48
	state FG_42_CHAIN1
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 25
	sub y 48
	}
  break
case 1
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 34
  sub y 34
  state random_AR_flash
  rotatespritea x y 24000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 34
  add y 34
   ifand RUSTY_UPGRADE 2 set tilenum 6798 else set tilenum 6791
  rotatesprite x y 40960 0 tilenum 0 0 0 windowx1 windowy1 windowx2 windowy2
  // ife SPECIALIST_EQUIPMENT[1] 1 rotatesprite x y BAR_SIZE 0 6881 0 107 0 windowx1 windowy1 windowx2 windowy2 // silver bayonett?
  // ifn WEP3_BLOODY 0 rotatesprite x y BAR_SIZE 0 6885 0 108 0 windowx1 windowy1 windowx2 windowy2
   // ifand RUSTY_UPGRADE 8 rotatesprite x y BAR_SIZE 0 6811 0 107 0 windowx1 windowy1 windowx2 windowy2
   ifand RUSTY_UPGRADE 2
	{
	sub x 28
	add y 49
	state FG_42_CHAIN2
	rotatesprite x y NORMALSIZE 0 tilenum 0 107 0 windowx1 windowy1 windowx2 windowy2
	add x 28
	sub y 49
	}
  break
case 7
case 8
case 9
case 10
  ifand RUSTY_UPGRADE 2 set tilenum 6797 else set tilenum 6790
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
   ifand RUSTY_UPGRADE 2
	{
	sub x 25
	add y 48
	state FG_42_CHAIN1
	rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 25
	sub y 48
	}
  
  break
case 11
case 12
case 13
case 39
case 40
case 41
  rotatesprite x y 40960 0 6794 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
case 38
  add y 5
  add x 5
  rotatesprite x y 40960 0 6795 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
  rotatesprite x y 40960 0 6796 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
  add y 5
  sub x 5
  rotatesprite x y 40960 0 6795 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
case 35
  add y 5
  sub x 5
  rotatesprite x y 40960 0 6794 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
// cocking anim
case 42
case 43
case 44
case 59
case 60
case 61
  add y 10
  add x 10
	  rotatesprite x y 40960 0 6793 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 45
case 46
case 47
case 56
case 57
case 58
  add y 20
  add x 20
	  rotatesprite x y 40960 0 6793 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 48
case 49
case 53
case 54
case 55
  add y 20
  add x 20
	  rotatesprite x y 40960 16 6794 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 50
case 51
case 52
  add y 20
  add x 20
	  rotatesprite x y 40960 32 6794 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
endswitch

ends

// RUSTY'S M41C===============================================================================================================

defstate draw_m41c

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
ife wep_pal 0 set wep_pal 13


switch weaponcount
case 0
case 1
case 42
case 4
  ife GL_COUNTDOWN 45 set tilenum 11867
  else ife GL_COUNTDOWN 43 set tilenum 11867
  else set tilenum 11866
  state wep_drawup
  state gunpushback_display
  
  sub x 88
  add y 50
  rotatesprite x y 49152 0 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 88
  sub y 50
  
  rotatesprite x y 49152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  displayrandvar GUN_PUSHBACK_DISPLAY 10
  state gunpushback_display
  sub x 55
  sub y 43
  state random_AR_flash
  rotatespritea x y 21000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 43
  
  sub x 88
  add y 50
  rotatesprite x y 49152 0 9011 0 107 0 windowx1 windowy1 windowx2 windowy2
  add x 88
  sub y 50
  
  rotatesprite x y 49152 0 11867 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 36
case 37
case 38
case 39
case 40
case 41
add y 5
	ife weaponcount 9 add y 10
    sub x 108
  add y 37
    rotatesprite x y 49152 64 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
add x 108
sub y 37
  rotatesprite x y 49152 0 11868 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
  add y 10
  rotatesprite x y 49152 0 11869 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break 
case 25
case 26
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
  ife weaponcount 26 add y 10
  rotatesprite x y 49152 16 11869 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break 
endswitch
ends

// RUSTY'S TRI LAUNCHER===============================================================================================================

defstate drawtrimissile

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  state gunpushback_display

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 49152 WEAP_DISP_TEMP2 6807 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
    sub x 57
  sub y 45
  rotatespritea x y 18000 0 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 45
  rotatesprite x y 49152 0 6808 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
    sub x 57
  sub y 45
  rotatespritea x y 24000 0 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 45
  rotatesprite x y 49152 0 6808 0 106 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
  set GUN_PUSHBACK_DISPLAY 20
  rotatesprite x y 49152 0 6807 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
case 8
case 9
case 10
  rotatesprite x y 49152 0 6807 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
  rotatesprite x y 49152 16 6807 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
case 18
  rotatesprite x y 49152 32 6809 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
case 22
  rotatesprite x y 49152 16 6809 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// RUSTY'S PULSE RIFLE===============================================================================================================


defstate drawpulserifle

  set x 235

  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifl x 237 set x 237
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  state gunpushback_display

switch weaponcount
case 0
case 3
  state wep_drawup
  rotatesprite x y 45152 WEAP_DISP_TEMP2 6818 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    getp[].random_club_frame crystal_shade
   sin crystal_shade crystal_shade
   divvar crystal_shade 1024 // 2^10
   add crystal_shade 10 
  rotatespritea x y 45152 WEAP_DISP_TEMP2 6819 crystal_shade 0 1 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
  rotatesprite x y 45152 WEAP_DISP_TEMP2 6837 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
   displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 40
  sub y 30
  rotatespritea x y 45152 0 3605 0 110 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 30
  rotatesprite x y 45152 WEAP_DISP_TEMP2 6820 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
ends

// RUSTY'S NAILGUN===============================================================================================================

defstate drawnailgun

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 220
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 142 320

		
ifand GUNFIREMODE 32768 // Using the GL?

switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
  state wep_drawup
 rotatesprite x y 40960 WEAP_DISP_TEMP2 12268 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 40960 0 12280 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 40960 32 12280 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 40960 32 12272 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 40960 0 12272 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 70
		add y 15
		rotatesprite x y NNORMALSIZE 1024 7896 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 40960 64 12281 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 85
		rotatesprite x y NORMALSIZE 0 12265 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 40960 0 12281 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
 rotatesprite x y 40960 16 12280 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 35
case 36
 rotatesprite x y 40960 32 12280 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
 rotatesprite x y 40960 16 12280 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 39
case 40
 rotatesprite x y 40960 0 12280 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 32
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 40960 WEAP_DISP_TEMP2 12269 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch

else		

switch weaponcount
case 0
case 2
case 4
case 5
case 6
case 51
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ifand GUNFIREMODE 16384
		  {
			  set x 160
			  set WEAP_DISP_TEMP2 WEAPSWAYX
			  add x weapon_xoffset // add weaponxsway to position
			  divvar WEAP_DISP_TEMP2 2
			  sub x WEAP_DISP_TEMP2
			  sub x 10
			  set y 100
			  set WEAP_DISP_TEMP3 WEAPSWAYY
			  divvar WEAP_DISP_TEMP3 2
			  sub y WEAP_DISP_TEMP3
			  rotatespritea x y 4096 0 11047 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
		  
		  set x 160
		  sub x WEAPSWAYX
		  add x weapon_xoffset // add weaponxsway to position
		  sub x 10 // offset it by 10
		  set y 142
		  sub y WEAPSWAYY
		  rotatesprite x y 52500 0 12266 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Holosight
				ifl player_shade_diff -5
					{
					set WEAP_DISP_TEMP3 player_shade_diff
					mulvar WEAP_DISP_TEMP3 2
					sub y 37
					rotatespritea x y 12192 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
					}
		  }
  else
	  {
	  state wep_drawup
	  ifand GUNFIREMODE 32768 { ifg GL_COUNTDOWN 44 set tilenum 12269 else set tilenum 12268 }
	  else set tilenum 12268
	  state gunpushback_display
	  
	  sub x 70
	  add y 50
	  rotatesprite x y 40960 0 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 50
	  
	  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 1
case 3
  ifand GUNFIREMODE 16384
  {
  displayrandvar M60FLASH 2048
  ife ARTIFACTS_LOADOUT[CHAR] 7 // make muzzleflash blue if they have the book of nails
	  rotatespritea 160 120 58638 M60FLASH 16510 0 1 0 -255 windowx1 windowy1 windowx2 windowy2
  else
	  rotatespritea 160 120 58638 M60FLASH 16510 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 142 55500 0 12266 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea 160 100 4096 0 11047 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
  }
  else
	  {
	 displayrandvar GUN_PUSHBACK_DISPLAY 5
	  add x GUN_PUSHBACK_DISPLAY
	  add y GUN_PUSHBACK_DISPLAY
	  sub x 50
	  sub y 22
	 displayrandvar M60FLASH 2048
	 ife ARTIFACTS_LOADOUT[CHAR] 7 // make muzzleflash blue if they have the book of nails
		  rotatespritea x y 52638 M60FLASH 16510 0 1 0 -255 windowx1 windowy1 windowx2 windowy2
		else
		  rotatespritea x y 52638 M60FLASH 16510 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 22
	  
	  sub x 70
	  add y 50
	  rotatesprite x y 40960 0 9011 0 107 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 50
	  
	  rotatesprite x y 40960 0 12269 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 7
case 50

	  sub x 70
	  add y 50
	  rotatesprite x y 40960 -16 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 50

  rotatesprite x y 40960 -16 12268 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 49

	  sub x 70
	  add y 50
	  rotatesprite x y 40960 -32 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 50

  rotatesprite x y 40960 -32 12268 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 48

	  sub x 70
	  add y 50
	  rotatesprite x y 40960 -48 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 50

  rotatesprite x y 40960 -48 12268 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 47

	  sub x 70
	  add y 50
	  rotatesprite x y 40960 -64 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 50

  rotatesprite x y 40960 -64 12268 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 46
  ifand RUSTY_UPGRADE 32 set tilenum 12277 else set tilenum 12273
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 45
ifand RUSTY_UPGRADE 32 set tilenum 12277 else set tilenum 12273
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 44
ifand RUSTY_UPGRADE 32 set tilenum 12277 else set tilenum 12273
clamp y 135 360
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 43
ifand RUSTY_UPGRADE 32 set tilenum 12277 else set tilenum 12273
clamp y 135 360
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 42
ifand RUSTY_UPGRADE 32 set tilenum 12277 else set tilenum 12273
clamp y 135 360
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
case 39
case 40
case 41
ifand RUSTY_UPGRADE 32 set tilenum 12278 else set tilenum 12274
clamp y 135 360
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
ifand RUSTY_UPGRADE 32 set tilenum 12279 else set tilenum 12275
clamp y 135 360
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
case 30
case 31
case 32
  ifand RUSTY_UPGRADE 32 set tilenum 12270 else set tilenum 12276
  clamp y 135 360
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 33
case 34
case 35
ifand RUSTY_UPGRADE 32 set tilenum 12279 else set tilenum 12275
clamp y 135 360
  rotatesprite x y 40960 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 36
case 37
case 38
ifand RUSTY_UPGRADE 32 set tilenum 12279 else set tilenum 12275
clamp y 135 360
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
ends

//RUSTY'S MINE DART===============================================================================================================


defstate drawmine_dart

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  state gunpushback_display

switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 12
  state wep_drawup
  rotatesprite x y 36864 WEAP_DISP_TEMP2 6810 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
	set GUN_PUSHBACK_DISPLAY 10	
  rotatesprite x y 36864 0 6815 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  rotatesprite x y 36864 0 6878 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
ends

//RUSTY'S IN MINE DART===============================================================================================================


defstate draw_in_mine_dart

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  state gunpushback_display

switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 12
  state wep_drawup
  rotatesprite x y 36864 WEAP_DISP_TEMP2 6810 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
	set GUN_PUSHBACK_DISPLAY 10	
  rotatesprite x y 36864 0 6815 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  rotatesprite x y 36864 0 6878 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
ends

// MIKKO'S PISTOL===============================================================================================================

defstate drawmpistol

  set x 199
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  ifand MIKKO_UPGRADE 4 { ife PISTOLMAG 0 set tilenum 7130 else set tilenum 7128 } else { ife PISTOLMAG 0 set tilenum 7125 else set tilenum 7123 }
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 33
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  ifand MIKKO_UPGRADE 4 set tilenum 7129 else set tilenum 7124
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
  ifand MIKKO_UPGRADE 4 set tilenum 7130 else set tilenum 7125
  rotatesprite x y 40960 8 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 8 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  ifand MIKKO_UPGRADE 4 { ife PISTOLMAG 0 set tilenum 7130 else set tilenum 7128 } else { ife PISTOLMAG 0 set tilenum 7125 else set tilenum 7123 }
  rotatesprite x y 40960 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  ifand MIKKO_UPGRADE 4 { ife PISTOLMAG 0 set tilenum 7130 else set tilenum 7128 } else { ife PISTOLMAG 0 set tilenum 7125 else set tilenum 7123 }
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
  ifand MIKKO_UPGRADE 4 { ife PISTOLMAG 0 set tilenum 7131 else set tilenum 7132 } else { ife PISTOLMAG 0 set tilenum 7126 else set tilenum 7127 }
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 22
  sub x 6
  rotatesprite x y 65536 64 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  ifand MIKKO_UPGRADE 4 { ife PISTOLMAG 0 set tilenum 7131 else set tilenum 7132 } else { ife PISTOLMAG 0 set tilenum 7126 else set tilenum 7127 }
    rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 6
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  ifand MIKKO_UPGRADE 4 { ife PISTOLMAG 0 set tilenum 7131 else set tilenum 7132 } else { ife PISTOLMAG 0 set tilenum 7126 else set tilenum 7127 }
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
  ifand MIKKO_UPGRADE 4 { ife PISTOLMAG 0 set tilenum2 7131 else set tilenum2 7132 } else { ife PISTOLMAG 0 set tilenum2 7126 else set tilenum2 7127 }
    rotatesprite x y 40960 96 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
    rotatesprite x y 40960 98 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 65536 162 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  ife tilenum2 7126 ife weaponcount 40 sound MSPISTOL_SLIDE
  ife tilenum2 7131 ife weaponcount 40 sound MSPISTOL_SLIDE
  ifand MIKKO_UPGRADE 4 set tilenum 7132 else set tilenum 7127
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MIKKO'S GOLD SHOTGUN===============================================================================================================

defstate drawm_gold_shotgun

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 155 320
  
switch weaponcount
case 0
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce MSSHOTGUN_PUMP 
  state wep_drawup
  state gunpushback_display
	sub x 72
	add y 40
	rotatesprite x y 45056 WEAP_DISP_TEMP2 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 72
	sub y 40
  rotatesprite x y 45056 WEAP_DISP_TEMP2 19822 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 25
  sub y 25
  state gold_sparkle
  add x 25
  add y 25  
  break
case 1
case 2
 displayrandvar M60FLASH 2048
 sub x 40
 sub y 35
  rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 40
	sub x 72
	add y 40
	rotatesprite x y 45056 WEAP_DISP_TEMP2 9010 0 107 8 windowx1 windowy1 windowx2 windowy2
	add x 72
	sub y 40
  rotatesprite x y 45056 0 19823 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
case 5
case 6
case 7
case 8
case 9
case 10
  set GUN_PUSHBACK_DISPLAY 10
  state gunpushback_display
	sub x 73
	add y 37
	rotatesprite x y 45056 WEAP_DISP_TEMP2 9010 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	add x 73
	sub y 37
  rotatesprite x y 45056 0 19824 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  rotatesprite x y 45056 0 19825 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
	case 15
	case 16
	case 17
	  add x 10
	  sub y 30
	  rotatesprite x y 45056 0 19826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  	sub x 40
	  break
	case 18
	case 19
	case 20
	  add x 10
	  sub y 28
	  rotatesprite x y 45056 5 19826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  	sub x 40
	  break
	case 21
	case 22
	case 23
	  add x 10
	  sub y 23
	  rotatesprite x y 45056 10 19826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  	sub x 40
	  break
	case 24
	case 25
	add y 20
	rotatesprite x y 45056 0 19826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
	case 26
	case 27
	case 28
	add y 20
	  rotatesprite x y 45056 0 19826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 29
	case 30
	case 31
	add y 25
	  rotatesprite x y 45056 0 19825 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
endswitch

ends

// MIKKO'S SHOTGUN===============================================================================================================

defstate drawmshotgun
getp[].reloading WEAP_DISP_TEMP
ife WEAP_DISP_TEMP 1
{
  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 125
	switch weaponcount
	case 15
	case 16
	case 17
	  add x 10
	  sub y 30
	  ifand MIKKO_UPGRADE 32 set tilenum 6975 else set tilenum 6981
	  rotatesprite x 106 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  	sub x 40
	  break
	case 18
	case 19
	case 20
	  add x 10
	  sub y 28
	  ifand MIKKO_UPGRADE 32 set tilenum 6975 else set tilenum 6981
	  rotatesprite x 108 49152 5 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  	sub x 40
	  break
	case 21
	case 22
	case 23
	  add x 10
	  sub y 23
	  ifand MIKKO_UPGRADE 32 set tilenum 6975 else set tilenum 6981
	  rotatesprite x 107 49152 10 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  	sub x 40
	  break
	case 24
	case 25
	add y 20
	ifand MIKKO_UPGRADE 32 set tilenum 6975 else set tilenum 6981
	rotatesprite x 107 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
	case 26
	case 27
	case 28
	add y 20
	ifand MIKKO_UPGRADE 32 set tilenum 6974 else set tilenum 6980
	  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 29
	case 30
	case 31
	add y 25
	ifand MIKKO_UPGRADE 32 set tilenum 6972 else set tilenum 6978
	  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
}
else
{
  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 160 320
  
switch weaponcount
case 0
case 1
case 5
  state gunpushback_display
  ife player[].weapon_pos 8 soundonce MSSHOTGUN_PUMP 
  state wep_drawup
  ifand MIKKO_UPGRADE 32 set tilenum 6972 else set tilenum 6978
  rotatesprite x y 49152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
     sub x 45
   add y 35
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 6983 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
 add x GUN_PUSHBACK_DISPLAY
 add y GUN_PUSHBACK_DISPLAY
 displayrandvar M60FLASH 2048
   sub x 53
 sub y 51
  rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 51
  add x 53
  ifand MIKKO_UPGRADE 32 set tilenum 6973 else set tilenum 6979
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   sub x 45
   add y 35
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 6983 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 4
  state gunpushback_display
  ifand MIKKO_UPGRADE 32 set tilenum 6972 else set tilenum 6978
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   sub x 45
   add y 35
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 6983 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
  break
case 6
case 7
case 8
case 27
case 28
ifand MIKKO_UPGRADE 32 set tilenum 6974 else set tilenum 6980
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
     sub x 95
   add y 65
  rotatesprite x y NNORMALSIZE 0 6984 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 24
case 25
case 26
sub y 45
  ifand MIKKO_UPGRADE 32 set tilenum 6975 else set tilenum 6981
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
     sub x 85
   add y 45
  rotatesprite x y NNORMALSIZE 0 6985 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 16
case 20
case 21
case 22
case 23
sub y 50
  ifand MIKKO_UPGRADE 32 set tilenum 6975 else set tilenum 6981
  rotatesprite x y 49152 12 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
     sub x 85
   add y 45
  rotatesprite x y NNORMALSIZE 12 6985 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
  sub y 45
  ifand MIKKO_UPGRADE 32 set tilenum 6976 else set tilenum 6982
  rotatesprite x y 49152 12 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
     sub x 85
   add y 65
  rotatesprite x y NNORMALSIZE 12 6985 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
ends

// MIKKO'S ASSAULT RIFLE===============================================================================================================

defstate mikkogunhud
	ife WEAP_DISP_TEMP2 0
	  {
	  sub x 8
	  sub y 8
	  ife SHOOT_MODE 0 
		{
		ifl GUNMAG 6 
			{
			set WEAP_DISP_TEMP3 2
			set WEAP_DISP_TEMP4 DISP_PULSE
			}
			else 
			{
			set WEAP_DISP_TEMP3 1
			set WEAP_DISP_TEMP4 0
			}
		rotatespritea x y QUARTERSIZE WEAP_DISP_TEMP2 6954 WEAP_DISP_TEMP4 WEAP_DISP_TEMP3 0 -255 windowx1 windowy1 windowx2 windowy2
		}
	  else ife SHOOT_MODE 1 
		{
		ifl GUNMAG 6 
			{
			set WEAP_DISP_TEMP3 2
			set WEAP_DISP_TEMP4 DISP_PULSE
			}
			else 
			{
			set WEAP_DISP_TEMP3 8
			set WEAP_DISP_TEMP4 0
			}
		rotatespritea x y QUARTERSIZE WEAP_DISP_TEMP2 6955 WEAP_DISP_TEMP4 WEAP_DISP_TEMP3 0 -255 windowx1 windowy1 windowx2 windowy2
		}
	  else ife SHOOT_MODE 2 
		{
		ifl GUNMAG 6 
			{
			set WEAP_DISP_TEMP3 2
			set WEAP_DISP_TEMP4 DISP_PULSE
			}
			else 
			{
			set WEAP_DISP_TEMP3 32
			set WEAP_DISP_TEMP4 0
			}
		rotatespritea x y QUARTERSIZE WEAP_DISP_TEMP2 6956 WEAP_DISP_TEMP4 WEAP_DISP_TEMP3 0 -255 windowx1 windowy1 windowx2 windowy2
		}
	  digitalnumber 2472 x y MGUNMAG WEAP_DISP_TEMP4 WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
	}
ends

defstate drawmassrifle

  set x 247
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 148 320

switch weaponcount
case 0
case 1
case 2
case 5
case 6
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 7039 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 100
	  add y 42
	  myospal x y C_ARM_2 shade 0 wep_pal
	  sub y 42
	  add x 100
  
	ife WEAP_DISP_TEMP2 0 state mikkogunhud
  break
case 3
case 4
 displayrandvar GUN_PUSHBACK_DISPLAY 10
 add x GUN_PUSHBACK_DISPLAY
 add y GUN_PUSHBACK_DISPLAY
 displayrandvar M60FLASH 2048
  sub x 70
  sub y 42
  state random_AR_flash
  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 70
  add y 42
  rotatesprite x y 40960 0 7040 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  	  sub x 100
	  add y 42
	  myospal x y C_ARM_2 shade 0 106
	  sub y 42
	  add x 100

  state mikkogunhud
  break
case 7
case 8
case 35
case 36
  rotatesprite x y 40960 0 7041 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 34
  rotatesprite x y 40960 0 7042 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 33
  add x 1
  add y 1
  rotatesprite x y 40960 4 7042 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 32
  add x 2
  add y 2
  rotatesprite x y 40960 8 7043 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 31
  add x 3
  add y 3
  rotatesprite x y 40960 12 7043 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 30
  add x 4
  add y 4
  rotatesprite x y 40960 16 7043 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 29
  add x 5
  add y 5
  rotatesprite x y 40960 20 7043 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 28
  add x 6
  add y 6
  rotatesprite x y 40960 24 7044 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 27
  add x 7
  add y 7
  rotatesprite x y 40960 28 7044 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add x 8
  add y 8
  ife KICKBACKPIC 24 sub y 10
  rotatesprite x y 40960 32 7045 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// Mikko'S SMG===============================================================================================================

defstate draw_msmg

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 148 320
  
 ifand GUNFIREMODE 16384 { add x 20 add y 20 set WEAP_DISP_TEMP9 61536 }
else set WEAP_DISP_TEMP9 49152  

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 13350 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 72
  sub y 50
 displayrandvar M60FLASH 2048
  rotatespritea x y 10000 M60FLASH 16115 0 27 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 72
  add y 50
  rotatesprite x y WEAP_DISP_TEMP9 0 13350 0 95 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
  rotatesprite x y WEAP_DISP_TEMP9 0 13350 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
case 8
case 40
  rotatesprite x y WEAP_DISP_TEMP9 8 13351 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 38
case 39
  rotatesprite x y WEAP_DISP_TEMP9 16 13351 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 36
case 37
  rotatesprite x y WEAP_DISP_TEMP9 24 13352 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
case 34
case 35
  rotatesprite x y WEAP_DISP_TEMP9 32 13352 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
case 32
case 33
  rotatesprite x y WEAP_DISP_TEMP9 48 13353 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 30
case 31
  rotatesprite x y WEAP_DISP_TEMP9 64 13386 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
add y 5
  rotatesprite x y WEAP_DISP_TEMP9 68 13387 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MIKKO'S BATTLE RIFLE===============================================================================================================

defstate draw_mikko_battle_rifle

  set x 232
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 148 320
  
    ifand GUNFIREMODE 16384 { add x 20 add y 20 set WEAP_DISP_TEMP9 49152 }
	else set WEAP_DISP_TEMP9 45152  

switch weaponcount
case 42
case 0
case 4
case 5
case 6
	ifand GUNFIREMODE 16384
	{
		  set x 160
		  set DISP_TEMP2 WEAPSWAYX
		  divvar DISP_TEMP2 2
		  sub x DISP_TEMP2
		  set y 100
		  set DISP_TEMP3 WEAPSWAYY
		  divvar DISP_TEMP3 2
		  sub y DISP_TEMP3
		
		rotatesprite x y NORMALSIZE 0 4962 shade pal 0 0 0 xdim ydim // farthest part of scope
		rotatesprite x y NORMALSIZE 0 4969 25 pal 1 0 0 xdim ydim // 'blur'
		rotatespritea 160 100 8192 0 23731 0 2 0 -255 0 0 xdim ydim // Crosshair
		
		set x 160
		sub x WEAPSWAYX		
		set y 100
		sub y WEAPSWAYY
		rotatesprite x y 96638 0 4962 shade 0 0 0 0 xdim ydim // closest part of scope
		rotatesprite x y 96638 0 4969 25 0 33 0 0 xdim ydim // closest part of scope
		
		ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 2
			rotatespritea x y 43000 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 0 0 xdim ydim // Glass in holosight
			}
	}
	else
	{
  state wep_drawup
  state gunpushback_display
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 15907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 48
  sub x 85
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
  break
case 1
case 2
case 3
	ifand GUNFIREMODE 16384
	{
		  set x 160
		  set DISP_TEMP2 WEAPSWAYX
		  divvar DISP_TEMP2 2
		  sub x DISP_TEMP2
		  set y 100
		  set DISP_TEMP3 WEAPSWAYY
		  divvar DISP_TEMP3 2
		  sub y DISP_TEMP3
		  
		  
			  add y 66
			  state random_AR_flash
			  rotatespritea x y 42000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			  sub y 66
		  
		
		rotatesprite x y 75366 0 4962 shade pal 0 0 0 xdim ydim // farthest part of scope
		rotatesprite x y 75366 0 4969 25 pal 1 0 0 xdim ydim // 'blur'
		rotatespritea 160 100 8192 0 23731 0 2 0 -255 0 0 xdim ydim // Crosshair
		
		set x 160
		sub x WEAPSWAYX		
		set y 100
		sub y WEAPSWAYY
		rotatesprite x y 111133 0 4962 shade 0 0 0 0 xdim ydim // closest part of scope
		rotatesprite x y 111133 0 4969 25 0 33 0 0 xdim ydim // closest part of scope
		
		ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 2
			rotatespritea x y 43000 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 0 0 xdim ydim // Glass in holosight
			}
	}
	else
		{
		 displayrandvar GUN_PUSHBACK_DISPLAY 10
		 add x GUN_PUSHBACK_DISPLAY
		 add y GUN_PUSHBACK_DISPLAY
		 displayrandvar M60FLASH 2048
			  sub x 65
			  sub y 36
			  state random_AR_flash
			  rotatespritea x y 22000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			  add x 65
			  add y 36
		  rotatesprite x y WEAP_DISP_TEMP9 0 15908 0 0 0 windowx1 windowy1 windowx2 windowy2
		  add y 48
		  sub x 85
		  rotatesprite x y NORMALSIZE 0 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2
		}
  break
case 7
case 8
case 40
case 41
  add x 1
  add y 1
  rotatesprite x y WEAP_DISP_TEMP9 0 15907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 48
  sub x 85
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 38
case 39
  add x 2
  add y 2
  rotatesprite x y WEAP_DISP_TEMP9 4 15907 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 48
  sub x 85
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 37
  add x 5
  add y 3
  rotatesprite x y WEAP_DISP_TEMP9 8 15909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 36
  add x 5
  add y 3
  rotatesprite x y WEAP_DISP_TEMP9 8 15909 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 34
case 35
  add x 4
  add y 4
  rotatesprite x y WEAP_DISP_TEMP9 12 15910 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 32
case 33
  sub x 5
  add y 5
  rotatesprite x y WEAP_DISP_TEMP9 16 15911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 30
case 31
  sub x 8
  add y 6
  rotatesprite x y WEAP_DISP_TEMP9 20 15911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
  sub x 6
  add y 7
  rotatesprite x y WEAP_DISP_TEMP9 22 15911 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// Mikko's assault shotgun===============================================================================================================


defstate draw_m_assault_shotgun

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1


  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 60
case 61
case 62
case 63
case 0
case 1
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 13425 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
 	sub x 90
	add y 58
    rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  sub y 35
  sub x 70
 displayrandvar M60FLASH 2048
  rotatespritea x y 15000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 70

  rotatesprite x y 40960 0 13426 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
 	sub x 90
	add y 58
    rotatesprite x y 49152 0 9010 0 107 0 windowx1 windowy1 windowx2 windowy2
  
  break
case 4
  displayrandvar GUN_PUSHBACK_DISPLAY 10
  add GUN_PUSHBACK_DISPLAY 5
  add y GUN_PUSHBACK_DISPLAY
  add x GUN_PUSHBACK_DISPLAY 
  rotatesprite x y 40960 0 13425 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 	sub x 90
	add y 58
    rotatesprite x y 49152 0 9010 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
  rotatesprite x y 40960 24 13425 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 	sub x 92
	add y 56
    rotatesprite x y 49152 24 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10


  rotatesprite x y 40960 0 13427 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 	sub x 94
	add y 54
    rotatesprite x y 52152 36 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
  rotatesprite x y 40960 24 13427 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
  rotatesprite x y 40960 -64 13428 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18

  rotatesprite x y 40960 -48 13428 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
  rotatesprite x y 40960 -32 13428 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
case 25
case 26
case 27
case 28
  rotatesprite x y 40960 -24 13428 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 29
case 30
case 31
case 32
case 33
case 34
  rotatesprite x y 40960 -12 13428 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
case 39
case 40
case 41
case 42
  rotatesprite x y 40960 0 13428 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 44
case 45
case 46
case 47
case 48
case 49
case 50
case 51
case 52

  ife KICKBACKPIC 43 sub y 10
  rotatesprite x y 40960 24 13429 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 53
case 54
case 55
case 56
  rotatesprite x y 40960 0 13428 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 57
case 58
case 59
  rotatesprite x y 40960 0 13427 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MSC-12===============================================================================================================

defstate draw_msc12

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

ifl KICKBACKPIC 18
state gunpushback_display

ifand GUNFIREMODE_2 8 set WEAP_DISP_TEMP 1 else set WEAP_DISP_TEMP 8

switch weaponcount
case 0
case 1
case 36
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce WINCHUP 
  ifg WEAP_DISP_TEMP4 0
  {
  set WEAP_DISP_TEMP4 WEAP_DISP_TEMP2
  sub WEAP_DISP_TEMP2 1
  }
  else
  state wep_drawup
  state gunpushback_display
  
  sub x 70
  add y 30
  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 30
  
  rotatesprite x y 49152 WEAP_DISP_TEMP2 22693 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 WEAP_DISP_TEMP2 22700 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2  
    state reverse_shade
	ife WEAPON_GLOW YES rotatespritea x y 49152 WEAP_DISP_TEMP2 22703 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 2
	set GUN_PUSHBACK_DISPLAY 14
	ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 37
  sub y 45
  rotatespritea x y 18000 M60FLASH 16114 0 94 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 37
  add y 45
  
  sub x 70
  add y 30
  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 0 106 0 windowx1 windowy1 windowx2 windowy2 // hand
  add x 70
  sub y 30
  
  rotatesprite x y 49152 0 22694 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 0 22700 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
  state reverse_shade
  ife WEAPON_GLOW YES rotatespritea x y 49152 0 22703 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2  
  break
case 3
	set GUN_PUSHBACK_DISPLAY 14
  sub x 37
  sub y 45
  rotatespritea x y 19000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 37
  add y 45
  
  sub x 70
  add y 30
  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 0 107 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 30
  
  rotatesprite x y 49152 0 22693 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 0 22700 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
  state reverse_shade
  ife WEAPON_GLOW YES rotatespritea x y 49152 0 22703 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2  
  break
case 4
case 5
case 6
	  set M60FLASH 0
	  set WEAP_DISP_TEMP4 20
	  state gunpushback_display
	  sub x 70
	  add y 30
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	  add x 70
	  sub y 30
	  rotatesprite x y 49152 20 22693 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 20 22700 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	    state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 20 22703 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2  
	  break	  
 	case 7
	case 8
	case 14
	case 15
	  add x 5
	  add y 3
	  sub x 70
	  add y 30
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	  add x 70
	  sub y 30
	  rotatesprite x y 49152 0 22695 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 0 22701 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	    state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 0 22704 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
	case 9
	case 13	  
	  add x 8
	  add y 5
	  sub x 70
	  add y 20
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	  add x 70
	  sub y 20
	  rotatesprite x y 49152 0 22696 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 0 22701 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	    state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 0 22704 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
	  
	case 10
	case 12
	  add x 10
	  add y 7
	  sub x 70
	  add y 20
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	  add x 70
	  sub y 20
	  rotatesprite x y 49152 0 22697 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 0 22701 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 0 22704 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
	case 11  
	  add x 10
	  add y 7
	  sub x 60
	  add y 40
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	  add x 60
	  sub y 40
	  rotatesprite x y 49152 32 22697 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 32 22701 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 32 22704 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
	case 16
	case 17
	case 18
	  add x 5
	  add y 3
	  sub x 70
	  add y 30
	  rotatesprite x y 49152 WEAP_DISP_TEMP2 9010 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	  add x 70
	  sub y 30
	  rotatesprite x y 49152 5 22693 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 5 22700 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 5 22703 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
	case 19
	case 20
	case 21
	case 22
	  add x 20
	  sub y 18
	  rotatesprite x y 49152 20 22699 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 20 22702 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 20 22705 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
	case 23
	case 24
	  add x 23
	  sub y 15
	  rotatesprite x y 49152 30 22699 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 30 22702 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 30 22705 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
	case 25
	case 26
	case 27
	add x 20
	sub y 20
	rotatesprite x y 49152 40 22699 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	rotatespritea x y 49152 40 22702 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
		  state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 40 22705 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	break
	case 28
	case 29
	case 30
	  add x 20
	  sub y 10
	  rotatesprite x y 49152 20 22699 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 20 22702 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  	  state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 20 22705 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
	case 31
	case 32
	case 33
	case 34
	case 35
	  add x 20
	  sub y 10
	  rotatesprite x y 49152 0 22699 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatespritea x y 49152 0 22702 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  	  state reverse_shade
		ife WEAPON_GLOW YES rotatespritea x y 49152 0 22705 WEAP_DISP_TEMP5 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
	  break
endswitch

ends

// MERLIJN'S BLUNDERBUSS===============================================================================================================

defstate drawblunderbuss

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 148 320

switch weaponcount
case 0
case 10
case 11
case 12
case 13
case 36
case 37
case 38
case 39
case 40

  state gunpushback_display
  state wep_drawup
  ifand MERLIJN_UPGRADE 2
  {
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 5057 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  myospal x y 5057 shade 0 wep_pal
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  rotatespritea x y NNORMALSIZE 0 5059 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	  }
  }
  else
   rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 5052 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 1  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 4964 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 4  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 5051 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
  ifand MERLIJN_UPGRADE 2
  {
  myospal x y 5057 shade 0 wep_pal
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  rotatespritea x y NNORMALSIZE 0 5059 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	  }
  }
  else
  {
  myospal x y 5056 shade 0 wep_pal
  myospal x y 5053 0 0 wep_pal
  }
  set M60FLASH 0
  ifand MERLIJN_UPGRADE 1 myospal x y 4964 shade 0 wep_pal
  ifand MERLIJN_UPGRADE 4 myospal x y 5051 shade 0 wep_pal
  break
case 2
   sub y 40
  sub x 40
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  rotatespritea x y 18000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 40
  
  ifand MERLIJN_UPGRADE 2
  myospal x y 5058 0 0 wep_pal
  else
  myospal x y 5054 0 0 wep_pal
  ifand MERLIJN_UPGRADE 1 myospal x y 4964 0 0 wep_pal
  ifand MERLIJN_UPGRADE 4 myospal x y 5025 shade 0 wep_pal
  break
case 3
   sub y 40
  sub x 40
  rotatespritea x y 24000 M60FLASH 16114 0 10 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 40
  
  ifand MERLIJN_UPGRADE 2
  myospal x y 5058 0 0 wep_pal
  else
  myospal x y 5054 0 0 wep_pal
  ifand MERLIJN_UPGRADE 1 myospal x y 4964 0 0 wep_pal
  ifand MERLIJN_UPGRADE 4 myospal x y 5025 shade 0 wep_pal
  break
case 4
case 5
case 6
case 7
case 8
case 9
  set GUN_PUSHBACK_DISPLAY 10
  add x KICKBACKPIC
  add y KICKBACKPIC
  ifand MERLIJN_UPGRADE 2
  {
  myospal x y 5057 shade 0 wep_pal
  ife WEAPON_GLOW YES
	{
	state reverse_shade
	rotatespritea x y NNORMALSIZE 0 5059 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	}
  ifand MERLIJN_UPGRADE 1 myospal x y 4964 0 0 wep_pal
  ifand MERLIJN_UPGRADE 4 myospal x y 5051 shade 0 wep_pal
  }
  else
  {
  set WEAP_DISP_TEMP2 KICKBACKPIC
  mulvar WEAP_DISP_TEMP2 4
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 5055 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 1 rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 4965 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 4 rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 4992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 14
case 15
case 16
case 17
case 26
case 27
case 28
case 29
state gunpushback_display
 ifand MERLIJN_UPGRADE 2
  {
  myospal x y 5057 shade 0 wep_pal
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  rotatespritea x y NNORMALSIZE 0 5059 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	  }
  }
  else
  myospal x y 5052 shade 0 wep_pal
  ifand MERLIJN_UPGRADE 1 myospal x y 4964 shade 0 wep_pal
  ifand MERLIJN_UPGRADE 4 myospal x y 5051 shade 0 wep_pal
  break
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
state gunpushback_display
    ifand MERLIJN_UPGRADE 2
  {
  myospal x y 5057 shade 0 wep_pal
  ife WEAPON_GLOW YES
	{
	state reverse_shade
	rotatespritea x y NNORMALSIZE 0 5059 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	}
  }
  else
  myospal x y 5052 shade 0 wep_pal
  ifand MERLIJN_UPGRADE 1 myospal x y 4964 shade 0 wep_pal
  ifand MERLIJN_UPGRADE 4 myospal x y 5051 shade 0 wep_pal
  break
case 30
case 31
case 32
state gunpushback_display
    ifand MERLIJN_UPGRADE 2
  {
  myospal x y 5057 shade 0 wep_pal
  ife WEAPON_GLOW YES
	{
	state reverse_shade
	rotatespritea x y NNORMALSIZE 0 5059 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	}
  }
  else
  rotatesprite x y NNORMALSIZE 0 5052 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 1 rotatesprite x y NNORMALSIZE 0 4964 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 4 rotatesprite x y NNORMALSIZE 0 5051 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 33
case 35
state gunpushback_display
    ifand MERLIJN_UPGRADE 2
  {
  rotatesprite x y NNORMALSIZE 4 5057 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  rotatespritea x y NNORMALSIZE 4 5059 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	  }
  }
  else
  rotatesprite x y NNORMALSIZE 4 5056 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 1 rotatesprite x y NNORMALSIZE 4 4964 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 4 rotatesprite x y NNORMALSIZE 4 5051 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 34
state gunpushback_display
    ifand MERLIJN_UPGRADE 2
  {
  rotatesprite x y NNORMALSIZE 8 5057 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state reverse_shade
	rotatespritea x y NNORMALSIZE 8 5059 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	}
  }
  else
  rotatesprite x y NNORMALSIZE 8 5056 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 1 rotatesprite x y NNORMALSIZE 8 4964 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MERLIJN_UPGRADE 4 rotatesprite x y NNORMALSIZE 8 5051 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// MERLIJN'S WAR CANNON

defstate draw_warcannon
  set x 237
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 233
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 147 320
  
 ifn wep_pal 1
ifn wep_pal 2
ifn wep_pal 4
ifn wep_pal 7
ifn wep_pal 8
ifn wep_pal 18
{
ifand SPECIALIST_CUSTOM[50] 1 set wep_pal 11 
else ifand SPECIALIST_CUSTOM[50] 2 set wep_pal 21 
else ifand SPECIALIST_CUSTOM[50] 4 set wep_pal 18
else ifand SPECIALIST_CUSTOM[50] 8 set wep_pal 13
else ifand SPECIALIST_CUSTOM[50] 16 set wep_pal 15
else set wep_pal 0
}

switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 36
  state wep_drawup
  ifg GUN_PUSHBACK_DISPLAY 0
	{
	add x GUN_PUSHBACK_DISPLAY
	add y GUN_PUSHBACK_DISPLAY
	sub GUN_PUSHBACK_DISPLAY 3
	ifg KICKBACKPIC 8 set GUN_PUSHBACK_DISPLAY 0
	}
    sub x 70
  add y 30
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 30
  rotatesprite x y 49152 WEAP_DISP_TEMP2 15992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  add x 5
  add y 5
  set GUN_PUSHBACK_DISPLAY 30
  displayrandvar M60FLASH 2048
  sub x 37
  sub y 38
  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 37
  add y 38
  
    sub x 70
  add y 30
  rotatesprite x y NORMALSIZE 0 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 30
  
  rotatesprite x y 49152 0 15993 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  add x 5
  add y 5
  set GUN_PUSHBACK_DISPLAY 30
  displayrandvar M60FLASH 2048
  sub x 37
  sub y 38
  rotatespritea x y 24000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 37
  add y 38
  
    sub x 70
  add y 30
  rotatesprite x y NORMALSIZE 0 C_ARM_2 0 106 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 30
  
  rotatesprite x y 49152 0 15993 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 18
case 19
case 20
case 33
case 34
case 35
  sub x 70
  add y 35
  rotatesprite x y 70000 0 C_ARM_2 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 35
  rotatesprite x y 49152 0 15994 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
add x 10
sub y 10
  sub x 70
  add y 35
  rotatesprite x y 70000 0 C_ARM_2 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 35
  rotatesprite x y 49152 32 15994 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
add x 20
sub y 20
  sub x 70
  add y 35
  rotatesprite x y 70000 0 C_ARM_2 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 35
  rotatesprite x y 49152 64 15994 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 32
  add x 5
  add y 5
  rotatesprite x y 49152 0 15995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 31
  add x 8
  add y 8
  rotatesprite x y 49152 0 15995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 30
  add x 11
  add y 11
  rotatesprite x y 49152 0 15995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 29
  add x 14
  add y 14
  rotatesprite x y 49152 0 15995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 25
case 28
  add x 17
  add y 17
  rotatesprite x y 49152 0 15995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
  add x 20
  add y 20
  rotatesprite x y 49152 0 15995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// MIKKO'S FIREBALL CANNON===============================================================================================================

defstate drawfireballc

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 159 320

switch weaponcount
case 0
case 10
  state wep_drawup
  rotatesprite x y 49152 WEAP_DISP_TEMP2 6991 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
  add y 2
  rotatesprite x y 49152 0 6991 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  add y 4
  rotatesprite x y 49152 0 6991 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  add y 6
  rotatesprite x y 49152 0 6992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  add y 8
  add x 8
	  sub x 60
	  sub y 40
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 66000 M60FLASH 8623 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
	  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // fireball
	  add y 40
	  add x 60
  rotatesprite x y 49152 0 6992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
  add y 8
  add x 8
	  sub x 60
	  sub y 40
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 66000 M60FLASH 8623 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
	  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // fireball
	  add y 40
	  add x 60

  rotatesprite x y 49152 0 6993 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
  add y 6
  add x 6
	  sub x 60
	  sub y 40
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 66000 M60FLASH 8623 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
	  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // fireball
	  add y 40
	  add x 60

  rotatesprite x y 49152 0 6993 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
  add y 4
  add x 4
	  sub x 60
	  sub y 40
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 66000 M60FLASH 8623 0 2 33 -255 windowx1 windowy1 windowx2 windowy2 // fireball glow
	  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // fireball
	  add y 40
	  add x 60

  rotatesprite x y 49152 0 6992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
  add y 2
  add x 2
  rotatesprite x y 49152 0 6992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
  rotatesprite x y 49152 0 6991 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// GEOFFREY'S SHOTGUN===============================================================================================================

defstate drawgshotgun

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
ifg KICKBACKPIC_2 0
{
switch KICKBACKPIC_2
case 0
case 1
case 23
case 24
case 25
	sub x 57
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 57
	sub y 18
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6537 else set tilenum 6468
  rotatesprite x y 45056 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  displayrandvar M60FLASH 2048
  sub x 20
  sub y 23
  rotatespritea x y 14000 M60FLASH 16114 0 1 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 20
  add y 23
  
  	sub x 57
	add y 18
	rotatesprite x y 45056 0 6584 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 57
	sub y 18
  
  rotatesprite x y 45056 0 6538 shade 102 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 6
  sub x 20
  sub y 23
  rotatespritea x y 16000 M60FLASH 16114 15 1 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 20
  add y 23
  
  	sub x 57
	add y 18
	rotatesprite x y 45056 0 6584 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 57
	sub y 18
  rotatesprite x y 40960 0 6538 shade 103 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
  add y 7
  add x 15
  
  	sub x 64
	add y 10
	rotatesprite x y 45056 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 64
	sub y 10
  
  rotatesprite x y 45056 16 6539 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  add y 7
  add x 15
  
  	sub x 64
	add y 8
	rotatesprite x y 45056 32 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 64
	sub y 8
  
  rotatesprite x y 45056 32 6539 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  add y 9
  add x 27
  
    	sub x 64
	add y 8
	rotatesprite x y 45056 32 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 64
	sub y 8
  
  rotatesprite x y 45056 48 6539 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  add y 9
  add x 27
  
    
	sub x 64
	rotatesprite x y 49248 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 64
  
  rotatesprite x y 45056 0 6540 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  add y 15
  add x 40
  
	sub x 64
	rotatesprite x y 49248 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 64
  
  rotatesprite x y 45056 16 6540 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  add y 18
  add x 35
  
	sub x 60
	add y 18
	rotatesprite x y 49248 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 18
  
  rotatesprite x y 45056 0 6541 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
switch weaponcount
case 0
case 1
case 23
case 24
case 25
  ife player[].weapon_pos 8 sound SELECT_WEAPON
  state wep_drawup
  state gunpushback_display
  
	sub x 57
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 57
	sub y 18
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6537 else set tilenum 6468
  rotatesprite x y 45056 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 50
  sub y 39
  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 39
  
	sub x 57
	add y 18
	rotatesprite x y 45056 0 6584 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 57
	sub y 18
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6538 else set tilenum 6469
  rotatesprite x y 45056 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 6
  sub x 50
  sub y 39
  rotatespritea x y 16000 M60FLASH 16114 15 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 39
  
	sub x 57
	add y 18
	rotatesprite x y 45056 0 6584 0 108 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 57
	sub y 18
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6538 else set tilenum 6469
  rotatesprite x y 45056 0 tilenum shade 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
  sub y 7
  add x 15
  set M60FLASH 0
  
	sub x 57
	add y 18
	rotatesprite x y 45056 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 57
	sub y 18
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6537 else set tilenum 6468
  rotatesprite x y 45056 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  add x 15
  
	sub x 64
	add y 10
	rotatesprite x y 45056 32 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 64
	sub y 10
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6539 else set tilenum 6470
  rotatesprite x y 45056 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  add x 27
  
	sub x 64
	add y 8
	rotatesprite x y 45056 48 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 64
	sub y 8
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6539 else set tilenum 6470
  rotatesprite x y 45056 48 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  add x 27
  
	sub x 64
	rotatesprite x y 49248 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 64
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6540 else set tilenum 6471
  rotatesprite x y 45056 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  add x 40
  
	sub x 64
	rotatesprite x y 49248 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 64
  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6540 else set tilenum 6471
  rotatesprite x y 45056 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  add x 35
  
	sub x 60
	add y 18
	rotatesprite x y 49248 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 18
	  
  ifand GEOFFREY_UPGRADE 16 set tilenum 6541 else set tilenum 6479
  rotatesprite x y 45056 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// GEOFFREY'S GOLD SHOTGUN===============================================================================================================

defstate drawg_goldshotgun
  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 23
case 24
case 25
  ife player[].weapon_pos 8 sound SELECT_WEAPON
  state wep_drawup
  state gunpushback_display
  
	sub x 47
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 47
	sub y 18

  rotatesprite x y 49152 WEAP_DISP_TEMP2 19809 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 44
  sub y 48
  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 47
	add y 18
	rotatesprite x y 45056 0 6584 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 47
	sub y 18
  
  rotatesprite x y 49152 0 19810 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 6
  sub x 44
  sub y 48
  rotatespritea x y 16000 M60FLASH 16114 15 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 47
	add y 18
	rotatesprite x y 45056 0 6584 0 108 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 47
	sub y 18

  rotatesprite x y 49152 0 19810 shade 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
  sub y 7
  add x 15
  set M60FLASH 0
  
	sub x 47
	add y 18
	rotatesprite x y 45056 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 47
	sub y 18
  rotatesprite x y 49152 16 19809 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  add x 15
  
	sub x 48
	add y 10
	rotatesprite x y 45056 32 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 48
	sub y 10

  rotatesprite x y 49152 32 19811 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  add x 27
  
	sub x 48
	add y 8
	rotatesprite x y 45056 48 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 48
	sub y 8
  rotatesprite x y 49152 48 19811 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  add x 27
  
	sub x 48
	rotatesprite x y 49248 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 48

  rotatesprite x y 49152 0 19819 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  add x 40
  
	sub x 48
	rotatesprite x y 49248 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 48
  
  rotatesprite x y 49152 16 19819 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  add x 35
  
	sub x 45
	add y 18
	rotatesprite x y 49248 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 45
	sub y 18
	  
  rotatesprite x y 49152 0 19820 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// GEOFFREY'S PLASMA SHOTGUN===============================================================================================================

defstate draw_gplasmashotgun
  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 23
case 24
case 25
  ife player[].weapon_pos 8 sound SELECT_WEAPON
  state wep_drawup
  state gunpushback_display
  
	sub x 47
	add y 18
	rotatesprite x y 45056 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 47
	sub y 18

  rotatesprite x y 49152 WEAP_DISP_TEMP2 6512 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 44
  sub y 18
  rotatespritea x y 14000 M60FLASH 16114 0 1 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 18
  
	sub x 47
	add y 18
	rotatesprite x y 45056 0 6584 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 47
	sub y 18
  
  rotatesprite x y 49152 0 6513 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 6
  sub x 44
  sub y 18
  rotatespritea x y 16000 M60FLASH 16114 15 1 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 18
  
	sub x 47
	add y 18
	rotatesprite x y 45056 0 6584 0 108 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 47
	sub y 18

  rotatesprite x y 49152 0 6513 shade 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
  sub y 7
  add x 15
  set M60FLASH 0
  
	sub x 47
	add y 18
	rotatesprite x y 45056 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 47
	sub y 18
  rotatesprite x y 49152 16 6512 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  add x 15
  
	sub x 48
	add y 10
	rotatesprite x y 45056 32 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 48
	sub y 10

  rotatesprite x y 49152 32 6514 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  add x 27
  
	sub x 48
	add y 8
	rotatesprite x y 45056 48 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 48
	sub y 8
  rotatesprite x y 49152 48 6514 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  add x 27
  
	sub x 48
	rotatesprite x y 49248 0 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 48

  rotatesprite x y 49152 0 6515 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  add x 40
  
	sub x 48
	rotatesprite x y 49248 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 48
  
  rotatesprite x y 49152 16 6515 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  add x 35
  
	sub x 45
	add y 18
	rotatesprite x y 49248 16 6584 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 45
	sub y 18
	  
  rotatesprite x y 49152 0 6516 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends


// DYNAMITE STICK===============================================================================================================

defstate displaystick
getp[].ammo_amount 5 WEAP_DISP_TEMP
      ifg WEAP_DISP_TEMP 0 
	{
      set tilenum CPIPEBOMB
	myospal x y tilenum shade 0 wep_pal
	sub x 46
	sub y 56
	add tilenum 1
	myospal x y tilenum shade 0 wep_pal // FUSE
	ifg weaponcount 8
	{
	sub x 5
	sub y 5
	myospal x y 6830 0 0 wep_pal // LIT FUSE
	}
	}
ends

defstate displaylighter
	getp[].weapon_pos WEAP_DISP_TEMP
	ife ARTIFACTS_LOADOUT[CHAR] 5 // Golden lighter artifact?
	{
	ifn WEAP_DISP_TEMP 0 set tilenum 11205 else set tilenum 11206
	}
	else
	{
	ifn WEAP_DISP_TEMP 0 set tilenum 6833 else set tilenum 6834
	}
	ife WEAP_DISP_TEMP 1 soundonce ZIPPOLIGHT
	ife WEAP_DISP_TEMP -2 soundonce ZIPPOCLOSE
	myospal x2 y2 tilenum shade 0 wep_pal	
	add x2 36
	sub y2 50
	ifinwater set tilenum 6827 else set tilenum 18168
	ife WEAP_DISP_TEMP 1 myospal x2 y2 6762 0 0 0 // spark when lighting
	ife WEAP_DISP_TEMP 0 rotatespritea x2 y2 8192 0 tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
ends

defstate displaylighter2
	ife ARTIFACTS_LOADOUT[CHAR] 5 // Golden lighter artifact?
	set tilenum 11207
	else
    set tilenum 6835
	sub y2 5
	myospal x2 y2 tilenum shade 0 wep_pal	
	add x2 36
	sub y2 40
	ifinwater set tilenum 6827 else set tilenum 18168
	rotatespritea x2 y2 8192 0 tilenum 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
ends

defstate displaydynastick

      set x 205
      set y 255
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos

      set x2 105
      set y2 255
	  sub x2 WEAPSWAYX
  	sub x2 weapon_xoffset
  	add x2 looking_angSR1
      
	sub y2 WEAPSWAYY
  	add y2 looking_arc
  	sub y2 gun_pos


  switch weaponcount
   case 0
		state displaystick
		state displaylighter
   break
   case 1
   case 2
      	sub x 5
		state displaystick
		add x2 5
		state displaylighter
   break
   case 3
   case 4
   case 13
   case 14
      	sub x 10
		state displaystick
		add x2 10
		state displaylighter
   break
   case 5
   case 6
   case 11
   case 12
      	sub x 15
		state displaystick
		add x2 15
		state displaylighter2
   break
   case 7
   case 8
      	sub x 20
		state displaystick
		add x2 20
		state displaylighter2
   break
   case 9
   case 10
		soundonce LIGHT_FUSE
      	sub x 20
		state displaystick
		add x2 20
		state displaylighter2
   break
   case 15
      	add x 10
		add y 10
		state displaystick
		state displaylighter
   break
   case 16
      	add x 20
		add y 20
		state displaystick
		state displaylighter
   break
   case 17
      	add x 30
		add y 30
		state displaystick
		state displaylighter
   break
   case 18
      	add x 40
		add y 40
		state displaystick
		state displaylighter
   break
   case 19 
   case 20
   case 21
	state displaylighter
   break
  endswitch
ends

// GEOFFREY'S GRENADE LAUNCHER===================================================================================================

defstate drawggrenadel

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  state gunpushback_display
  
  ifand GEOFFREY_UPGRADE 4 set wep_pal 21 else set wep_pal 12

switch weaponcount
case 0
case 1
case 19
case 20
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  rotatesprite x y 49152 WEAP_DISP_TEMP2 6474 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
    displayrandvar M60FLASH 2048
	sub x 60
	sub y 50
	rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	add x 60
	add y 50
  rotatesprite x y 49152 0 6475 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
    displayrandvar M60FLASH 2048
	sub x 60
	sub y 50
	rotatespritea x y 24000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	add x 60
	add y 50
  rotatesprite x y 49152 0 6475 0 108 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 11
case 12
  set GUN_PUSHBACK_DISPLAY 10
  add x 3
  add y 3
  rotatesprite x y 49152 32 6474 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 9
case 10
  add x 5
  add y 5
  rotatesprite x y 49152 64 6474 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
  add x 3
  add y 3
  rotatesprite x y 49152 96 6474 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
  rotatesprite x y 49152 0 6476 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  rotatesprite x y 49152 16 6476 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MIKKO'S PLASMA GUN===============================================================================================================

defstate drawmplasma


  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 2
case 4
  state wep_drawup
 	sub x 96
	add y 22
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 96
	sub y 22
  rotatesprite x y 45056 WEAP_DISP_TEMP2 7027 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 3
displayrandvar WEAP_DISP_TEMP 5
add y WEAP_DISP_TEMP
add x WEAP_DISP_TEMP

sub x 55
sub y 35
  displayrandvar M60FLASH 2048
  rotatespritea x y 62638 M60FLASH 13442 0 27 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 35
 	sub x 96
	add y 32
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 96
	sub y 32
  rotatesprite x y 45056 0 7028 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MDF PLASMA GUN===============================================================================================================

defstate draw_mdf_plasma

  set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 152 320
  
  set WEAP_DISP_TEMP5 60
  sub WEAP_DISP_TEMP5 GUN_HEAT[CURWEAP]

switch weaponcount
case 0
case 1
case 26
  getp[].ammo_amount 9 WEAP_DISP_TEMP
  state wep_drawup
  rotatesprite x y 49152 WEAP_DISP_TEMP2 7031 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  
  rotatespritea x y 49152 WEAP_DISP_TEMP2 7034 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 WEAP_DISP_TEMP2 7033 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  sub x 5
  sub y 10
  digitalnumber 3010 x y WEAP_DISP_TEMP 0 1 1 windowx1 windowy1 windowx2 windowy2 
  sub y 8
  digitalnumber 3010 x y GUN_HEAT[CURWEAP] 0 2 1 windowx1 windowy1 windowx2 windowy2 
  break
case 2
case 4
  add x 2
  add y 2
getp[].ammo_amount 9 WEAP_DISP_TEMP
  rotatesprite x y 49152 0 7032 0 0 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 WEAP_DISP_TEMP2 7033 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  sub x 5
  sub y 10
  digitalnumber 3010 x y WEAP_DISP_TEMP 0 1 1 windowx1 windowy1 windowx2 windowy2 
  sub y 8
  digitalnumber 3010 x y GUN_HEAT[CURWEAP] 0 2 1 windowx1 windowy1 windowx2 windowy2
  break
case 3
  add x 3
  add y 3
getp[].ammo_amount 9 WEAP_DISP_TEMP
  rotatesprite x y 49152 0 7032 0 103 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 WEAP_DISP_TEMP2 7033 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  sub x 5
  sub y 10
  digitalnumber 3010 x y WEAP_DISP_TEMP 0 1 1 windowx1 windowy1 windowx2 windowy2 
  sub y 8
  digitalnumber 3010 x y GUN_HEAT[CURWEAP] 0 2 1 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 23
case 24
case 25
  add x 5
  rotatesprite x y 49152 0 7035 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 0 7029 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 20
case 21
case 22
  add x 10
  rotatesprite x y 49152 32 7035 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 32 7029 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 17
case 18
case 19
  add x 15
  rotatesprite x y 49152 0 7036 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 0 7030 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add x 20
  rotatesprite x y 49152 32 7036 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 32 7030 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

//  GEOFFREY'S MELTA RIFLE===============================================================================================================

defstate drawmeltarifle

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 148 320
  

switch weaponcount
case 0
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  rotatesprite x y 45056 WEAP_DISP_TEMP2 6576 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
	  sub x 22
	  sub y 33
	  displayrandvar M60FLASH 2048
	  rotatespritea x y DOUBLESIZE M60FLASH 7056 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 22
	  add y 33
  rotatesprite x y 45056 0 6577 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
	  sub x 22
	  sub y 33
	  displayrandvar M60FLASH 2048
	  rotatespritea x y DOUBLESIZE M60FLASH 7056 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 22
	  add y 33
 rotatesprite x y 45056 0 6576 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  rotatesprite x y 45056 0 6576 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

//  GEOFFREY'S AUTOSHOTGUN===============================================================================================================

defstate draw_geo_autoshotgun

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 203
  sub y WEAPSWAYY
  add y looking_arc
  set WEAP_DISP_TEMP gun_pos
  divvar WEAP_DISP_TEMP 2
  sub y WEAP_DISP_TEMP

switch weaponcount
case 0
case 1
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 22596 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
	  sub x 55
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 18000 M60FLASH 16114 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 30
  rotatesprite x y 40960 0 22597 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  state gunpushback_display
   displayrandvar GUN_PUSHBACK_DISPLAY 5
   add GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY

	  sub x 55
	  sub y 30
	  rotatespritea x y 20000 M60FLASH 16114 15 2 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 30
 rotatesprite x y 40960 0 22597 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 7
case 8
  state gunpushback_display
  rotatesprite x y 40960 0 22598 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
  state gunpushback_display
  rotatesprite x y 40960 0 22599 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// GEOFFREY'S DISCBOMB===============================================================================================================

defstate displaydiscbomb

  set x 180
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 265
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
ife CURWEAP 5 getp[].ammo_amount 5 WEAP_DISP_TEMP
ife CURWEAP 8 getp[].ammo_amount 8 WEAP_DISP_TEMP
  state wep_drawup
      ifg WEAP_DISP_TEMP 0 
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
  sub x 10
  rotatesprite x y NORMALSIZE -32 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  sub x 20
  rotatesprite x y NORMALSIZE -64 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break  
case 3
  sub x 30
  add y 5
  rotatesprite x y NORMALSIZE -96 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  sub x 40
  add y 7
  rotatesprite x y NORMALSIZE -128 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
  sub x 50
  add y 10
  rotatesprite x y NORMALSIZE -160 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
  sub x 60
  add y 13
  rotatesprite x y NORMALSIZE -192 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
   sub x 40
   add y 15
  rotatesprite x y NORMALSIZE -128 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break 
case 8
   sub x 20
   add y 7
  rotatesprite x y NORMALSIZE -64 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9  
  rotatesprite x y NORMALSIZE 0 6484 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
  add x 10
  rotatesprite x y NORMALSIZE 32 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break  
case 11
  add x 20
  rotatesprite x y NORMALSIZE 64 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
  add x 30
  rotatesprite x y NORMALSIZE 96 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 case 13
  add x 40
  rotatesprite x y NORMALSIZE 128 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// GEOFFREY'S TRIPBOMB===============================================================================================================

defstate displaydisctripbomb

  set x 180
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 265
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
ife CURWEAP 8 getp[].ammo_amount 8 WEAP_DISP_TEMP
state wep_drawup
      ifg WEAP_DISP_TEMP 0 
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 6483 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state GLOWCODE
	rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 6482 WEAP_DISP_TEMP wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
	rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 6481 crystal_shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break
case 1
  sub x 10
  rotatesprite x y NORMALSIZE -32 6483 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state GLOWCODE
	rotatespritea x y NORMALSIZE -32 6482 WEAP_DISP_TEMP wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
	rotatespritea x y NORMALSIZE -32 6481 crystal_shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break
case 2
  sub x 20
  rotatesprite x y NORMALSIZE -64 6483 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state GLOWCODE
	rotatespritea x y NORMALSIZE -64 6482 WEAP_DISP_TEMP wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
	rotatespritea x y NORMALSIZE -64 6481 crystal_shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break  
case 3
  sub x 30
  rotatesprite x y NORMALSIZE -96 6483 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state GLOWCODE
	rotatespritea x y NORMALSIZE -96 6482 WEAP_DISP_TEMP wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
	rotatespritea x y NORMALSIZE -96 6481 crystal_shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break
case 4
  sub x 40
  rotatesprite x y NORMALSIZE -128 6483 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state GLOWCODE
	rotatespritea x y NORMALSIZE -128 6482 WEAP_DISP_TEMP wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
	rotatespritea x y NORMALSIZE -128 6481 crystal_shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break
case 5
  sub x 50
  rotatesprite x y NORMALSIZE -160 6483 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state GLOWCODE
	rotatespritea x y NORMALSIZE -160 6482 WEAP_DISP_TEMP wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
	rotatespritea x y NORMALSIZE -160 6481 crystal_shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break
case 6
  sub x 60
  rotatesprite x y NORMALSIZE -192 6483 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state GLOWCODE
	rotatespritea x y NORMALSIZE -192 6482 WEAP_DISP_TEMP wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
	rotatespritea x y NORMALSIZE -192 6481 crystal_shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break
case 7
   sub x 40
  rotatesprite x y NORMALSIZE -128 6483 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state GLOWCODE
	rotatespritea x y NORMALSIZE -128 6482 WEAP_DISP_TEMP wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
	rotatespritea x y NORMALSIZE -128 6481 crystal_shade wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break 
case 8
   sub x 20
  rotatesprite x y NORMALSIZE -64 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9  
  rotatesprite x y NORMALSIZE 0 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
  add x 10
  rotatesprite x y NORMALSIZE 32 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break  
case 11
  add x 20
  rotatesprite x y NORMALSIZE 64 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
  add x 30
  rotatesprite x y NORMALSIZE 96 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 case 13
  add x 40
  rotatesprite x y NORMALSIZE 128 6485 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// GEOFFREY'S SHOCK RIFLE===============================================================================================================

defstate drawgshockr

  set x 247
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 237
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 156 set y 156
  
ifand GUNFIREMODE 16384 { add x 20 add y 20 set WEAP_DISP_TEMP9 50000 }
else set WEAP_DISP_TEMP9 40960

ifg KICKBACKPIC 5
 ifand GUNFIREMODE 16384
	{
	set WEAP_DISP_TEMP2 KICKBACKPIC
	mulvar WEAP_DISP_TEMP2 4
	set WEAP_DISP_TEMP6 WEAP_DISP_TEMP2
	rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 6620 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    getp[].ammo_amount 9 WEAP_DISP_TEMP ifg WEAP_DISP_TEMP 0 rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 6621 0 0 0 windowx1 windowy1 windowx2 windowy2
	}
switch weaponcount
case 0
case 1
case 3
case 4
case 5
  set WEAP_DISP_TEMP2 player[].weapon_pos
    ifg WEAP_DISP_TEMP6 0
	  {
	  clamp WEAP_DISP_TEMP6 0 76
	  sub WEAP_DISP_TEMP6 32
	  set WEAP_DISP_TEMP2 WEAP_DISP_TEMP6
	  }
  else
	  {
	  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
	  state wep_drawup
	  }
	  
 	sub x 80
	add y 32
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 80
	sub y 32
	  
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 6620 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	  {
	  getp[].ammo_amount 9 WEAP_DISP_TEMP 
	  ifg WEAP_DISP_TEMP 0 rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 6621 0 0 0 windowx1 windowy1 windowx2 windowy2
	  state reverse_shade
	  rotatespritea x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 6623 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 2
  add y 4
  add x 4
	  sub x 55
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 45000 M60FLASH 3605 0 11 1 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 30
	  
 	sub x 80
	add y 32
    rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade 104 0 windowx1 windowy1 windowx2 windowy2
	add x 80
	sub y 32
	  
  ife WEAPON_GLOW YES rotatesprite x y WEAP_DISP_TEMP9 0 6622 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// *************************************************
// WEAP_DISP_TEMP WEAPS
// *************************************************

defstate displaytemp_shrinker

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 161 320 

switch weaponcount
case 0
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 8407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife player[].weapon_pos 9 sound SELECT_WEAPON2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 8408 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18

set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub x 25
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 8 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 25

  rotatesprite x y NORMALSIZE 0 8407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
  rotatespritea x y NORMALSIZE 0 8408 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
case 4
case 5
case 6
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y NORMALSIZE 0 8407 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE 0 8408 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  
  
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub x 25
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 8 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 25
  
  rotatesprite x y NORMALSIZE 0 8407 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE 0 8408 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_expander

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 161 320 

switch weaponcount
case 0
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 8406 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife player[].weapon_pos 9 sound SELECT_WEAPON2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 8408 WEAP_DISP_TEMP 2 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18

set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub x 25
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 2 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 25

  rotatesprite x y NORMALSIZE 0 8406 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
  rotatespritea x y NORMALSIZE 0 8408 WEAP_DISP_TEMP 2 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
case 4
case 5
case 6
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y NORMALSIZE 0 8406 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE 0 8408 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  
  
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub x 25
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 2 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 25
  
  rotatesprite x y NORMALSIZE 0 8406 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE 0 8408 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_shrinker2

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 22666 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife player[].weapon_pos 9 sound SELECT_WEAPON2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
  ifvarg near_crystal 0
	  {
	  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 22667 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
	   ife WEAPON_GLOW YES
		  {
		  state crystal_glow
		  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 22668 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  }
  break
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18

set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub x 25
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 8 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 25

  rotatesprite x y NORMALSIZE 0 22666 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
  ifvarg near_crystal 0
	  {
	  rotatespritea x y NORMALSIZE 0 22667 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
	   ife WEAPON_GLOW YES
		  {
		  state crystal_glow
		  rotatespritea x y NORMALSIZE 0 22668 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  }
  break
case 1
case 2
case 3
case 4
case 5
case 6
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y NORMALSIZE 0 22666 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE 0 22667 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  ifvarg near_crystal 0
	  {
	  rotatespritea x y NORMALSIZE 0 22667 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
	   ife WEAPON_GLOW YES
		  {
		  state crystal_glow
		  rotatespritea x y NORMALSIZE 0 22668 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  }
  break
case 7
case 8
case 9
case 10
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  
  
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub x 25
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 8 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 25
  
  rotatesprite x y NORMALSIZE 0 22666 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE 0 22667 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  ifvarg near_crystal 0
	  {
	  rotatespritea x y NORMALSIZE 0 22667 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
	   ife WEAPON_GLOW YES
		  {
		  state crystal_glow
		  rotatespritea x y NORMALSIZE 0 22668 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  }
  break
endswitch
ends


defstate displaytemp_barrett

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 130 320
    
  ifg SCOPE 0 { add x 80 add y 80 set WEAP_DISP_TEMP9 NORMALSIZE }
else set WEAP_DISP_TEMP9 36864

switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18
  ife player[].weapon_pos 9 sound SELECT_WEAPON2
  state wep_drawup
  sub x 60
  add y 44
  state gunpushback_display
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 60
  sub y 44
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 8411 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3

    displayrandvar M60FLASH 2048
	sub x 60
	sub y 30
	state random_AR_flash
	rotatespritea x y 26638 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	add x 60
	add y 30
	
  sub x 60
  add y 44
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade 106 0 windowx1 windowy1 windowx2 windowy2
  add x 60
  sub y 44
  
  rotatesprite x y WEAP_DISP_TEMP9 0 8412 0 0 0 windowx1 windowy1 windowx2 windowy2
  
   displayrandvar GUN_PUSHBACK_DISPLAY 5
   add GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  
  break
endswitch
ends

// MAC-10s

defstate displaytemp_MAC10

   set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos 
  
 
  
  clamp y 145 320
  
  set x2 90
  sub x2 WEAPSWAYX
  sub x2 weapon_xoffset
  sub x2 looking_angSR1

switch weaponcount
case 0
case 3
case 4
  state gunpushback_display
  state wep_drawup
  
  add x 27
  add y 30
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Right hand
  sub x 27
  sub y 30
  
  rotatesprite x y 45056 WEAP_DISP_TEMP2 8418 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Right gun
  ifg GUN_PUSHBACK_DISPLAY 0 sub x2 GUN_PUSHBACK_DISPLAY
  state wep_drawup_rev  
  sub x2 27
  add y 30
  rotatesprite x2 y NNORMALSIZE WEAP_DISP_TEMP2 C_PISTOL_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Left hand
  add x2 27
  sub y 30    
  rotatesprite x2 y 45056 WEAP_DISP_TEMP2 8418 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Left gun
  break
case 1
case 2
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  sub x2 GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  set WEAP_DISP_TEMP3 x
  set WEAP_DISP_TEMP4 y
  sub WEAP_DISP_TEMP3 20
  sub WEAP_DISP_TEMP4 50
  displayrandvar M60FLASH 2048
  rotatespritea WEAP_DISP_TEMP3 WEAP_DISP_TEMP4 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // right muzzleflash
  set WEAP_DISP_TEMP3 x2
  add WEAP_DISP_TEMP3 25
  rotatespritea WEAP_DISP_TEMP3 WEAP_DISP_TEMP4 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // left muzzleflash
  add x 27
  add y 30
  rotatesprite x y NNORMALSIZE 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2 // Right hand
  sub x 27
  sub y 30
  rotatesprite x y 45056 0 8419 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2 // right gun
  sub x2 27
  add y 30
  rotatesprite x2 y NNORMALSIZE 1024 C_PISTOL_2 0 107 4 windowx1 windowy1 windowx2 windowy2 // Left hand
  add x2 27
  sub y 30    
  rotatesprite x2 y 45056 1024 8419 0 wep_pal 4 windowx1 windowy1 windowx2 windowy2 // left gun
  break
endswitch
ends

defstate displaytemp_hell_nailer
  set x 150
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 242
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 175 320
  
  state gunpushback_display

switch weaponcount
case 0
case 1
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 22624 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  rotatesprite x y NORMALSIZE 0 22625 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
  displayrandvar GUN_PUSHBACK_DISPLAY 5
  add y GUN_PUSHBACK_DISPLAY 
  rotatesprite x y NORMALSIZE 0 22626 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
  rotatesprite x y NORMALSIZE 0 22627 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
  displayrandvar GUN_PUSHBACK_DISPLAY 5
  add y GUN_PUSHBACK_DISPLAY 
  rotatesprite x y NORMALSIZE 0 22628 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_bloodstaff

  set x 210
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 232
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 158 320
  
  state gunpushback_display

switch weaponcount
case 0
case 6
  ife player[].weapon_pos 9 sound UNMAKERF
  state wep_drawup
  rotatesprite x y 49152 WEAP_DISP_TEMP2 8426 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 5
  rotatesprite x y 49152 0 8427 gs wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 4
  add GUN_PUSHBACK_DISPLAY 2
  rotatesprite x y 49152 0 8428 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  rotatesprite x y 49152 0 8428 gs 107 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_lizmangun

  set x 180
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 157 320
  
  ife CHAR 0 
	{
	ifand CHAR_APP 1 set WEAP_DISP_TEMP 19890
	else set WEAP_DISP_TEMP 8973
	}
  else ife CHAR 1 set WEAP_DISP_TEMP 8978
  else ife CHAR 2 set WEAP_DISP_TEMP 8977
  else ife CHAR 3 set WEAP_DISP_TEMP 8972
  else ife CHAR 4 
	{
	ifand CHAR_APP 2 set WEAP_DISP_TEMP 8982
	else set WEAP_DISP_TEMP 8976
	}
  else ife CHAR 5 set WEAP_DISP_TEMP 8972
  else ife CHAR 6 set WEAP_DISP_TEMP 8975
  else ife CHAR 7 set WEAP_DISP_TEMP 8974
  else ife CHAR 9 set WEAP_DISP_TEMP 8972
  else ife CHAR 10 set WEAP_DISP_TEMP 14582
  else ife CHAR 11 set WEAP_DISP_TEMP 8977
  else ife CHAR 12 set WEAP_DISP_TEMP 8974
  else ife CHAR 13 set WEAP_DISP_TEMP 8974
  else ife CHAR 14 set WEAP_DISP_TEMP 20981

switch weaponcount
case 0
  ife player[].weapon_pos 7 soundonce SELECT_WEAPON2
 state wep_drawup
  state gunpushback_display
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 8971 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 WEAP_DISP_TEMP shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state crystal_glow
  ife WEAPONS_RESEARCH[11] 2 rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 9022 crystal_shade 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  rotatesprite x y NORMALSIZE 0 8979 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 WEAP_DISP_TEMP shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  rotatesprite x y NORMALSIZE 0 8980 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 WEAP_DISP_TEMP shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  rotatesprite x y NORMALSIZE 0 8981 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 WEAP_DISP_TEMP shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_zchaingun

  set x 180
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 153 320
  
      ife CHAR 0 set tilenum 17424
  else ife CHAR 1 set tilenum 17430
  else ife CHAR 2 set tilenum 17432
  else ife CHAR 4 ifand CHAR_APP 2 set tilenum 23869
  else ife CHAR 6 set tilenum 17427
  else ife CHAR 7 set tilenum 17426
  else ife CHAR 10 set tilenum 17425
  else ife CHAR 11 set tilenum 17432
  else ife CHAR 12 set tilenum 17426
  else ife CHAR 13 set tilenum 17428
  else ife CHAR 14 set tilenum 20881
  else set tilenum 17429
  

	switch weaponcount
	case 0
	  state wep_drawup
	  rotatesprite x y 40960 WEAP_DISP_TEMP2 19895 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 54
	  add y 25
	  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 1
	case 4
	case 7
	case 10
	case 13
	case 16
	case 19
	case 22
	case 24
	case 29
	case 32
	case 35
	case 38
	case 41
	case 42
	case 48
	case 49
	case 50
	  rotatesprite x y 40960 0 19896 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 54
	  add y 25
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 2
	case 5
	case 8
	case 11
	case 14
	case 17
	case 20
	case 25
	case 30
	case 33
	case 36
	case 39
	case 43
	case 44
	case 51
	case 52
	case 53
	  rotatesprite x y 40960 0 19897 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 54
	  add y 25
	  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 3
	case 6
	case 9
	case 12
	case 15
	case 18
	case 21
	case 23
	case 31
	case 34
	case 37
	case 40
	case 45
	case 46
	case 47
	case 54
	case 55
	case 56
	case 57
		rotatesprite x y 40960 0 19886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		  add x 54
		  add y 25
		  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 26
	  sub x 10
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 17000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 10
	  add y 30
	  rotatesprite x y 40960 0 19898 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 54
	  add y 25
	  rotatesprite x y 40960 0 tilenum 0 107 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 27
	  sub x 10
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 18000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 10
	  add y 30
	  rotatesprite x y 40960 0 19899 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 54
	  add y 25
	  rotatesprite x y 40960 0 tilenum 0 107 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 28
	  sub x 10
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 10
	  add y 30
	  rotatesprite x y 40960 0 19900 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 54
	  add y 25
	  rotatesprite x y 40960 0 tilenum 0 107 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
ends

defstate displaytemp_jug_minigun

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 250
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 133 320
  

switch weaponcount
case 0
  ife player[].weapon_pos 8 soundonce SELECT_WEAPON2
  state wep_drawup
  state gunpushback_display
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 23959 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
    sub y 30
  sub x 62
 displayrandvar M60FLASH 2048
  rotatespritea x y 32768 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // muzzleflash
  add y 30
  add x 62
  rotatesprite x y NORMALSIZE 0 23960 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// TEMPORARY RAILGUN=======================================================================================================


defstate displaytemp_railgun
	ifg wep_pal 25
	ifl wep_pal 35
		set BLOOD_PAL shade
	else set BLOOD_PAL 0

  set x 190
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 206
  sub y WEAPSWAYY
  add y looking_arc
  set WEAP_DISP_TEMP gun_pos
  divvar WEAP_DISP_TEMP 2
  sub y WEAP_DISP_TEMP
  clamp y 167 320
  
  ifg SCOPE 0 break
  
  ife CHAR 0 set tilenum 19937
  ife CHAR 1 set tilenum 19933
  ife CHAR 2 set tilenum 19934
  ife CHAR 3 set tilenum 19921
  ife CHAR 4 
	{
	ifand CHAR_APP 2 set tilenum 19950
	else set tilenum 19921
	}
  ife CHAR 5 set tilenum 19921
  ife CHAR 6 set tilenum 19936
  ife CHAR 7 set tilenum 19935
  ife CHAR 9 set tilenum 19921
  ife CHAR 10 set tilenum 19937
  ife CHAR 11 set tilenum 19934
  ife CHAR 12 set tilenum 19935
  ife CHAR 13 set tilenum 19935
  ife CHAR 14 set tilenum 19938
  ife SPACE_SUIT 1 set tilenum 19951
  
  
ifn wep_pal 26
ifn wep_pal 27
ifn wep_pal 28
ifn wep_pal 29
ifn wep_pal 30
ifn wep_pal 31
ifn wep_pal 32
ifn wep_pal 33
{
set WEAP_DISP_TEMP3 0
}
else set WEAP_DISP_TEMP3 wep_pal

  
switch weaponcount
case 0
case 2
case 4
case 6
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  state gunpushback_display
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 19922 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 19922 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 5
 displayrandvar GUN_PUSHBACK_DISPLAY 3
  add x GUN_PUSHBACK_DISPLAY
 displayrandvar GUN_PUSHBACK_DISPLAY 3
  add y GUN_PUSHBACK_DISPLAY
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 19927 BLOOD_PAL WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
	break
case 3
case 7
 displayrandvar GUN_PUSHBACK_DISPLAY 3
  add x GUN_PUSHBACK_DISPLAY
 displayrandvar GUN_PUSHBACK_DISPLAY 3
  add y GUN_PUSHBACK_DISPLAY
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 19928 BLOOD_PAL WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
	break
case 8
case 9
case 10
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 19929 BLOOD_PAL WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 13
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 19927 BLOOD_PAL WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 19930 BLOOD_PAL WEAP_DISP_TEMP3 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 12
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 19927 BLOOD_PAL WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 19931 BLOOD_PAL WEAP_DISP_TEMP3 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  set GUN_PUSHBACK_DISPLAY 20
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 19928 BLOOD_PAL WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// ####################################################################################################################################################################################
// Temp AR65
// ####################################################################################################################################################################################

defstate ar65_hand
	sub x 90
	add y 13
    ife weaponcount 2 rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade 106 0 windowx1 windowy1 windowx2 windowy2
	else rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 90
	sub y 13
ends

defstate ar65_hand2
	sub x 85
	add y 13
	rotatesprite x y NORMALSIZE 32 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 85
	sub y 13
ends

defstate displaytemp_ar65

  set x 250
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 234
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 150 320
  
  ife currentweapon 11
  ife wep_pal 0
	{
	set wep_pal 21
	}
	
  set WEAP_DISP_TEMP5 60
  sub WEAP_DISP_TEMP5 GUN_HEAT[CURWEAP]

switch weaponcount
case 0
case 1
case 4
case 5
case 6
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
    state gunpushback_display
	state ar65_hand
	set M60FLASH 0
	rotatesprite x y 40960 WEAP_DISP_TEMP2 22613 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	rotatespritea x y 40960 WEAP_DISP_TEMP2 22614 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 2
add x 5
add y 5
set GUN_PUSHBACK_DISPLAY 6

   sub y 40
  sub x 55
 ife M60FLASH 0 displayrandvar M60FLASH 2048
  rotatespritea x y 82000 M60FLASH 16510 0 94 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 55
  state ar65_hand
  rotatesprite x y 40960 0 22615 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 WEAP_DISP_TEMP2 22614 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 3
add x 5
add y 5
set GUN_PUSHBACK_DISPLAY 6

   sub y 40
  sub x 55
  rotatespritea x y 92000 M60FLASH 16510 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 55
  state ar65_hand
  rotatesprite x y 40960 0 22615 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 WEAP_DISP_TEMP2 22614 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
case 19
case 20
case 21
case 22
  state gunpushback_display
  add x 10
  state ar65_hand
  sub x 10
  rotatesprite x y 40960 16 22613 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 16 22614 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 16
case 17
case 18
add x 10
add y 10
  state ar65_hand2
  rotatesprite x y 40960 32 22616 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22691 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 14
add x 10
add y 10
  state ar65_hand2
  rotatesprite x y 40960 32 22616 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22691 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 15
add x 10
add y 10
  state ar65_hand2
  rotatesprite x y 40960 32 22616 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 40960 32 22691 WEAP_DISP_TEMP5 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

defstate displaytemp_lizmanfirelasergun

  set x 180
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 157 320
  
  ife CHAR 0 
	{
	ifand CHAR_APP 1 set WEAP_DISP_TEMP 19890
	else set WEAP_DISP_TEMP 8973
	}
  else ife CHAR 1 set WEAP_DISP_TEMP 8978
  else ife CHAR 2 set WEAP_DISP_TEMP 8977
  else ife CHAR 3 set WEAP_DISP_TEMP 8972
  else ife CHAR 4 
 	{
	ifand CHAR_APP 2 set WEAP_DISP_TEMP 8982
	else set WEAP_DISP_TEMP 8976
	}
  else ife CHAR 5 set WEAP_DISP_TEMP 8972
  else ife CHAR 6 set WEAP_DISP_TEMP 8975
  else ife CHAR 7 set WEAP_DISP_TEMP 8974
  else ife CHAR 9 set WEAP_DISP_TEMP 8972
  else ife CHAR 10 set WEAP_DISP_TEMP 14582
  else ife CHAR 11 set WEAP_DISP_TEMP 8977
  else ife CHAR 12 set WEAP_DISP_TEMP 8974
  else ife CHAR 13 set WEAP_DISP_TEMP 8974
  else ife CHAR 14 set WEAP_DISP_TEMP 20981
  
  ifn wep_pal 1
   ifn wep_pal 2
    ifn wep_pal 4
	 ifn wep_pal 7
	  ifn wep_pal 8
	   ifn wep_pal 17
		set WEAP_DISP_TEMP7 24
		else
		set WEAP_DISP_TEMP7 wep_pal

switch weaponcount
case 0
  ife player[].weapon_pos 8 soundonce SELECT_WEAPON2
  state wep_drawup
  state gunpushback_display
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 8971 shade WEAP_DISP_TEMP7 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 WEAP_DISP_TEMP shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	state crystal_glow
  ife WEAPONS_RESEARCH[11] 2 rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 9022 crystal_shade 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  rotatesprite x y NORMALSIZE 0 8979 0 WEAP_DISP_TEMP7 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 WEAP_DISP_TEMP shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  rotatesprite x y NORMALSIZE 0 8980 0 WEAP_DISP_TEMP7 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 WEAP_DISP_TEMP shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  rotatesprite x y NORMALSIZE 0 8981 0 WEAP_DISP_TEMP7 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 WEAP_DISP_TEMP shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_pigcopgun

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 248
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 160 320
  
  state gunpushback_display

switch weaponcount
case 0
case 1
case 3
case 20
  ife player[].weapon_pos 8 soundonce SHOTGUN_COCK2
  state wep_drawup
  ife weaponcount 3 set GUN_PUSHBACK_DISPLAY 10
  sub x 78
  add y 12
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 78
  sub y 12
  rotatesprite x y 49152 WEAP_DISP_TEMP2 8476 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 2
  sub x 47
  sub y 52
  displayrandvar M60FLASH 2048
  rotatespritea x y 16000 M60FLASH 16114 0 0 8 -255 windowx1 windowy1 windowx2 windowy2
  add y 64
  sub x 31
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 0 106 8 windowx1 windowy1 windowx2 windowy2
  add x 78
  sub y 12
  rotatesprite x y 49152 WEAP_DISP_TEMP2 8477 0 0 8 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 18
case 19
  sub x 78
  add y 12
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 78
  sub y 12
  rotatesprite x y 49152 0 8476 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
case 8
case 9
case 10
case 14
case 15
case 16
case 17
  sub x 84
  add y 12
  rotatesprite x y 80000 0 C_ARM_2 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 84
  sub y 12
  rotatesprite x y 49152 0 8478 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 10
  ife weaponcount 13 add y 5
  sub x 78
  add y 36
  rotatesprite x y 80000 0 C_ARM_2 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 78
  sub y 36
  rotatesprite x y 49152 0 8479 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

defstate displaytemp_lasergun

  set x 223
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 162 320
  
  ifand GUNFIREMODE 16384 
	{
	set WEAP_DISP_TEMP3 49960
	add x 45
	add y 45
	}
	else set WEAP_DISP_TEMP3 40960

switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
ife player[].weapon_pos 9 sound SELECT_WEAPON2
  state wep_drawup
  ife HANDS_DRAW 2 
		{
		sub x 70
		add y 13
		ife SPACE_SUIT 1 set tilenum 23089 else set tilenum C_ARM_2
		rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		add x 70
		sub y 13
		}
  rotatesprite x y WEAP_DISP_TEMP3 WEAP_DISP_TEMP2 9397 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y WEAP_DISP_TEMP3 WEAP_DISP_TEMP2 9398 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  sub y 32
  sub x 50
  state random_AR_flash
  rotatespritea x y 24000 0 3605 0 11 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 32
  add x 50
  
  ife HANDS_DRAW 2 
	{
	sub x 70
	add y 13
	ife SPACE_SUIT 1 set tilenum 23089 else set tilenum C_ARM_2
	rotatesprite x y WEAP_DISP_TEMP3 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 70
	sub y 13
	}
 
  rotatesprite x y WEAP_DISP_TEMP3 0 9399 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MIKKO'S GREEN MATERIA GUN===============================================================================================================

defstate drawgreenmgun

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 227
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 143 320
  
  ifg KICKBACKPIC 0
  ifl KICKBACKPIC 70
	{
	set WEAP_DISP_TEMP5 KICKBACKPIC
	mulvar WEAP_DISP_TEMP5 2048
	add M60FLASH 128
	  sub y 35
	  sub x 60
	rotatespritea x y WEAP_DISP_TEMP5 M60FLASH 7056 0 8 0 -255 windowx1 windowy1 windowx2 windowy2 
	div WEAP_DISP_TEMP5 2
	rotatespritea x y WEAP_DISP_TEMP5 M60FLASH 3605 0 8 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 35
	  add x 60
	}

switch weaponcount
case 0
	state wep_drawup
	state gunpushback_display
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
   rotatesprite x y 40960 WEAP_DISP_TEMP2 6996 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
   rotatespritea x y 40960 WEAP_DISP_TEMP2 7000 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6996 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 12
case 13
	set WEAP_DISP_TEMP2 weaponcount
	div WEAP_DISP_TEMP2 4
 displayrandvarvar WEAP_DISP_TEMP WEAP_DISP_TEMP2
  add x WEAP_DISP_TEMP
 displayrandvarvar WEAP_DISP_TEMP WEAP_DISP_TEMP2
  add y WEAP_DISP_TEMP  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6996 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
 displayrandvar WEAP_DISP_TEMP 7
  add x WEAP_DISP_TEMP
 displayrandvar WEAP_DISP_TEMP 7
  add y WEAP_DISP_TEMP  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6997 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 2048
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub y 45
  sub x 70
  rotatespritea x 160 WEAP_DISP_TEMP6 0 6240 0 8 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 45
  add x 70
  
  sub x 95
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 104 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 95
  sub y 40
  rotatesprite x y 40960 0 6997 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
  set GUN_PUSHBACK_DISPLAY 10
  state gunpushback_display
  rotatesprite x y 40960 0 6998 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
  state gunpushback_display
  rotatesprite x y 40960 0 6999 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MIKKO'S SNIPER RIFLE========================================================================================================

defstate draw_awms

  set x 238
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 237
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifn SCOPE 0 { add x 60 add y 60 }

switch weaponcount
  case 0
  case 3
  case 4
  case 5
  case 37
  state wep_drawup
  state gunpushback_display
  
  sub x 75
  add y 20
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 75
  sub y 20
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 18012 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife CURWEAP 11 rotatesprite x y 40960 WEAP_DISP_TEMP2 18008 0 21 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 WEAP_DISP_TEMP2 18008 0 0 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  ife CURWEAP 11 rotatespritea x y 40960 WEAP_DISP_TEMP2 18013 WEAP_DISP_TEMP5 21 0 -255 windowx1 windowy1 windowx2 windowy2
	  else rotatespritea x y 40960 WEAP_DISP_TEMP2 18013 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  }
  break
  case 1
  case 2
   set GUN_PUSHBACK_DISPLAY 15
   
   displayrandvar M60FLASH 2048
  sub x 75
  sub y 45
  state random_AR_flash
  rotatespritea x y 20638 0 M60FLASH 0 0 33 -255 windowx1 windowy1 windowx2 windowy2
  add x 75
  add y 45
  
  sub x 75
  add y 20
  rotatesprite x y NORMALSIZE 0 C_ARM_2 shade 107 0 windowx1 windowy1 windowx2 windowy2
  add x 75
  sub y 20
   
   rotatesprite x y 40960 0 18014 0 0 0 windowx1 windowy1 windowx2 windowy2
   break
   case 6
   case 7
   case 36
   state gunpushback_display
   
  sub x 75
  add y 20
  rotatesprite x y NORMALSIZE 20 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 75
  sub y 20
   
   rotatesprite x y 40960 20 18012 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife CURWEAP 11 rotatesprite x y 40960 20 18008 0 21 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 20 18008 0 21 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  ife CURWEAP 11 rotatespritea x y 40960 20 18013 WEAP_DISP_TEMP5 21 0 -255 windowx1 windowy1 windowx2 windowy2
	  else rotatespritea x y 40960 20 18013 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  }
  break
   case 8
   case 9
   case 35
   state gunpushback_display
   
   sub x 75
  add y 20
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 75
  sub y 20
   
   rotatesprite x y 40960 40 18012 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   ife CURWEAP 11 rotatesprite x y 40960 40 18008 0 21 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 40960 40 18008 0 0 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	{
	state reverse_shade
	ife CURWEAP 11 rotatespritea x y 40960 40 18013 WEAP_DISP_TEMP5 21 0 -255 windowx1 windowy1 windowx2 windowy2
	else rotatespritea x y 40960 40 18013 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
	}
  break
  case 10
  case 11
  case 12
  case 33
  case 34
  add x 10
  sub y 20
  rotatesprite x y 40960 0 18015 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
  case 13
  case 14
  case 15
  case 31
  case 32
  add x 20
  sub y 20
  rotatesprite x y 40960 0 18016 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
  case 16
  case 17
  case 18
  case 29
  case 30
  add x 30
  sub y 20
  rotatesprite x y 40960 20 18016 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
  case 19
  case 20
  case 27
  case 28
  add x 40
  sub y 20
  rotatesprite x y 40960 40 18017 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
  case 21
  case 22
  case 25
  case 26
  add x 50
  sub y 18
  rotatesprite x y 40960 60 18018 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
  case 23
  case 24
  add x 60
  sub y 14
  rotatesprite x y 40960 80 18018 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// MIKKO'S RED MATERIA GUN===============================================================================================================

defstate drawredmgun

  set x 260
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 247
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifg KICKBACKPIC 0
  ifl KICKBACKPIC 70
	{
	set WEAP_DISP_TEMP5 KICKBACKPIC
	mulvar WEAP_DISP_TEMP5 1024
	add M60FLASH 64
	  sub y 45
	  sub x 70
	rotatespritea x y WEAP_DISP_TEMP5 M60FLASH 7056 0 0 2 -255 windowx1 windowy1 windowx2 windowy2 
	div WEAP_DISP_TEMP5 2
	rotatespritea x y WEAP_DISP_TEMP5 M60FLASH 3605 0 2 33 -255 windowx1 windowy1 windowx2 windowy2
	  add y 45
	  add x 70
	}

switch weaponcount
case 0
case 82
case 83
case 84
case 85
case 86
case 87
case 88
case 89
case 90
	state wep_drawup
	state gunpushback_display
  sub x 100
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 100
  sub y 40
	
	
   rotatesprite x y 49152 WEAP_DISP_TEMP2 7011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
   rotatespritea x y 49152 WEAP_DISP_TEMP2 7015 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
case 4
  sub x 100
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 100
  sub y 40
  rotatesprite x y 49152 WEAP_DISP_TEMP2 7011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
case 36
case 37
case 38
case 39
case 40
case 41
case 42
case 43
case 44
case 45
case 46
case 47
case 48
case 49
case 50
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
case 59
	set WEAP_DISP_TEMP2 weaponcount
	div WEAP_DISP_TEMP2 10
 displayrandvarvar WEAP_DISP_TEMP WEAP_DISP_TEMP2
  add x WEAP_DISP_TEMP
 displayrandvarvar WEAP_DISP_TEMP WEAP_DISP_TEMP2
  add y WEAP_DISP_TEMP  
  sub x 100
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 100
  sub y 40
  rotatesprite x y 49152 0 7011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set WEAP_DISP_TEMP2 54
  sub WEAP_DISP_TEMP2 weaponcount
  rotatespritea x y 49152 0 7013 WEAP_DISP_TEMP2 107 0 -255 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 0 7014 WEAP_DISP_TEMP2 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 60
case 61
case 62
case 63
case 64
case 65
case 66
case 67
case 68
case 69
 displayrandvar WEAP_DISP_TEMP 7
  add x WEAP_DISP_TEMP
 displayrandvar WEAP_DISP_TEMP 7
  add y WEAP_DISP_TEMP  
  sub x 100
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 100
  sub y 40
  rotatesprite x y 49152 0 7012 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 49152 0 7013 0 107 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 0 7014 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 70
case 71
case 72
case 73
case 74
case 75
case 76
case 77
case 78
case 79
  set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 512
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub y 45
  sub x 70
  rotatespritea x 160 WEAP_DISP_TEMP6 0 6240 2 2 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 45
  add x 70
  sub x 100
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 100
  sub y 40
  rotatesprite x y 49152 0 7012 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 80
case 81
  set GUN_PUSHBACK_DISPLAY 20
  state gunpushback_display
  sub x 100
  add y 40
  rotatesprite x y NORMALSIZE 40 C_ARM_2 0 108 0 windowx1 windowy1 windowx2 windowy2 // Arm
  add x 100
  sub y 40
  rotatesprite x y 49152 0 7012 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_skullduster

  set x 200
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 194
  sub y WEAPSWAYY
  add y looking_arc
  set WEAP_DISP_TEMP gun_pos
  divvar WEAP_DISP_TEMP 2
  sub y WEAP_DISP_TEMP
  state gunpushback_display
  clamp y 149 320
switch weaponcount
case 0
  state wep_drawup
  rotatesprite x y 45152 WEAP_DISP_TEMP2 9075 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
  rotatesprite x y 45152 0 9076 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  rotatesprite x y 45152 0 9077 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 10
  rotatesprite x y 45152 0 9078 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  rotatesprite x y 45152 0 9078 0 106 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_fleshsquirter

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ife WEAP_DISP_TEMP8 0
   {
   displayrandvar WEAP_DISP_TEMP6 3000
  ifl WEAP_DISP_TEMP6 5
		{
		set WEAP_DISP_TEMP8 90
		}
	}
	
ifg WEAP_DISP_TEMP8 0
	{
	sub WEAP_DISP_TEMP8 1
	soundonce FS_GRUMB
	displayrandvar WEAP_DISP_TEMP7 3
	add x WEAP_DISP_TEMP7
	displayrandvar WEAP_DISP_TEMP7 3
	add y WEAP_DISP_TEMP7
	}
  
    state gunpushback_display
  	set WEAP_DISP_TEMP3 player[].player_par
	set WEAP_DISP_TEMP THISACTOR
	ifand WEAP_DISP_TEMP 1 add WEAP_DISP_TEMP 256
	add WEAP_DISP_TEMP3 WEAP_DISP_TEMP
	shiftvarl WEAP_DISP_TEMP3 4
	sin WEAP_DISP_TEMP WEAP_DISP_TEMP3
	shiftvarr WEAP_DISP_TEMP 4
	add WEAP_DISP_TEMP 45056

switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
  state wep_drawup
  rotatesprite x y WEAP_DISP_TEMP WEAP_DISP_TEMP2 9079 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  displayrandvar GUN_PUSHBACK_DISPLAY 10
  add GUN_PUSHBACK_DISPLAY 5
  sub x 60
  sub y 30
  displayrandvar M60FLASH 2048
  rotatespritea x y 47000 M60FLASH 18937 0 0 8 -255 windowx1 windowy1 windowx2 windowy2
  add x 60
  add y 30
  rotatesprite x y WEAP_DISP_TEMP 0 9080 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_stygianwarcannon

  set x 170
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  state gunpushback_display

switch weaponcount
case 0
  state wep_drawup
  rotatesprite x y 49152 WEAP_DISP_TEMP2 9099 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
  rotatesprite x y 49152 0 9099 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
  rotatesprite x y 49152 0 9100 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
  rotatesprite x y 49152 0 9101 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
  rotatesprite x y 49152 0 9101 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
  rotatesprite x y 49152 0 9101 0 108 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
  set GUN_PUSHBACK_DISPLAY 16
  rotatesprite x y 49152 0 9100 0 108 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
  rotatesprite x y 49152 0 9100 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
  rotatesprite x y 49152 0 9100 0 106 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
  rotatesprite x y 49152 0 9099 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_sawnoff

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

      
  set y 250
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 29
case 30
case 31
case 32
  ife player[].weapon_pos 8 soundonce SAWNOFF_COCK  
  state wep_drawup
  rotatesprite x y 45152 WEAP_DISP_TEMP2 7885 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
	  {
	  sub x 25
	  add y 5
	  rotatesprite x y 50000 950 CHOLDING_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 2
  add x 5
  add y 5
  ifand GUNFIREMODE 256 nullop else { ife GUNMAG 2 add x 10 else ife GUNMAG 1 sub x 10 }
  sub x 40
  sub y 50
  		displayrandvar M60FLASH 2048
		rotatespritea x y 18000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 50
  ifand GUNFIREMODE 256 nullop else { ife GUNMAG 2 sub x 10 else ife GUNMAG 1 add x 10 }
  rotatesprite x y 45152 0 7886 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
	  {
	  sub x 25
	  add y 5
	  rotatesprite x y 50000 950 CHOLDING_2 0 106 4 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 3
  add x 10
  add y 10
  ifand GUNFIREMODE 256 nullop else { ife GUNMAG 1 add x 10 else ife GUNMAG 0 sub x 10 }
  sub x 40
  sub y 50
  displayrandvar M60FLASH 2048
  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 50
  ifand GUNFIREMODE 256 nullop else { ife GUNMAG 1 sub x 10 else ife GUNMAG 0 add x 10 }
  rotatesprite x y 45152 0 7886 0 107 0 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
	  {
	  sub x 25
	  add y 5
	  rotatesprite x y 50000 950 CHOLDING_2 0 107 4 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 4
case 5
  ifand GUNFIREMODE 256 nullop else { ife GUNMAG 1 add x 10 else ife GUNMAG 0 sub x 10 }
  sub x 40
  sub y 50
  displayrandvar M60FLASH 2048
rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 50
  ifand GUNFIREMODE 256 nullop else { ife GUNMAG 1 sub x 10 else ife GUNMAG 0 add x 10 }
  rotatesprite x y 45152 0 7886 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
	  {
	  sub x 25
	  add y 5
	  rotatesprite x y 50000 950 CHOLDING_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 6
case 26
case 27
case 28
  rotatesprite x y 45152 0 7885 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife HANDS_DRAW 2
	  {
	  sub x 25
	  add y 5
	  rotatesprite x y 50000 950 CHOLDING_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 7 // start reload
case 8
case 23
case 24
case 25
  rotatesprite x y 45152 0 7887 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 20
case 21
case 22
  rotatesprite x y 45152 0 7888 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
case 15
case 16
  rotatesprite x y 45152 0 7889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifg KICKBACKPIC 14 { add y 5 add x 5 } else { add y 15 add x 15 }
  rotatesprite x y 70000 0 C_HAND_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand AMMO_TYPES[CURWEAP] 1 ifg explosive_shells 0 myospal x y 7903 shade 0 wep_pal
  ifand AMMO_TYPES[CURWEAP] 4 ifg flechete_shells 0 myospal x y 7867 shade 0 wep_pal
  break
case 17
case 18
case 19
  add x 5
  add y 5
  rotatesprite x y 45152 0 7889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 5
  sub y 15
  rotatesprite x y 70000 0 C_HAND_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// SANG'S HEART LEECH===============================================================================================================

defstate drawheartleech

  set y 253
  //add y looking_arc
  sub y WEAPSWAYY
  sub y gun_pos

switch weaponcount
case 0
  set x 95
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set x 255
  sub x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 23837 else
  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13490
  else set tilenum 6145
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  set x 95
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  myospal x y tilenum shade 0 wep_pal
  set x 135
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 23838 else
  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13491
  else set tilenum 6146
  myospal x y tilenum shade 0 wep_pal
break
case 7
  set x 95
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  myospal x y tilenum shade 0 wep_pal
  set x 175
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 23839 else
  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13492
  else set tilenum 6147
  myospal x y tilenum shade 0 21
 break
case 3
case 4
  set x 95
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  myospal x y tilenum shade 0 wep_pal
  set x 175
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 23839 else
  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13493
  else set tilenum 6148
  myospal x y tilenum 0 0 21
 break
case 5
  set x 95
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 6304 else set tilenum 6305
  myospal x y tilenum shade 0 wep_pal
  set x 175
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifand CHAR_APP 2 set tilenum 23840 else
  ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13494
  else set tilenum 6149
  myospal x y tilenum 0 0 21
 break
endswitch
ends


defstate displaytemp_tommygun

  set x 200
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 146 320
 
switch weaponcount
case 0
case 1

  ife player[].weapon_pos 8 soundonce TOMMYG_COCK  
  
  state wep_drawup
  
  set M60FLASH 0
  state gunpushback_display
  set x2 x
  set y2 y
  sub x2 45
  add y2 20
  rotatesprite x2 y2 55000 WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand AMMO_TYPES[CURWEAP] 2 set tilenum 11238 else set tilenum 7909
  rotatesprite x y 49152 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2

  displayrandvar GUN_PUSHBACK_DISPLAY 5
  add GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY

  sub y 45
  sub x 35
  ifand AMMO_TYPES[CURWEAP] 2 set WEAP_DISP_TEMP 17 else set WEAP_DISP_TEMP 0
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 45
  add x 35
  
  set x2 x
  set y2 y
  sub x2 45
  add y2 20
  rotatesprite x2 y2 55000 WEAP_DISP_TEMP2 C_ARM_1 shade 107 0 windowx1 windowy1 windowx2 windowy2
  ifand AMMO_TYPES[CURWEAP] 2 set tilenum 11239 else set tilenum 7910
  rotatesprite x y 49152 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  state gunpushback_display
  sub y 45
  sub x 35
  ifand AMMO_TYPES[CURWEAP] 2 set WEAP_DISP_TEMP 17 else set WEAP_DISP_TEMP 0
	 rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 45
  add x 35
  
  set x2 x
  set y2 y
  sub x2 45
  add y2 20
  rotatesprite x2 y2 55000 WEAP_DISP_TEMP2 C_ARM_1 shade 108 0 windowx1 windowy1 windowx2 windowy2
  ifand AMMO_TYPES[CURWEAP] 2 set tilenum 11239 else set tilenum 7910
  rotatesprite x y 49152 0 tilenum 0 108 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate check_riotgun_ammo
getp[].ammo_amount 0 WEAP_DISP_TEMP
sub WEAP_DISP_TEMP 1
setp[].ammo_amount 0 WEAP_DISP_TEMP
ifl WEAP_DISP_TEMP 1
{
sound ENDSEQVOL2SND1 set temp_weapon 0 quote 515
}
ends

defstate displaytemp_riotgun

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 202
  divvar WEAPSWAYY 2
  sub y WEAPSWAYY
  add y looking_arc
  divvar gun_pos 2
  sub y gun_pos

ifand GUNFIREMODE 16
{
	switch weaponcount
	case 0	
	  ife player[].weapon_pos 8 soundonce RIOTGUN_BOLT  
	  state wep_drawup
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 4062 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 4060 0 0 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		{
		state reverse_shade
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2	  
		}
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	case 43
	case 44
	case 45
	case 46
	  add y 55
	  set WEAP_DISP_TEMP4 KICKBACKPIC
	  sub WEAP_DISP_TEMP4 20
	  mulvar WEAP_DISP_TEMP4 2
	  sub y WEAP_DISP_TEMP4
	  rotatesprite x y NORMALSIZE 0 4062 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y NORMALSIZE 0 4060 0 0 0 windowx1 windowy1 windowx2 windowy2
	ife WEAPON_GLOW YES
		{
		state reverse_shade
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2	  
		}
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 1
	case 2
	case 7
	case 8
	case 13
	case 14
	case 19
	case 20
	  add x 3
	  add y 3
	  sub x 55
	  sub y 26
		displayrandvar M60FLASH 2048
		rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 26
	  rotatesprite x y NORMALSIZE 0 4056 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // FIRING FRAME 1
	  add y 10
	  rotatesprite x y NORMALSIZE 0 4060 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		{
		  state reverse_shade
		  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 3
	case 4
	case 9
	case 10
	case 15
	case 16
	case 21
	case 22
	  add x 7
	  add y 7
	  sub x 55
	  sub y 26
		displayrandvar M60FLASH 2048
		rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 26
	  rotatesprite x y NORMALSIZE 0 4057 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2 // FIRING FRAME 2
	  add y 12
	  rotatesprite x y NORMALSIZE 0 4060 0 0 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		{
		state reverse_shade
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 5
	case 11
	case 17
	case 23
	  add x 10
	  add y 10
	  rotatesprite x y NORMALSIZE 0 4058 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // LOADING FRAME 1
	  rotatesprite x y NORMALSIZE 0 4060 0 0 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		{
		state reverse_shade
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
    case 6
	case 12
	case 18
	case 24
	  add x 5
	  add y 5
	  rotatesprite x y NORMALSIZE 0 4059 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // LOADING FRAME 2
	  rotatesprite x y NORMALSIZE 0 4060 0 0 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		  {
		  state reverse_shade
		  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  set WEAP_DISP_TEMP3 0
	  break
	case 25
	case 26
	case 27
	case 28
	case 29
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  set WEAP_DISP_TEMP4 KICKBACKPIC
	  sub WEAP_DISP_TEMP4 20
	  mulvar WEAP_DISP_TEMP4 2
	  add y WEAP_DISP_TEMP4
	  rotatesprite x y NORMALSIZE 0 4055 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y NORMALSIZE 0 4060 0 0 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		  {
		  state reverse_shade
		  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	endswitch
}
else ifand AMMO_TYPES[CURWEAP] 8
{
	switch weaponcount
	case 0
	case 1
	  ife player[].weapon_pos 8 soundonce RIOTGUN_BOLT  
	  state wep_drawup
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 4055 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 4060 0 1 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		 {
		  state reverse_shade
		  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 1 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 2
	case 3
	case 4
	case 8
	case 9
	case 10
	case 14
	case 15
	case 18
	case 19
	case 20
	case 23
	case 25
    case 30
	case 32
	case 35
	case 36
	case 39
	case 40
	case 41
	case 45
	case 46
	case 47
	  rotatesprite x y NORMALSIZE 0 4062 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y NORMALSIZE 0 4060 0 1 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		  {
		  state reverse_shade
		  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 1 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 5
	case 6
	case 7
	case 11
	case 12
	case 13
	case 16
	case 17
	case 21
	case 22
	case 24
	case 26
	case 29
	case 31
	case 33
	case 34
	case 37
	case 38
	case 42
	case 43
	case 44
	case 48
	case 49
	case 50
	  rotatesprite x y NORMALSIZE 0 4055 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  rotatesprite x y NORMALSIZE 0 4060 0 1 0 windowx1 windowy1 windowx2 windowy2
	  ife WEAPON_GLOW YES
		{
		state reverse_shade
		rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 4063 WEAP_DISP_TEMP5 1 0 -255 windowx1 windowy1 windowx2 windowy2
		}
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 27
	  sub x 55
	  sub y 25
	  rotatespritea x y DOUBLESIZE 0 6197 0 0 1 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 25
	  rotatesprite x y NORMALSIZE 0 4064 0 0 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 3
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 28
	  sub x 55
	  sub y 25
	  rotatespritea x y DOUBLESIZE 0 6197 0 0 33 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 25
	  rotatesprite x y NORMALSIZE 0 4065 0 0 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 5
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	endswitch
	}
else
{
	switch weaponcount
	case 0
	case 5
	case 6
	case 7
	case 14
	case 15	
		ifg GUN_PUSHBACK_DISPLAY 0
		{
		add x GUN_PUSHBACK_DISPLAY
		add y GUN_PUSHBACK_DISPLAY
		sub GUN_PUSHBACK_DISPLAY 2
		}
	  ife player[].weapon_pos 8 soundonce RIOTGUN_BOLT  
	  state wep_drawup
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 4055 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 1
	case 2
	  add x 3
	  add y 3
	  sub x 55
	  sub y 26
		displayrandvar M60FLASH 2048
		rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 26
	  rotatesprite x y NORMALSIZE 0 4056 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 3
	case 4
	  add x 7
	  add y 7
	  set GUN_PUSHBACK_DISPLAY 10
	  sub x 55
	  sub y 26
		displayrandvar M60FLASH 2048
		rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 26
	  rotatesprite x y NORMALSIZE 0 4057 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 8
	case 9
	case 10
	  rotatesprite x y NORMALSIZE 0 4058 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 11
	case 12
	case 13
	  rotatesprite x y NORMALSIZE 0 4059 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	endswitch
	}
ends

defstate riotgun_minigun_CHAIN1
getp[].ammo_amount 0 WEAP_DISP_TEMP6
ife WEAP_DISP_TEMP6 9 set tilenum 6895 else
ife WEAP_DISP_TEMP6 8 set tilenum 6896 else
ife WEAP_DISP_TEMP6 7 set tilenum 6897 else
ife WEAP_DISP_TEMP6 6 set tilenum 6898 else
ife WEAP_DISP_TEMP6 5 set tilenum 6899 else
ife WEAP_DISP_TEMP6 4 set tilenum 6900 else
ife WEAP_DISP_TEMP6 3 set tilenum 6901 else
ife WEAP_DISP_TEMP6 2 set tilenum 6902 else
ife WEAP_DISP_TEMP6 1 set tilenum 6903 else
ife WEAP_DISP_TEMP6 0 set tilenum 6903 else
set tilenum 5180
ends

defstate riotgun_minigun_CHAIN2
getp[].ammo_amount 0 WEAP_DISP_TEMP6
ife WEAP_DISP_TEMP6 9 set tilenum 6904 else
ife WEAP_DISP_TEMP6 8 set tilenum 6905 else
ife WEAP_DISP_TEMP6 7 set tilenum 6906 else
ife WEAP_DISP_TEMP6 6 set tilenum 6907 else
ife WEAP_DISP_TEMP6 5 set tilenum 6908 else
ife WEAP_DISP_TEMP6 4 set tilenum 6909 else
ife WEAP_DISP_TEMP6 3 set tilenum 6910 else
ife WEAP_DISP_TEMP6 2 set tilenum 6911 else
ife WEAP_DISP_TEMP6 1 set tilenum 6903 else
ife WEAP_DISP_TEMP6 0 set tilenum 6903 else
set tilenum 5181
ends

defstate displaytemp_riotgun_minigun

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 202
  divvar WEAPSWAYY 2
  sub y WEAPSWAYY
  add y looking_arc
  divvar gun_pos 2
  sub y gun_pos

	switch weaponcount
	case 0
	case 1
	  ife player[].weapon_pos 8 soundonce RIOTGUN_BOLT  
	  state wep_drawup
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12224 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  sub x 35
	  add y 7
	  state riotgun_minigun_CHAIN1
	  sub x 78
	  add y 47
	  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 2
	case 3
	case 4
	case 8
	case 9
	case 10
	case 14
	case 15
	case 18
	case 19
	case 20
	case 23
	case 25
	case 28
    case 30
	case 32
	case 35
	case 36
	case 37
	case 40
	case 41
	case 42
	case 47
	case 48
	case 49
	case 50
	  rotatesprite x y NORMALSIZE 0 12225 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE 0 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  sub x 35
	  add y 7
	  state riotgun_minigun_CHAIN1
	  sub x 78
	  add y 47
	  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 5
	case 6
	case 7
	case 11
	case 12
	case 13
	case 16
	case 17
	case 21
	case 22
	case 24
	case 29
	case 31
	case 33
	case 34
	case 38
	case 39
	case 43
	case 44
	case 45
	case 46

	  rotatesprite x y NORMALSIZE 0 12224 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE 0 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  sub x 35
	  add y 7
	  state riotgun_minigun_CHAIN1
	  sub x 78
	  add y 47
	  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 26
	  sub x 60
	  sub y 30
	  ifand AMMO_TYPES[CURWEAP] 8
	  rotatespritea x y INVENSIZE 0 6197 0 0 1 -255 windowx1 windowy1 windowx2 windowy2
	  else
	  {
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 18000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  }
	  add x 60
	  add y 30
	  ifand AMMO_TYPES[CURWEAP] 8 rotatesprite x y NORMALSIZE 0 12222 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y NORMALSIZE 0 12226 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE 0 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  sub x 35
	  add y 7
	  state riotgun_minigun_CHAIN1
	  sub x 78
	  add y 47
	  rotatesprite x y NORMALSIZE 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 27
	  sub x 60
	  sub y 30
	  ifand AMMO_TYPES[CURWEAP] 8
	   rotatespritea x y INVENSIZE 0 6197 0 0 1 -255 windowx1 windowy1 windowx2 windowy2
	  else
	  {
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 17000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  }
	  add x 60
	  add y 30
	  ifand AMMO_TYPES[CURWEAP] 8 rotatesprite x y NORMALSIZE 0 12222 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y NORMALSIZE 0 12226 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE 0 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  sub x 35
	  add y 7
	  state riotgun_minigun_CHAIN2
	  sub x 78
	  add y 47
	  rotatesprite x y NORMALSIZE 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
ends

defstate displaytemp_riotgun_minigun_mark2

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 202
  divvar WEAPSWAYY 2
  sub y WEAPSWAYY
  add y looking_arc
  divvar gun_pos 2
  sub y gun_pos
  
	switch weaponcount
	case 0
	case 1
	  ife player[].weapon_pos 8 soundonce RIOTGUN_BOLT  
	  state wep_drawup
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand GUNFIREMODE_2 16 rotatesprite x y NORMALSIZE 0 16092 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // idle mode button
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 2
	case 3
	case 4
	case 8
	case 9
	case 10
	case 14
	case 15
	case 18
	case 19
	case 20
	case 23
	case 25
	case 28
    case 30
	case 32
	case 35
	case 36
	case 37
	case 40
	case 41
	case 42
	case 47
	case 48
	case 49
	case 50
	  rotatesprite x y NORMALSIZE 0 16089 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand GUNFIREMODE_2 16 rotatesprite x y NORMALSIZE 0 16092 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // idle mode button
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE 0 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 5
	case 6
	case 7
	case 11
	case 12
	case 13
	case 16
	case 17
	case 21
	case 22
	case 24
	case 29
	case 31
	case 33
	case 34
	case 38
	case 39
	case 43
	case 44
	case 45
	case 46
	  rotatesprite x y NORMALSIZE 0 16088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand GUNFIREMODE_2 16 rotatesprite x y NORMALSIZE 0 16092 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // idle mode button
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE 0 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 26
	  sub x 60
	  sub y 30
	  ifand AMMO_TYPES[CURWEAP] 8
	  rotatesprite x y DOUBLESIZE 0 9603 0 0 1 windowx1 windowy1 windowx2 windowy2
	  else
		  {
		  displayrandvar M60FLASH 2048
		  rotatespritea x y 18000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  add x 60
	  add y 30
	  ifand AMMO_TYPES[CURWEAP] 8 rotatesprite x y NORMALSIZE 0 12222 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y NORMALSIZE 0 16090 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand GUNFIREMODE_2 16 rotatesprite x y NORMALSIZE 0 16092 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // idle mode button
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE 0 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	case 27
	  sub x 60
	  sub y 30
	  ifand AMMO_TYPES[CURWEAP] 8
	  rotatesprite x y DOUBLESIZE 0 9603 0 0 1 windowx1 windowy1 windowx2 windowy2
	  else
		  {
		  displayrandvar M60FLASH 2048
		  rotatespritea x y 17000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  }
	  add x 60
	  add y 30
	  ifand AMMO_TYPES[CURWEAP] 8 rotatesprite x y NORMALSIZE 0 12222 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  else rotatesprite x y NORMALSIZE 0 16090 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  ifand GUNFIREMODE_2 16 rotatesprite x y NORMALSIZE 0 16092 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // idle mode button
	  add x 35
	  sub y 7
	  rotatesprite x y NORMALSIZE 0 12229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Belt for widescreen
	  break
	endswitch
	
	
ends

defstate displaytemp_riotgun_grenadel

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 212
  divvar WEAPSWAYY 2
  sub y WEAPSWAYY
  add y looking_arc
  divvar gun_pos 2
  sub y gun_pos


	switch weaponcount
	case 0
	  ife player[].weapon_pos 8 soundonce RIOTGUN_BOLT  
	  state wep_drawup
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 11197 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 1
	case 2
	  sub x 60
	  sub y 20
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 17000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  add y 20
	
	  add x 5
	  add y 5
	  rotatesprite x y NORMALSIZE 0 11198 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 3
	case 4
	
	  sub x 60
	  sub y 20
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  add y 20
	
	  add x 10
	  add y 10
	  rotatesprite x y NORMALSIZE 0 11199 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 5
	case 6
	  rotatesprite x y NORMALSIZE 0 11200 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 7
	case 8
	  rotatesprite x y NORMALSIZE 0 11201 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 9
	case 10
	  rotatesprite x y NORMALSIZE 0 11202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch

ends

// Highwire's grenade launcher===============================================================================================================

defstate drawhighgl

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 144 320

switch weaponcount
case 0
case 1
case 16
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 45152 WEAP_DISP_TEMP2 5969 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  sub y 12
  sub x 47
 displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 12
  add x 47
  rotatesprite x y 45152 0 5970 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  add x 15
  add y 15
  rotatesprite x y 45152 4 5971 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 13
case 14
case 15
  set GUN_PUSHBACK_DISPLAY 5
    rotatesprite x y 45152 8 5971 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
    rotatesprite x y 45152 16 5971 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
    rotatesprite x y 45152 8 5970 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 52
case 53
case 54
  rotatesprite x y 45152 0 6087 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
case 49
case 50
case 51
  rotatesprite x y 45152 -32 6087 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 46
case 47
case 48
add x 7
  rotatesprite x y 45152 0 6088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 43
case 44
case 45
add x 10
  rotatesprite x y 45152 0 6089 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 29
case 30
add x 10
  rotatesprite x y 45152 0 6090 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 35
case 36
add x 10
  rotatesprite x y 45152 -16 6090 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  rotatesprite x y 45152 -32 6090 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 41
case 42
add x 10
  rotatesprite x y 45152 0 6090 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_crossbow

  set x 200
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 244
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 160 320
  
  ifand GUNFIREMODE 16384 { add x 20 add y 20 set WEAP_DISP_TEMP9 50960 }
else set WEAP_DISP_TEMP9 45152

 ifand AMMO_TYPES[CURWEAP] 16 set WEAP_DISP_TEMP3 27 // set the bolt colour to grey if using silver bolts
 else set WEAP_DISP_TEMP3 wep_pal

       ife CHAR 0 set tilenum 17424
  else ife CHAR 1 set tilenum 17430
  else ife CHAR 2 set tilenum 17432
  else ife CHAR 4 ifand CHAR_APP 2 set tilenum 23869
  else ife CHAR 6 set tilenum 17427
  else ife CHAR 7 set tilenum 17426
  else ife CHAR 10 set tilenum 17425
  else ife CHAR 11 set tilenum 17432
  else ife CHAR 12 set tilenum 17426
  else ife CHAR 13 set tilenum 17428
  else ife CHAR 14 set tilenum 20881
  else set tilenum 17429

   state gunpushback_display
 
switch weaponcount
case 0
case 1
case 2
  ife player[].weapon_pos 9 sound SELECT_WEAPON
  state wep_drawup
  ife HANDS_DRAW 2
	  {
		sub x 60
		add y 36
		rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		add x 60
		sub y 36
	  }
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 9381 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 9303 shade WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
case 5
  set GUN_PUSHBACK_DISPLAY 10
  ife HANDS_DRAW 2
	  {
		sub x 60
		add y 36
		rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		add x 60
		sub y 36
	  }
  rotatesprite x y WEAP_DISP_TEMP9 0 9382 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
case 8
case 9
  rotatesprite x y WEAP_DISP_TEMP9 0 9383 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  rotatesprite x y WEAP_DISP_TEMP9 0 9384 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 120
	sub y 32
	rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
  rotatesprite x y WEAP_DISP_TEMP9 0 9385 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 125
	add y 2
	rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 15
case 16
  rotatesprite x y WEAP_DISP_TEMP9 32 9385 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 125
	add y 12
	rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
  rotatesprite x y WEAP_DISP_TEMP9 16 9386 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 80
  add x 24
  rotatesprite x y WEAP_DISP_TEMP9 16 9304 shade WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
  rotatesprite x y WEAP_DISP_TEMP9 0 9386 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 50
  add x 17
  rotatesprite x y WEAP_DISP_TEMP9 0 9304 shade WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
  rotatesprite x y WEAP_DISP_TEMP9 0 9386 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 6
  rotatesprite x y WEAP_DISP_TEMP9 0 9304 shade WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
  rotatesprite x y WEAP_DISP_TEMP9 0 9386 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y WEAP_DISP_TEMP9 0 9304 shade WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
  rotatesprite x y WEAP_DISP_TEMP9 0 9387 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y WEAP_DISP_TEMP9 0 9305 shade WEAP_DISP_TEMP3 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_miagun

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 255
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
  ife player[].weapon_pos 8 soundonce SELECT_WEAPON2
  state wep_drawup
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
  rotatesprite x y 49152 WEAP_DISP_TEMP2 9372 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 WEAP_DISP_TEMP2 9374 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  state crystal_glow
  rotatespritea x y 49152 WEAP_DISP_TEMP2 9370 crystal_shade 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
case 4
case 5
case 6
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y 49152 0 9373 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10

set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub x 55
  sub y 45
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 19 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 45

 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y 49152 0 9373 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18
set WEAP_DISP_TEMP5 KICKBACKPIC
  mulvar WEAP_DISP_TEMP5 4096
  set WEAP_DISP_TEMP6 131072
  sub WEAP_DISP_TEMP6 WEAP_DISP_TEMP5
  sub x 55
  sub y 45
  rotatespritea x y WEAP_DISP_TEMP6 0 6240 0 19 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 45

  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 10 
  rotatesprite x y 49152 0 9372 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 0 9374 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 49152 0 9370 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends




defstate missilel_ammo

ifn wep_pal 1
ifn wep_pal 2
ifn wep_pal 4
ifn wep_pal 7
ifn wep_pal 8
ifn wep_pal 18
set WEAP_DISP_TEMP4 21
else
set WEAP_DISP_TEMP4 wep_pal

  ifg player[].ammo_amount 0 1
  {
  set x2 x
  set y2 y
  sub y2 35
  add x2 104
  set WEAP_DISP_TEMP2 weaponcount
  mulvar WEAP_DISP_TEMP2 2
  sub x2 WEAP_DISP_TEMP2
  set WEAP_DISP_TEMP5 shade
  add WEAP_DISP_TEMP5 18 
  sub WEAP_DISP_TEMP5 weaponcount
  rotatesprite x2 y2 81920 0 9409 WEAP_DISP_TEMP5 WEAP_DISP_TEMP4 512 windowx1 windowy1 windowx2 windowy2
  }
  ife WEAP_DISP_TEMP3 0
  {
  set x2 x
  set y2 y
  sub y2 35
  add x2 74
  set WEAP_DISP_TEMP2 weaponcount
  mulvar WEAP_DISP_TEMP2 2
  add y2 WEAP_DISP_TEMP2
  rotatesprite x2 y2 81920 0 9409 shade WEAP_DISP_TEMP4 512 windowx1 windowy1 windowx2 windowy2
  }
ends

defstate displaytemp_missilel
  set x 232
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  ifl x 232 set x 232
      
  set y 215
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ife CHAR 0 
	{
	ifand CHAR_APP 1 set WEAP_DISP_TEMP 19890
	else set WEAP_DISP_TEMP 8973
	}
  else ife CHAR 1 set WEAP_DISP_TEMP 8978
  else ife CHAR 2 set WEAP_DISP_TEMP 8977
  else ife CHAR 3 set WEAP_DISP_TEMP 8972
  else ife CHAR 4 
	{
	ifand CHAR_APP 2 set WEAP_DISP_TEMP 8982
	else set WEAP_DISP_TEMP 8976
	}
  else ife CHAR 5 set WEAP_DISP_TEMP 8972
  else ife CHAR 6 set WEAP_DISP_TEMP 8975
  else ife CHAR 7 set WEAP_DISP_TEMP 8974
  else ife CHAR 9 set WEAP_DISP_TEMP 8972
  else ife CHAR 10 set WEAP_DISP_TEMP 14582
  else ife CHAR 11 set WEAP_DISP_TEMP 8977
  else ife CHAR 12 set WEAP_DISP_TEMP 8974
  else ife CHAR 13 set WEAP_DISP_TEMP 8974
  else ife CHAR 14 set WEAP_DISP_TEMP 20981
  
  
state gunpushback_display

switch weaponcount
case 0
case 7
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18
  ife player[].weapon_pos 8 soundonce SELECT_WEAPON2
  rotatesprite x y NORMALSIZE 0 9408 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  ifg player[].ammo_amount 0 1 set WEAP_DISP_TEMP3 0
  ife weaponcount 15 { ife player[].ammo_amount 0 1 set WEAP_DISP_TEMP3 1 else set WEAP_DISP_TEMP3 0 }
  state missilel_ammo
  rotatesprite x y NORMALSIZE 0 9407 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  add x 22
  add y 33
  rotatesprite x y NORMALSIZE 1024 WEAP_DISP_TEMP shade wep_pal 516 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  add x 5
  add y 5
  rotatesprite x y NORMALSIZE 0 9408 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  state missilel_ammo
  rotatesprite x y NORMALSIZE 0 9407 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  add x 22
  add y 33
  rotatesprite x y NORMALSIZE 1024 WEAP_DISP_TEMP shade wep_pal 516 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  set GUN_PUSHBACK_DISPLAY 20
  add x 4
  add y 4
  displayrandvar M60FLASH 2048
  sub x 25
  sub y 20
  rotatespritea x y 85536 M60FLASH 9410 5 wep_pal 512 -255 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 75536 M60FLASH 9410 0 wep_pal 513 -255 windowx1 windowy1 windowx2 windowy2
  add x 25
  add y 20
  rotatesprite x y NORMALSIZE 0 9408 0 wep_pal 512 windowx1 windowy1 windowx2 windowy2
  state missilel_ammo
  rotatesprite x y NORMALSIZE 0 9411 0 wep_pal 512 windowx1 windowy1 windowx2 windowy2
  add x 22
  add y 33
  rotatesprite x y NORMALSIZE 1024 WEAP_DISP_TEMP shade wep_pal 516 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
  displayrandvar M60FLASH 2048
  sub x 25
  sub y 20
  rotatespritea x y 95536 M60FLASH 9410 15 wep_pal 512 -255 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 85536 M60FLASH 9410 10 wep_pal 513 -255 windowx1 windowy1 windowx2 windowy2
  add x 25
  add y 20
  rotatesprite x y NORMALSIZE 0 9408 0 wep_pal 512 windowx1 windowy1 windowx2 windowy2
  state missilel_ammo
  rotatesprite x y NORMALSIZE 0 9411 0 wep_pal 512 windowx1 windowy1 windowx2 windowy2
  add x 22
  add y 33
  rotatesprite x y NORMALSIZE 1024 WEAP_DISP_TEMP shade wep_pal 516 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends


defstate displaytemp_chainsaw

 ifn WEP0_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP0_BLOODY
		ife BLOOD_PAL 2 set BLOOD_PAL 21
		ife BLOOD_PAL 8 set BLOOD_PAL 11
		ife BLOOD_PAL 1 set BLOOD_PAL 3
	}

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 236
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
    ife CHAR 0 set tilenum 17424
  else ife CHAR 1 set tilenum 17430
  else ife CHAR 2 set tilenum 17432
  else ife CHAR 4 ifand CHAR_APP 2 set tilenum 23869
  else ife CHAR 6 set tilenum 17427
  else ife CHAR 7 set tilenum 17426
  else ife CHAR 10 set tilenum 17425
  else ife CHAR 11 set tilenum 17432
  else ife CHAR 12 set tilenum 17426
  else ife CHAR 13 set tilenum 17428
  else ife CHAR 14 set tilenum 20881
  else set tilenum 17429

switch weaponcount
case 0
  ife player[].weapon_pos 9 sound CHAINSAW_UP 
  ife player[].weapon_pos -9 stopsound CHAINSAW_IDLE
  state wep_drawup
  state gunpushback_display
  ifn BLOOD_PAL 0 rotatesprite x y 49152 WEAP_DISP_TEMP2 10450 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 49152 WEAP_DISP_TEMP2 10325 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 120
	sub y 34
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
case 4
case 5
case 6
  displayrandvar GUN_PUSHBACK_DISPLAY 15
  add x GUN_PUSHBACK_DISPLAY
  displayrandvar GUN_PUSHBACK_DISPLAY 15
  add y GUN_PUSHBACK_DISPLAY
  ifn BLOOD_PAL 0 rotatesprite x y 49152 0 10452 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y 49152 0 10327 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 110
	sub y 46
  rotatesprite x y 38960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_flamethrower

  set x 205
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 157 240
  
/*  
ife CHAR 0 set tilenum 11231
else ife CHAR 1 set tilenum 11235
else ife CHAR 2 set tilenum 11236
else ife CHAR 4 
	{
	ife SPECIALIST_EQUIPMENT[40] 2 set tilenum 13514 else
	set tilenum 11234
	}
else ife CHAR 5 set tilenum 11229
else ife CHAR 6 set tilenum 11233
else ife CHAR 7 set tilenum 11232
else ife CHAR 9 set tilenum 11229
else ife CHAR 10 set tilenum 11230
else ife CHAR 11 set tilenum 11236
*/

switch weaponcount
case 0
  ife player[].weapon_pos 9 soundonce SELECT_WEAPON
  state wep_drawup
  
      sub x 38
	sub y 60
	rotatespritea x y QUARTERSIZE 0 16547 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	add x 38
	add y 60
	
      sub x 60
	add y 20
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 20
  
  rotatesprite x y 49152 WEAP_DISP_TEMP2 11229 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
 displayrandvar WEAP_DISP_TEMP2 8
  add x WEAP_DISP_TEMP2
 displayrandvar WEAP_DISP_TEMP2 8
  add y WEAP_DISP_TEMP2
 displayrandvar M60FLASH 2048
  sub y 38
  sub x 45
  rotatespritea x y HALFSIZE M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 
  add y 38
  add x 45
  
      sub x 60
	add y 20
	rotatesprite x y NORMALSIZE 0 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2
	add x 60
	sub y 20
  
  rotatesprite x y 49152 0 11230 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate sword_hands
ife CHAR 0 
	{
	ifand CHAR_APP 1 set tilenum 19888 else
	set tilenum 12034
	}
else ife CHAR 1 set tilenum 12038
else ife CHAR 2 set tilenum 12044
else ife CHAR 3 set tilenum 12133
else ife CHAR 4 
	{
	ifand CHAR_APP 2 set tilenum 23878
	else set tilenum 12042
	}
else ife CHAR 5 set tilenum 12032
else ife CHAR 6 set tilenum 12046
else ife CHAR 7 set tilenum 12036
else ife CHAR 9 set tilenum 12032
else ife CHAR 10 set tilenum 12040
else ife CHAR 11 set tilenum 12044
else ife CHAR 12 set tilenum 12048
else ife CHAR 13 set tilenum 16561
else ife CHAR 14 set tilenum 20967
else set tilenum 12032
ends

defstate displaytemp_sword // Katana

 ifn WEP0_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP0_BLOODY
	}

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
   
state sword_hands
   
ife SWORD_ANIM 0
{
switch weaponcount
case 0
  ife player[].weapon_pos 8 soundonce DRAW_SWORD2 
  
  ifand BITS_PRESS 64
  {
  sub x 30
  clamp x 238 360
  clamp y 160 360
  rotatesprite x y NORMALSIZE 90 12154 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 90 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 90 12050 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  {
  clamp x 238 360
  rotatesprite x y NORMALSIZE 0 12154 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 0 12050 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 1
case 2
  add x 10
  sub y 10
  rotatesprite x y NORMALSIZE 0 12154 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 0 12050 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  add x 15
  sub y 15
  rotatesprite x y NORMALSIZE 0 12154 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 64 12050 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
 add tilenum 1
  rotatesprite 240 120 NORMALSIZE 0 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 240 120 NORMALSIZE 0 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 NORMALSIZE 0 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
 rotatesprite 240 120 NORMALSIZE 0 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 NORMALSIZE 0 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 NORMALSIZE 0 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 210 130 NORMALSIZE 0 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 NORMALSIZE 0 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 150 NORMALSIZE 0 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
 rotatesprite 180 140 NORMALSIZE 0 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 150 NORMALSIZE 0 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 160 NORMALSIZE 0 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 150 NORMALSIZE 0 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 160 NORMALSIZE 0 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 NORMALSIZE 0 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
 rotatesprite 120 160 NORMALSIZE 0 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 NORMALSIZE 0 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 60 190 NORMALSIZE 0 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 190 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 190 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
 rotatesprite 90 170 NORMALSIZE 0 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic  
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 60 190 NORMALSIZE 0 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 190 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 190 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 30 210 NORMALSIZE 0 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 210 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 210 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 1
{
switch weaponcount
case 5
 add tilenum 1
 rotatesprite 30 120 NORMALSIZE 1024 12155 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 30 120 NORMALSIZE 1024 12155 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 NORMALSIZE 1024 12155 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 30 120 NORMALSIZE 1024 12155 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 NORMALSIZE 1024 12155 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 NORMALSIZE 1024 12155 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 60 130 NORMALSIZE 1024 12155 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 NORMALSIZE 1024 12155 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 NORMALSIZE 1024 12155 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 90 140 NORMALSIZE 1024 12155 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 NORMALSIZE 1024 12155 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 NORMALSIZE 1024 12155 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
  rotatesprite 120 150 NORMALSIZE 1024 12155 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 NORMALSIZE 1024 12155 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 NORMALSIZE 1024 12155 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 150 160 NORMALSIZE 1024 12155 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 NORMALSIZE 1024 12155 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 190 NORMALSIZE 1024 12155 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2  // Sword Graphic
  rotatesprite 210 190 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 190 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 180 170 NORMALSIZE 1024 12155 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 210 190 NORMALSIZE 1024 12155 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 190 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 190 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 240 210 NORMALSIZE 1024 12155 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 210 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 210 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 2
{
switch weaponcount
case 5
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 NORMALSIZE -64 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 NORMALSIZE -64 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 NORMALSIZE -64 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 170 150 NORMALSIZE -64 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 NORMALSIZE -64 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 NORMALSIZE -64 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 160 180 NORMALSIZE -64 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 NORMALSIZE -64 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 NORMALSIZE -64 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 210 NORMALSIZE -64 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 NORMALSIZE -64 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 NORMALSIZE -64 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 130 270 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 140 240 NORMALSIZE -64 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 NORMALSIZE -64 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 130 270 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 120 300 NORMALSIZE -64 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 300 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 300 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 130 270 NORMALSIZE -64 12155 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 130 170 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 120 300 NORMALSIZE -64 12155 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 300 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 300 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 110 330 NORMALSIZE -64 12155 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 110 330 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 110 330 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}


ends

defstate displaytemp_sword2 // Shadow Warrior's Katana

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
 ifn WEP0_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP0_BLOODY
	}

  
state sword_hands
 
ife SWORD_ANIM 0
{
switch weaponcount
case 0
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce DRAW_SWORD2 
  ifand BITS_PRESS 64
  {
  sub x 30
  clamp x 240 360
  clamp y 160 360
  rotatesprite x y NORMALSIZE 90 12201 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 90 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 90 12050 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  {
  clamp x 240 360
  rotatesprite x y NORMALSIZE 0 12201 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 0 12050 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 1
case 2
  add x 10
  sub y 10
  rotatesprite x y NORMALSIZE 0 12201 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 0 12050 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  add x 15
  sub y 15
  rotatesprite x y NORMALSIZE 0 12201 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 0 12050 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
 add tilenum 1
  rotatesprite 240 120 NORMALSIZE 0 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 240 120 NORMALSIZE 0 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 NORMALSIZE 0 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
 rotatesprite 240 120 NORMALSIZE 0 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 NORMALSIZE 0 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 NORMALSIZE 0 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 210 130 NORMALSIZE 0 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 NORMALSIZE 0 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 150 NORMALSIZE 0 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
 rotatesprite 180 140 NORMALSIZE 0 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 150 NORMALSIZE 0 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 160 NORMALSIZE 0 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 150 NORMALSIZE 0 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 160 NORMALSIZE 0 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 NORMALSIZE 0 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
 rotatesprite 120 160 NORMALSIZE 0 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 NORMALSIZE 0 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 60 190 NORMALSIZE 0 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 190 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 190 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
 rotatesprite 90 170 NORMALSIZE 0 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic  
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 60 190 NORMALSIZE 0 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 190 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 190 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 30 210 NORMALSIZE 0 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 210 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 210 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 1
{
switch weaponcount
case 5
 add tilenum 1
 rotatesprite 30 120 NORMALSIZE 1024 12202 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 30 120 NORMALSIZE 1024 12202 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 NORMALSIZE 1024 12202 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 30 120 NORMALSIZE 1024 12202 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 NORMALSIZE 1024 12202 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 NORMALSIZE 1024 12202 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 60 130 NORMALSIZE 1024 12202 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 NORMALSIZE 1024 12202 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 NORMALSIZE 1024 12202 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 90 140 NORMALSIZE 1024 12202 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 NORMALSIZE 1024 12202 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 NORMALSIZE 1024 12202 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
  rotatesprite 120 150 NORMALSIZE 1024 12202 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 NORMALSIZE 1024 12202 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 NORMALSIZE 1024 12202 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 150 160 NORMALSIZE 1024 12202 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 NORMALSIZE 1024 12202 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 190 NORMALSIZE 1024 12202 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2  // Sword Graphic
  rotatesprite 210 190 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 190 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 180 170 NORMALSIZE 1024 12202 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 210 190 NORMALSIZE 1024 12202 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 190 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 190 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 240 210 NORMALSIZE 1024 12202 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 210 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 210 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 2
{
switch weaponcount
case 5
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 NORMALSIZE -64 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 NORMALSIZE -64 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 NORMALSIZE -64 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 170 150 NORMALSIZE -64 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 NORMALSIZE -64 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 NORMALSIZE -64 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 160 180 NORMALSIZE -64 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 NORMALSIZE -64 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 NORMALSIZE -64 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 210 NORMALSIZE -64 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 NORMALSIZE -64 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 NORMALSIZE -64 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 130 270 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 140 240 NORMALSIZE -64 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 NORMALSIZE -64 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 130 270 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 120 300 NORMALSIZE -64 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 300 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 300 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 130 270 NORMALSIZE -64 12202 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 130 170 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 120 300 NORMALSIZE -64 12202 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 300 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 300 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 110 330 NORMALSIZE -64 12202 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 110 330 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 110 330 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
ends

defstate displaytemp_beamsabre // Beam sabre

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
state sword_hands
 
ife SWORD_ANIM 0
{
switch weaponcount
case 0
  ife player[].weapon_pos 2 soundonce BEAMSABRE_ON
  ifand BITS_PRESS 64
  {
  sub x 30
  clamp x 238 360
  clamp y 160 360
  rotatesprite x y NORMALSIZE 90 20102 shade wep_pal 1024 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  ifl player[].weapon_pos 2
	  {
	  rotatesprite x y NORMALSIZE 90 20103 0 0 1024 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
	  rotatespritea x y NORMALSIZE 90 20104 0 0 1024 -255 windowx1 windowy1 windowx2 windowy2 // glow
	  }
  rotatesprite x y NORMALSIZE 90 tilenum shade wep_pal 1024 windowx1 windowy1 windowx2 windowy2
  }
  else
  {
  clamp x 238 360
  rotatesprite x y NORMALSIZE 0 20102 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
   ifl player[].weapon_pos 2
	  {
	  rotatesprite x y NORMALSIZE 0 20103 0 0 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
	  rotatespritea x y NORMALSIZE 0 20104 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // glow
	  }
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 1
case 2
  add x 10
  sub y 10
  rotatesprite x y NORMALSIZE 0 20102 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 0 20103 0 0 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatespritea x y NORMALSIZE 0 20104 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // glow
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  add x 15
  sub y 15
  rotatesprite x y NORMALSIZE 0 20102 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 0 20103 0 0 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatespritea x y NORMALSIZE 0 20104 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // glow
  rotatesprite x y NORMALSIZE 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
 add tilenum 1
  rotatesprite 240 120 NORMALSIZE 0 20105 0 0 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatespritea 240 120 NORMALSIZE 0 20106 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 240 120 NORMALSIZE 0 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 NORMALSIZE 0 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
 rotatesprite 240 120 NORMALSIZE 0 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 NORMALSIZE 0 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 NORMALSIZE 0 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 210 130 NORMALSIZE 0 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2

  rotatesprite 180 140 NORMALSIZE 0 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2

  rotatesprite 150 150 NORMALSIZE 0 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

  break
case 9
 add tilenum 1
 rotatesprite 180 140 NORMALSIZE 0 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2

  rotatesprite 150 150 NORMALSIZE 0 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2

  rotatesprite 120 160 NORMALSIZE 0 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

  break
case 10
 add tilenum 1
 rotatesprite 150 150 NORMALSIZE 0 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2

  rotatesprite 120 160 NORMALSIZE 0 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2

  rotatesprite 90 170 NORMALSIZE 0 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

  break
case 11
 add tilenum 1
 rotatesprite 120 160 NORMALSIZE 0 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 NORMALSIZE 0 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2  
  // ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 60 190 NORMALSIZE 0 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 190 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 60 190 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
 rotatesprite 90 170 NORMALSIZE 0 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic  
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2  
  // ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 60 190 NORMALSIZE 0 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 190 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 60 190 NORMALSIZE 0 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 30 210 NORMALSIZE 0 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 210 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 30 210 NORMALSIZE 0 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 1
{
switch weaponcount
case 5
 add tilenum 1
 rotatesprite 30 120 NORMALSIZE 1024 20105 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 30 120 NORMALSIZE 1024 20105 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 NORMALSIZE 1024 20105 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 30 120 NORMALSIZE 1024 20105 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 NORMALSIZE 1024 20105 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 NORMALSIZE 1024 20105 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 60 130 NORMALSIZE 1024 20105 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 NORMALSIZE 1024 20105 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 NORMALSIZE 1024 20105 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 90 140 NORMALSIZE 1024 20105 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 NORMALSIZE 1024 20105 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 NORMALSIZE 1024 20105 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
  rotatesprite 120 150 NORMALSIZE 1024 20105 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 NORMALSIZE 1024 20105 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 NORMALSIZE 1024 20105 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 150 160 NORMALSIZE 1024 20105 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 NORMALSIZE 1024 20105 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2  
  // ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 190 NORMALSIZE 1024 20105 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2  // Sword Graphic
  rotatesprite 210 190 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 210 190 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 180 170 NORMALSIZE 1024 20105 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2  
  // ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12051 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 210 190 NORMALSIZE 1024 20105 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 190 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 210 190 NORMALSIZE 1024 12051 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 240 210 NORMALSIZE 1024 20105 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 210 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 240 210 NORMALSIZE 1024 12051 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 2
{
switch weaponcount
case 5
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 NORMALSIZE -64 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 NORMALSIZE -64 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 NORMALSIZE -64 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 170 150 NORMALSIZE -64 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 NORMALSIZE -64 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 NORMALSIZE -64 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 160 180 NORMALSIZE -64 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 NORMALSIZE -64 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 NORMALSIZE -64 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 210 NORMALSIZE -64 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 NORMALSIZE -64 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 NORMALSIZE -64 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 130 270 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 140 240 NORMALSIZE -64 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 NORMALSIZE -64 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2  
  // ifn WEP0_BLOODY 0 rotatesprite 130 270 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 120 300 NORMALSIZE -64 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 300 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 120 300 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 130 270 NORMALSIZE -64 20105 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2  
  // ifn WEP0_BLOODY 0 rotatesprite 130 170 NORMALSIZE -64 12051 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 120 300 NORMALSIZE -64 20105 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 300 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 120 300 NORMALSIZE -64 12051 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 110 330 NORMALSIZE -64 20105 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 110 330 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  // ifn WEP0_BLOODY 0 rotatesprite 110 330 NORMALSIZE -64 12051 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}


ends

defstate displaytemp_mop

 ifn WEP0_BLOODY 0
	{
	ifg wep_pal 0
	ifl wep_pal 9 
		set BLOOD_PAL wep_pal
		else set BLOOD_PAL WEP0_BLOODY
	}

 
  set x 200
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
state sword_hands
 
ife SWORD_ANIM 0
{
switch weaponcount
case 0
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce DRAW_SWORD2 
  sub x 40
  rotatesprite x y NORMALSIZE 0 12156 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 0 12080 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  add x 10
  sub y 10
  rotatesprite x y NORMALSIZE 0 12156 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 0 12080 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  add x 15
  sub y 15
  rotatesprite x y NORMALSIZE 0 12156 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite x y NORMALSIZE 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite x y NORMALSIZE 64 12080 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
 add tilenum 1
  rotatesprite 240 120 NORMALSIZE 0 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 240 120 NORMALSIZE 0 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 NORMALSIZE 0 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
 rotatesprite 240 120 NORMALSIZE 0 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 120 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 120 NORMALSIZE 0 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 130 NORMALSIZE 0 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 NORMALSIZE 0 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 210 130 NORMALSIZE 0 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 130 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 130 NORMALSIZE 0 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 140 NORMALSIZE 0 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 150 NORMALSIZE 0 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
 rotatesprite 180 140 NORMALSIZE 0 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 140 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 140 NORMALSIZE 0 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 150 NORMALSIZE 0 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 160 NORMALSIZE 0 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 150 NORMALSIZE 0 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 150 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 150 NORMALSIZE 0 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 160 NORMALSIZE 0 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 NORMALSIZE 0 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
 rotatesprite 120 160 NORMALSIZE 0 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 160 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 160 NORMALSIZE 0 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 170 NORMALSIZE 0 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 60 190 NORMALSIZE 0 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 190 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 190 NORMALSIZE 0 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
 rotatesprite 90 170 NORMALSIZE 0 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic  
  rotatesprite 90 170 NORMALSIZE 0 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 90 170 NORMALSIZE 0 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 60 190 NORMALSIZE 0 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 190 NORMALSIZE 0 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 190 NORMALSIZE 0 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 30 210 NORMALSIZE 0 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 210 NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 210 NORMALSIZE 0 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 1
{
switch weaponcount
case 5
 add tilenum 1
 rotatesprite 30 120 NORMALSIZE 1024 12157 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12081 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
 rotatesprite 30 120 NORMALSIZE 1024 12157 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12081 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 NORMALSIZE 1024 12157 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12081 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 30 120 NORMALSIZE 1024 12157 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 30 120 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 30 120 NORMALSIZE 1024 12081 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 60 130 NORMALSIZE 1024 12157 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12081 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 NORMALSIZE 1024 12157 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12081 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 60 130 NORMALSIZE 1024 12157 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 60 130 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 60 130 NORMALSIZE 1024 12081 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 90 140 NORMALSIZE 1024 12157 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12081 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 NORMALSIZE 1024 12157 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12081 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 90 140 NORMALSIZE 1024 12157 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 90 140 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 90 140 NORMALSIZE 1024 12081 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 120 150 NORMALSIZE 1024 12157 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12081 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 NORMALSIZE 1024 12157 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12081 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
  rotatesprite 120 150 NORMALSIZE 1024 12157 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 120 150 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 150 NORMALSIZE 1024 12081 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 160 NORMALSIZE 1024 12157 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12081 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 NORMALSIZE 1024 12157 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12081 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 150 160 NORMALSIZE 1024 12157 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 160 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 160 NORMALSIZE 1024 12081 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2
  rotatesprite 180 170 NORMALSIZE 1024 12157 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12081 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 210 190 NORMALSIZE 1024 12157 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2  // Sword Graphic
  rotatesprite 210 190 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 190 NORMALSIZE 1024 12081 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 180 170 NORMALSIZE 1024 12157 shade wep_pal 37 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 180 170 NORMALSIZE 1024 tilenum shade wep_pal 37 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 180 170 NORMALSIZE 1024 12081 shade BLOOD_PAL 37 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 210 190 NORMALSIZE 1024 12157 shade wep_pal 5 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 210 190 NORMALSIZE 1024 tilenum shade wep_pal 5 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 210 190 NORMALSIZE 1024 12081 shade BLOOD_PAL 5 windowx1 windowy1 windowx2 windowy2
  rotatesprite 240 210 NORMALSIZE 1024 12157 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 240 210 NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 240 210 NORMALSIZE 1024 12081 shade BLOOD_PAL 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}
else
ife SWORD_ANIM 2
{
switch weaponcount
case 5
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 NORMALSIZE -64 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
 add tilenum 1
  rotatesprite 180 120 NORMALSIZE -64 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword graphic
  rotatesprite 180 120 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 180 120 NORMALSIZE -64 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 170 150 NORMALSIZE -64 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 NORMALSIZE -64 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
 add tilenum 1
 rotatesprite 170 150 NORMALSIZE -64 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 170 150 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 170 150 NORMALSIZE -64 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 160 180 NORMALSIZE -64 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 NORMALSIZE -64 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
 add tilenum 1
  rotatesprite 160 180 NORMALSIZE -64 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 160 180 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 160 180 NORMALSIZE -64 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 150 210 NORMALSIZE -64 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 NORMALSIZE -64 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
 add tilenum 1
 rotatesprite 150 210 NORMALSIZE -64 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 150 210 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 150 210 NORMALSIZE -64 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 140 240 NORMALSIZE -64 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 NORMALSIZE -64 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 130 270 NORMALSIZE -64 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
 add tilenum 1
  rotatesprite 140 240 NORMALSIZE -64 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 140 240 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 140 240 NORMALSIZE -64 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2
  rotatesprite 130 270 NORMALSIZE -64 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 130 270 NORMALSIZE -64 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2 
  rotatesprite 120 300 NORMALSIZE -64 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 300 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 300 NORMALSIZE -64 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
 add tilenum 1
  rotatesprite 130 270 NORMALSIZE -64 12157 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 130 270 NORMALSIZE -64 tilenum shade wep_pal 33 windowx1 windowy1 windowx2 windowy2  
  ifn WEP0_BLOODY 0 rotatesprite 130 170 NORMALSIZE -64 12081 shade BLOOD_PAL 33 windowx1 windowy1 windowx2 windowy2  
  rotatesprite 120 300 NORMALSIZE -64 12157 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 120 300 NORMALSIZE -64 tilenum shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 120 300 NORMALSIZE -64 12081 shade BLOOD_PAL 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite 110 330 NORMALSIZE -64 12157 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Sword Graphic
  rotatesprite 110 330 NORMALSIZE -64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifn WEP0_BLOODY 0 rotatesprite 110 330 NORMALSIZE -64 12081 shade BLOOD_PAL 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}

ends



// FN FAL

defstate displaytemp_FNFAL

  set x 222
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos



switch weaponcount
case 0
case 1
case 2
  ifand GUNFIREMODE 16384 // Ironsight?
  {
  set x 160
  set WEAP_DISP_TEMP2 WEAPSWAYX
  divvar WEAP_DISP_TEMP2 2
  sub x WEAP_DISP_TEMP2
  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
  add x WEAP_DISP_TEMP4 // add it to x
  sub x 5 // offset it by 5
  set y 187
  set WEAP_DISP_TEMP3 WEAPSWAYY
  divvar WEAP_DISP_TEMP3 2
  sub y WEAP_DISP_TEMP3
  
  
  set WEAP_DISP_TEMP8 HALFSIZE
   ifg GUN_PUSHBACK_DISPLAY 0
	{
	set WEAP_DISP_TEMP7 4 // base value
	mul WEAP_DISP_TEMP7 GUN_SPREAD // weapon shake affected by gun spread too
	mul WEAP_DISP_TEMP7 GUN_PUSHBACK_DISPLAY // countdown
	add WEAP_DISP_TEMP8 WEAP_DISP_TEMP7 // add to zoom value
	sub GUN_PUSHBACK_DISPLAY 2
	}
  
  rotatesprite x y WEAP_DISP_TEMP8 0 19881 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
  set x 160
  sub x WEAPSWAYX
  add x weapon_xoffset // add weaponxsway to position
  sub x 10 // offset it by 10
  set y 178
  sub y WEAPSWAYY
  rotatesprite x y WEAP_DISP_TEMP8 0 19880 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // sight
  }
  else
  {
  state gunpushback_display
  ife player[].weapon_pos 9 soundonce SELECT_WEAPON
  ife player[].weapon_pos -2 soundonce SELECT_WEAPON
  state wep_drawup
      sub x 68
	add y 20
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 68
	sub y 20
  rotatesprite x y 45056 WEAP_DISP_TEMP2 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 3
    ifand GUNFIREMODE 16384 // Ironsight?
  {
  
   displayrandvar GUN_PUSHBACK_DISPLAY 5
 add GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  
  set x 160
  set WEAP_DISP_TEMP2 WEAPSWAYX
  divvar WEAP_DISP_TEMP2 2
  sub x WEAP_DISP_TEMP2
  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
  add x WEAP_DISP_TEMP4 // add it to x
  sub x 5 // offset it by 5
  set y 187
  set WEAP_DISP_TEMP3 WEAPSWAYY
  divvar WEAP_DISP_TEMP3 2
  sub y WEAP_DISP_TEMP3
  state random_AR_flash
  sub y 65
  
  rotatespritea x y 32638 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 70
  
  set GUN_PUSHBACK_DISPLAY 10
   set WEAP_DISP_TEMP8 HALFSIZE
   ifg GUN_PUSHBACK_DISPLAY 0
	{
	set WEAP_DISP_TEMP7 4 // base value
	mul WEAP_DISP_TEMP7 GUN_SPREAD // weapon shake affected by gun spread too
	mul WEAP_DISP_TEMP7 GUN_PUSHBACK_DISPLAY // countdown
	add WEAP_DISP_TEMP8 WEAP_DISP_TEMP7 // add to zoom value
	sub GUN_PUSHBACK_DISPLAY 2
	}
  
  rotatesprite x y WEAP_DISP_TEMP8 0 19881 0 106 0 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
  set x 160
  sub x WEAPSWAYX
  add x weapon_xoffset // add weaponxsway to position
  sub x 10 // offset it by 10
  set y 183
  sub y WEAPSWAYY
  rotatesprite x y WEAP_DISP_TEMP8 0 19880 0 106 0 windowx1 windowy1 windowx2 windowy2 // sight
  }
else
  {
 displayrandvar GUN_PUSHBACK_DISPLAY 5
 add GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 54
  sub y 50
 state random_AR_flash
	rotatespritea x y 22638 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 54
  add y 50

      sub x 68
	add y 20
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    add x 68
	sub y 20
  
  rotatesprite x y 45056 0 12089 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 4
case 5
case 6
 displayrandvar GUN_PUSHBACK_DISPLAY 5
 add GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  rotatesprite x y 45056 0 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
  rotatesprite x y 45056 0 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set x2 x
  set y2 y  
  sub x2 30
  add y2 30
  rotatesprite x2 y2 NORMALSIZE 128 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  rotatesprite x y 45056 64 12090 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 5
  add x 5
  rotatesprite x y 45056 96 12138 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
  add y 5
  add x 5
  rotatesprite x y 45056 128 12138 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
  sub x 5
  rotatesprite x y 45056 96 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set x2 x
  set y2 y  
  sub x2 30
  add y2 30
  rotatesprite x2 y2 NORMALSIZE 128 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 28
case 29
  sub y 5
  sub x 5
  rotatesprite x y 45056 96 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set x2 x
  set y2 y  
  sub x2 30
  add y2 30
  rotatesprite x2 y2 NORMALSIZE 128 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 45056 96 12125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 30
case 31
case 32
case 33
case 34
case 35
  sub y 5
  sub x 5
  rotatesprite x y 45056 64 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set x2 x
  set y2 y  
  sub x2 30
  add y2 30
  rotatesprite x2 y2 NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 45056 64 12125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 36
case 37
  rotatesprite x y 45056 0 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  set x2 x
  set y2 y  
  sub x2 30
  add y2 30
  rotatesprite x2 y2 NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 45056 0 12125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start of mag release action
case 56
  rotatesprite x y 45056 0 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 55
  rotatesprite x y 45056 16 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 54
  rotatesprite x y 45056 32 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 53
  rotatesprite x y 45056 32 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 20
  break
case 42
case 52
  rotatesprite x y 45056 32 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 20
  break
case 43
case 51
  add y 5
  rotatesprite x y 45056 48 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 50
  break
case 44
case 50
  add y 10
  rotatesprite x y 45056 64 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 50
  break
case 45
case 49
  add y 15
  rotatesprite x y 45056 76 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 57
  add y 50
  break
case 46
case 48
  add y 20
  rotatesprite x y 45056 96 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 18
  rotatesprite x y 45056 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 47
  add y 35
  rotatesprite x y 45056 104 12088 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 57
  add y 18
  rotatesprite x y 45056 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// AK104
defstate displaytemp_AK114

 set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 227
  clamp y 155 320
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
 ifand GUNFIREMODE 32768 // Using the GL?
{
	switch GL_COUNTDOWN 
	case 0
	case 43
	case 42
	case 41	
	  state wep_drawup
	 rotatesprite x y 40960 WEAP_DISP_TEMP2 9846 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 1
	case 2
	case 3
	case 4
	 rotatesprite x y 40960 0 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 5
	case 6
	case 7
	case 8
	 rotatesprite x y 40960 32 9852 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 9
	case 10
	case 11
	case 12
	case 13
	 rotatesprite x y 40960 32 9853 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 14
	case 15
	case 16
	 rotatesprite x y 40960 0 9853 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			sub x 20
			add y 25
			rotatesprite x y NNORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	 break
	case 17
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	 rotatesprite x y 40960 64 9853 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			set WEAP_DISP_TEMP7 GL_COUNTDOWN
			mulvar WEAP_DISP_TEMP7 2
			sub WEAP_DISP_TEMP7 20
			add y WEAP_DISP_TEMP7
			sub x 20
			rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 512 rotatesprite x y NORMALSIZE 0 16122 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 2048 rotatesprite x y NORMALSIZE 0 6132 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 4096 rotatesprite x y NORMALSIZE 0 6133 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else rotatesprite x y NORMALSIZE 0 16127 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 30
	case 31
	case 32
	 rotatesprite x y 40960 0 9852 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 33
	case 34
	case 35
	case 36
	 rotatesprite x y 40960 32 9852 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 37
	case 38
	case 39
	case 40
	 rotatesprite x y 40960 0 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 44
	case 45
	case 46
	case 47
	case 48
			set WEAP_DISP_TEMP6 x
			sub WEAP_DISP_TEMP6 48
			set WEAP_DISP_TEMP7 y
			sub WEAP_DISP_TEMP7 32
			displayrandvar M60FLASH 2048
			rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			rotatesprite x y 40960 0 9847 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	endswitch
}
else
switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
case 9
case 10
  ifand GUNFIREMODE 16384 // Ironsight?
  {
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 10
	  state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12172 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 147
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12165 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
	  
	  		ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				sub y 30
				rotatespritea x y 6096 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
				}

  }
  else
	  {
	  state wep_drawup
	  state gunpushback_display
	  sub x 35
	  add y 40
	  rotatesprite x y 57344 0 C_ARM_1 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 40
	  rotatesprite x y 40960 WEAP_DISP_TEMP2 9845 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 2
case 3
  ifand GUNFIREMODE 16384
  {
  	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 5
	  state random_AR_flash
	  sub y 10
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 5
	  set GUN_PUSHBACK_DISPLAY 10
		state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12172 0 106 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 147
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12165 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
  
  }
  else
  {
 displayrandvar GUN_PUSHBACK_DISPLAY 7
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 50
  sub y 38
  state random_AR_flash
  rotatespritea x y 20500 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 38
	  sub x 35
	  add y 40
	  rotatesprite x y 57344 0 C_ARM_1 0 107 8 windowx1 windowy1 windowx2 windowy2
	  add x 35
	  sub y 40
  rotatesprite x y 40960 0 9845 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y 40960 0 9847 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 11
case 12
case 13
  rotatesprite x y 40960 64 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
  add y 5
  add x 5
  rotatesprite x y 40960 96 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 34
case 35
  add y 5
  add x 5
  rotatesprite x y 40960 128 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
case 32
case 33
  sub y 5
  sub x 5
  rotatesprite x y 40960 96 9849 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
case 31
  sub y 5
  sub x 5
  rotatesprite x y 40960 64 9851 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start reloading
case 58
  rotatesprite x y 40960 0 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 57
  rotatesprite x y 40960 16 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 56
  rotatesprite x y 40960 24 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 55
  rotatesprite x y 40960 32 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 42
case 54
  rotatesprite x y 40960 40 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 53
  add y 15
  rotatesprite x y 40960 48 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 52
  add y 20
  rotatesprite x y 40960 64 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 45
case 51
  add y 25
  rotatesprite x y 40960 76 9848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 50
  add y 30
  rotatesprite x y 40960 96 9849 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 47
case 48
case 49
  add y 45
  rotatesprite x y 40960 104 9849 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_MP40

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos


switch weaponcount
case 0
case 1
case 4
  ife player[].weapon_pos 8 soundonce TOMMYG_COCK
  state wep_drawup
  sub x 66
  add y 5
  ife HANDS_DRAW 2 rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 66
  sub y 5
  rotatesprite x y 45056 WEAP_DISP_TEMP2 13218 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
displayrandvar WEAP_DISP_TEMP 5
add y WEAP_DISP_TEMP
add x WEAP_DISP_TEMP
 displayrandvar M60FLASH 2048
  sub y 55
  sub x 50
  rotatespritea x y 18000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 55
  add x 50
  sub x 66
  add y 5
  ife HANDS_DRAW 2 rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 66
  sub y 5
  rotatesprite x y 45056 0 13219 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 32
case 33
case 34
  rotatesprite x y 45056 32 13265 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 29
case 30
case 31
  sub y 5
  rotatesprite x y 45056 64 13212 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 14
case 25
case 26
case 27
case 28
sub y 7
  rotatesprite x y 45056 96 13213 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
sub y 9
  rotatesprite x y 45056 128 13220 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// GDF Plasma gun

defstate displaytemp_jplasma

  set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  divvar x 2
  sub x looking_angSR1

  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  
  sub y gun_pos
  divvar y 2
  
  add y 90
  add x 130
  

switch weaponcount
case 0
  ife player[].weapon_pos 8 soundonce RIOTGUN_BOLT
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 12103 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 16 
  rotatespritea x y 40960 WEAP_DISP_TEMP2 12105 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
case 4
	displayrandvar GUN_PUSHBACK_DISPLAY 10
	state gunpushback_display
  sub x 54
  sub y 25
  displayrandvar M60FLASH 2048
  rotatespritea x y NORMALSIZE M60FLASH 6240 0 1 1 -255 windowx1 windowy1 windowx2 windowy2
  add x 54
  add y 25

  rotatesprite x y 40960 0 12104 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 16 
  rotatespritea x y 40960 0 12105 WEAP_DISP_TEMP 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// M4 + M203

defstate displaytemp_m16

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 257
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
    
ifand GUNFIREMODE 32768 // Using the M16's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 state wep_drawup
 rotatesprite x y 45152 WEAP_DISP_TEMP2 12123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 45152 0 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 45152 32 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 45152 32 12110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 45152 0 12110 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 90
		add y 5		
		ife CHAR 4 
			{
			ifand CHAR_APP 2 rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 else
			rotatesprite x y NORMALSIZE 0 6190 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			}
		else rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 45152 64 12109 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 105
		
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 45152 0 12109 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 45152 32 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
	  
 rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

 rotatesprite x y 45152 0 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 45152 WEAP_DISP_TEMP2 12108 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using M16's mainfiring mode
	{
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	  state tempm16_arm
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		rotatesprite x y 45152 WEAP_DISP_TEMP2 12123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 2
	displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  sub x 65
	  sub y 60
	  state random_AR_flash
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 65
	  add y 60
	   state tempm16_arm
	  rotatesprite x y 45152 0 12124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 12127 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 15
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 12128 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 12126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

defstate displaytemp_nailgun

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 1
  rotatesprite x y 40960 0 6824 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife ARTIFACTS_LOADOUT[CHAR] 7 // make muzzleflash blue if they have the book of nails
  rotatespritea x y NORMALSIZE 0 6825 0 1 0 -255 windowx1 windowy1 windowx2 windowy2
  else
  rotatespritea x y NORMALSIZE 0 6825 0 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 2
  rotatesprite x y 40960 0 6823 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  rotatesprite x y 40960 0 6824 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife ARTIFACTS_LOADOUT[CHAR] 7 // make muzzleflash blue if they have the book of nails
  rotatespritea x y NORMALSIZE 0 6836 0 1 0 -255 windowx1 windowy1 windowx2 windowy2
  else
  rotatespritea x y NORMALSIZE 0 6836 0 wep_pal 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 0
  ife player[].weapon_pos 9 soundonce SELECT_WEAPON
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 6823 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

defstate drawing_dartgun
getplayer[].weapon_pos WEAP_DISP_TEMP3
switch WEAP_DISP_TEMP3
case 10
case 9
case 8
case 7
	rotatesprite x y 76638 WEAP_DISP_TEMP2 14505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 6
case 5
	rotatesprite x y 76638 WEAP_DISP_TEMP2 14506 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 4
case 3
	rotatesprite x y 76638 WEAP_DISP_TEMP2 14507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 2
case 1
	rotatesprite x y 76638 WEAP_DISP_TEMP2 14508 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
default
	rotatesprite x y 76638 WEAP_DISP_TEMP2 14504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
endswitch

ends

defstate displaytemp_dartgun

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifg GL_COUNTDOWN 28
  {
  displayrandvar M60FLASH 2048
    sub x 27
  sub y 50
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
    add x 27
  add y 50
  }
  

switch weaponcount
case 0
case 10
  ife player[].weapon_pos 8 soundonce ROTATEBARREL  
  state wep_drawup
    state drawing_dartgun
  break
case 1
add y 3
add x 3
  rotatesprite x y 76638 0 14505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
add y 5
add x 5
  rotatesprite x y 76638 0 14505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
add y 3
add x 3
  rotatesprite x y 76638 0 14505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
rotatesprite x y 76638 0 14506 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
rotatesprite x y 76638 0 14507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
rotatesprite x y 76638 0 14508 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ifg micro_torpedo 0 
	{
	ifl GL_COUNTDOWN 15 rotatesprite x y 76638 WEAP_DISP_TEMP2 14502 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	else ifl GL_COUNTDOWN 17 rotatesprite x y 76638 WEAP_DISP_TEMP2 14501 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	else ifl GL_COUNTDOWN 20 rotatesprite x y 76638 WEAP_DISP_TEMP2 14500 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}

ends

defstate M60AMMOAM
ife TEMP_WEAPON_MAG 2 set tilenum 6902 else
ife TEMP_WEAPON_MAG 3 set tilenum 6901 else
ife TEMP_WEAPON_MAG 4 set tilenum 6900 else
ife TEMP_WEAPON_MAG 5 set tilenum 6899 else
ife TEMP_WEAPON_MAG 6 set tilenum 6898 else
ife TEMP_WEAPON_MAG 7 set tilenum 6897 else
ife TEMP_WEAPON_MAG 8 set tilenum 6896 else
ife TEMP_WEAPON_MAG 9 set tilenum 6895
else set tilenum 6895
ends

defstate displaytemp_m60

  set x 220
  ifand GUNFIREMODE 512 add x WEAPSWAYX else
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 3
case 5
case 7
case 9
  ifand GUNFIREMODE 512 set tilenum 14560
  else set tilenum 14565
  state gunpushback_display
  ife player[].weapon_pos 8 
	{
	sound SELECT_WEAPON  
	sound CHAIN_RATTLE
	}
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
//CHAIN
ifg TEMP_WEAPON_MAG 1
 {
  state M60AMMOAM
  sub x 30
  add y 47
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 }
  break
case 2
case 4
case 6
case 8
  sub x 40
  sub y 40
  set GUN_PUSHBACK_DISPLAY 10
    state random_AR_flash
	rotatespritea x y 22000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	add x 40
	add y 40
//GUN
  ifand GUNFIREMODE 512 set tilenum 14561
  else set tilenum 14566
  ife wep_pal 0 set wep_pal 21
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
//CHAIN
ifg TEMP_WEAPON_MAG 1
{
  state M60AMMOAM
  sub x 30
  add y 47
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
}
  break  
case 10
case 11
case 12
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
 ifand GUNFIREMODE 512 set tilenum 14562
  else set tilenum 14567
rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
case 30
ifand GUNFIREMODE 512 set tilenum 14563
  else set tilenum 14568
rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
case 35
case 36
case 37
case 38
case 39
case 40
case 41
case 42
case 43
case 44
case 45
case 46
case 47
case 48
case 49
case 50
ifand GUNFIREMODE 512 set tilenum 14564
  else set tilenum 14591
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 51
case 52
case 53
case 54
case 55
case 56
case 57
case 58
case 59
case 60
ifand GUNFIREMODE 512 set tilenum 14563
  else set tilenum 14568
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 61
case 62
case 63
case 64
case 65
case 66
case 67
case 68
case 69
case 70
ifand GUNFIREMODE 512 set tilenum 14562
  else set tilenum 14567
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

defstate displaytemp_gorohead

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 1
case 2
case 3
case 4
add y 5
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 16 
   add x WEAP_DISP_TEMP
  break
endswitch

  ife player[].weapon_pos 8 soundonce GUARDIAN_ALERT
  state wep_drawup
 
  set tilenum 16032
  ifand GUNFIREMODE_2 4 add tilenum 1
  ifand GUNFIREMODE_2 8 add tilenum 2
  ife CHAR 0 ifand CHAR_APP 1 { sub x 160 add WEAP_DISP_TEMP2 1024 rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 }
  else rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife CHAR 0
	{
	  set tilenum 16040
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	ifand CHAR_APP 1 
		{
		rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16039 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		}
	else
		{
		rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16039 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		}
	}
	ife CHAR 1
	{
	  set tilenum 16049
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
	ife CHAR 2
	{
	  set tilenum 16035
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	set DISP_TEMP4 shade
	add DISP_TEMP4 5
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum DISP_TEMP4 27 0 windowx1 windowy1 windowx2 windowy2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16045 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
	ife CHAR 3
	{
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16038 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
	ife CHAR 4
	 ifand CHAR_APP 2
	{
	  set tilenum 23851
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
	ife CHAR 6
	{
	  set tilenum 16046
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
	ife CHAR 7
	{
	  set tilenum 16035
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	set DISP_TEMP4 shade
	add DISP_TEMP4 15
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum DISP_TEMP4 27 0 windowx1 windowy1 windowx2 windowy2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16044 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
   ife CHAR 10
	{
	  set tilenum 16040
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	} 
	ife CHAR 11
	{
	  set tilenum 16035
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	set DISP_TEMP4 shade
	add DISP_TEMP4 5
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum DISP_TEMP4 27 0 windowx1 windowy1 windowx2 windowy2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16045 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
	ife CHAR 12
	{
	  set tilenum 16035
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	set DISP_TEMP4 shade
	add DISP_TEMP4 20
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum DISP_TEMP4 27 0 windowx1 windowy1 windowx2 windowy2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16044 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
	ife CHAR 13
	{
	  set tilenum 16035
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	set DISP_TEMP4 shade
	add DISP_TEMP4 20
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum DISP_TEMP4 27 0 windowx1 windowy1 windowx2 windowy2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16043 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}
	ife CHAR 14
	{
	  set tilenum 16035
	  ifand GUNFIREMODE_2 4 add tilenum 1
	  else ifand GUNFIREMODE_2 8 add tilenum 2	
	set DISP_TEMP4 shade
	add DISP_TEMP4 5
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum DISP_TEMP4 27 0 windowx1 windowy1 windowx2 windowy2	
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 20880 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2	
	}

ends

// RIPPER HEART

defstate displaytemp_ripperheart

  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 166 set y 166

  set x 165
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
  
  ife CHAR 0 set tilenum 18038
  else ife CHAR 1 set tilenum 18046
  else ife CHAR 2 set tilenum 18054
  else ife CHAR 3 set tilenum 18030
  else ife CHAR 6 set tilenum 18034
  else ife CHAR 7 set tilenum 18058
  else ife CHAR 10 set tilenum 18042
  else ife CHAR 11 set tilenum 18054
  else ife CHAR 12 set tilenum 18062
  else ife CHAR 13 set tilenum 18062
  else ife CHAR 14 set tilenum 20876
  else set tilenum 18050
  
ife CHAR 0
 ifand CHAR_APP 1 // James has to use his left hand for This after episode two
	switch weaponcount
	case 0
	case 7
		 ife player[].weapon_pos 8 soundonce BLOOD_SPURT
		 state wep_drawup
		 add WEAP_DISP_TEMP2 1024
		rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		break
	case 1
	case 2
	case 5
	case 6
		add tilenum 2
		rotatesprite x y NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		break
	case 3
	case 4
		add tilenum 3
		rotatesprite x y NORMALSIZE 1024 tilenum shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
		break
	endswitch 
else
switch weaponcount
case 0
case 7
    ife player[].weapon_pos 8 soundonce BLOOD_SPURT
	state wep_drawup
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 1
case 2
case 5
case 6
	add tilenum 2
	rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 3
case 4
	add tilenum 3
	rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
endswitch

ends

// ZILLA INC MISSILE LAUNCHER

defstate DUP_HEAD_COUNTER
set tilenum 15979
 add tilenum DUP_missile_ammo
 ife tilenum 15979 set tilenum 15940
 ife WEAPON_GLOW YES
	{
	 state reverse_shade
	 rotatespritea x y NORMALSIZE 0 15990 WEAP_DISP_TEMP5 8 1 -255 windowx1 windowy1 windowx2 windowy2
	 }
rotatesprite x y NORMALSIZE 0 tilenum 0 8 0 windowx1 windowy1 windowx2 windowy2
ends

defstate zilla_counter_stuff
  ifand GUNFIREMODE_2 2 // Nuke mode
  {
  rotatesprite x y NORMALSIZE 0 15939 0 0 0 windowx1 windowy1 windowx2 windowy2
  ife WEAPON_GLOW YES
	  {
	  state reverse_shade
	  rotatespritea x y NORMALSIZE 0 15990 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	  }
  rotatesprite x y NORMALSIZE 0 15938 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifg NUKE_COUNTDOWN 140 set tilenum 15947
  else ifg NUKE_COUNTDOWN 120 set tilenum 15948
  else ifg NUKE_COUNTDOWN 90 set tilenum 15949
  else ifg NUKE_COUNTDOWN 60 set tilenum 15950
  else ifg NUKE_COUNTDOWN 30 set tilenum 15951
  else ife GEO_MEGA_SHOT[1] 1 set tilenum 15953
  else set tilenum 15952
  rotatesprite x y NORMALSIZE 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  ifand GUNFIREMODE_2 1 // Heat mode
  {
  ifand GUNFIREMODE_2 4 state DUP_HEAD_COUNTER
  else 
  {
  ife WEAPON_GLOW YES
	{
	 state reverse_shade
	 rotatespritea x y NORMALSIZE 0 15990 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
	 }
  rotatesprite x y NORMALSIZE 0 15940 0 0 0 windowx1 windowy1 windowx2 windowy2
  }
  ifg heat_seek_card 5
	  {
	  rotatesprite x y NORMALSIZE 0 15941 0 0 0 windowx1 windowy1 windowx2 windowy2
	  ife heat_seek_card 10 set tilenum 15941
	   ife heat_seek_card 9 set tilenum 15942
		ife heat_seek_card 8 set tilenum 15943
		 ife heat_seek_card 7 set tilenum 15944
		  ife heat_seek_card 6 set tilenum 15945
	  rotatesprite x y NORMALSIZE 0 tilenum 0 25 0 windowx1 windowy1 windowx2 windowy2
	  }
  else
	  {
	  ife heat_seek_card 5 set tilenum 15941
	   ife heat_seek_card 4 set tilenum 15942
		ife heat_seek_card 3 set tilenum 15943
		 ife heat_seek_card 2 set tilenum 15944
		  ife heat_seek_card 1 set tilenum 15945
		   ife heat_seek_card 0 set tilenum 15946
	  rotatesprite x y NORMALSIZE 0 tilenum 0 0 0 windowx1 windowy1 windowx2 windowy2
	  }
  ife WEAPON_GLOW YES
		{
		state reverse_shade
		rotatespritea x y NORMALSIZE 0 15974 WEAP_DISP_TEMP5 0 0 -255 windowx1 windowy1 windowx2 windowy2
		}
  ife GEO_MEGA_SHOT[1] 1 rotatesprite x y NORMALSIZE 0 15953 0 0 0 windowx1 windowy1 windowx2 windowy2 // Show green light if Nuke's ready
  else ifg atomic_bomb 0 rotatesprite x y NORMALSIZE 0 15947 0 0 0 windowx1 windowy1 windowx2 windowy2 // Show red light if they have a Nuke
  }
  else // Normal mode
  {
  ifand GUNFIREMODE_2 4 state DUP_HEAD_COUNTER
  else 
  {
  ife WEAPON_GLOW YES
		{
		state reverse_shade
		rotatespritea x y NORMALSIZE 0 15990 WEAP_DISP_TEMP5 0 1 -255 windowx1 windowy1 windowx2 windowy2
		}
  rotatesprite x y NORMALSIZE 0 15940 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  ife GEO_MEGA_SHOT[1] 1 rotatesprite x y NORMALSIZE 0 15953 0 0 0 windowx1 windowy1 windowx2 windowy2 // Show light if Nuke's ready
  else ifg atomic_bomb 0 rotatesprite x y NORMALSIZE 0 15947 0 0 0 windowx1 windowy1 windowx2 windowy2 // Show red light if they have a Nuke
  }
ends

defstate displaytemp_zmissilel

  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ifl y 166 set y 166

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

switch weaponcount
case 0
case 14
case 15
case 16
case 17
case 18
  ifg GUN_PUSHBACK_DISPLAY 0
	{
	add x GUN_PUSHBACK_DISPLAY
	add y GUN_PUSHBACK_DISPLAY
	sub GUN_PUSHBACK_DISPLAY 5
	}
  ife player[].weapon_pos 8 soundonce RIOTGUN_BOLT  
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 15933 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 1
  rotatesprite x y NORMALSIZE 0 15934 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 15933 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 2
  rotatesprite x y NORMALSIZE 0 15934 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 3
  rotatesprite x y NORMALSIZE 0 15935 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 15934 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 4
  rotatesprite x y NORMALSIZE 0 15935 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 5
  rotatesprite x y NORMALSIZE 0 15936 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 15935 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 6
  rotatesprite x y NORMALSIZE 0 15936 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 7
  rotatesprite x y NORMALSIZE 0 15937 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 15936 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 8
  rotatesprite x y NORMALSIZE 0 15937 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 9
	add x 3
	add y 3
  rotatesprite x y NORMALSIZE 0 15937 shade wep_pal 1 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 15933 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 10
	add x 6
	add y 6
  rotatesprite x y NORMALSIZE 0 15933 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 11
	add x 9
	add y 9
  rotatesprite x y NORMALSIZE 0 15933 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 12
	add x 12
	add y 12
  rotatesprite x y NORMALSIZE 0 15933 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
case 13
	add x 15
	add y 15
  set GUN_PUSHBACK_DISPLAY 30
  rotatesprite x y NORMALSIZE 0 15933 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  state zilla_counter_stuff
  break
endswitch
ends

// Calico m960

defstate displaytemp_m960

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

  
switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 38
case 39
  state gunpushback_display
  ife player[].weapon_pos 8 soundonce SELECT_WEAPON 
  state wep_drawup
  ifn C_ARM_1 0
	{
	sub x 55
	add y 25
	rotatesprite x y 55000 WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 55
	sub y 25
	}
  rotatesprite x y 40960 WEAP_DISP_TEMP2 16060 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // gun
  break
case 2
case 3
set GUN_PUSHBACK_DISPLAY 4

  ifn C_ARM_1 0
	{
	sub x 55
	add y 25
	rotatesprite x y 55000 WEAP_DISP_TEMP2 C_ARM_1 shade 107 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 55
	sub y 25
	}
  sub y 25
  sub x 55
 displayrandvar M60FLASH 2048
  rotatespritea x y 18000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // muzzleflash
  add y 25
  add x 55
	
  rotatesprite x y 40960 0 16061 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2 // gun
  break
case 7
case 8
case 9
case 35
case 36
case 37
	sub y 15
  rotatesprite x y 40960 0 16062 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
case 32
case 33
case 34
sub y 10
  rotatesprite x y 40960 0 16063 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 30
case 31
sub y 5
  rotatesprite x y 40960 8 16064 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
case 27
case 28
case 29
add y 5
  rotatesprite x y 40960 16 16064 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 25
case 26
add y 10
  rotatesprite x y 40960 32 16065 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
case 23
case 24
add y 15
  rotatesprite x y 40960 64 16065 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MIKKO'S Nailgun===============================================================================================================

defstate DISP_ms_nailgun

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 2
case 4
  state wep_drawup
  
   
 	sub x 96
	add y 32
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 96
	sub y 32
  
  rotatesprite x y 45056 WEAP_DISP_TEMP2 13440 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  

  
  break
case 1
case 3
displayrandvar WEAP_DISP_TEMP 5
add y WEAP_DISP_TEMP
add x WEAP_DISP_TEMP

sub x 55
sub y 35
  displayrandvar M60FLASH 2048
  
  ife ARTIFACTS_LOADOUT[CHAR] 7 // make muzzleflash blue if they have the book of nails
  rotatespritea x y 62638 M60FLASH 13442 0 27 0 -255 windowx1 windowy1 windowx2 windowy2
  else
  rotatespritea x y 62638 M60FLASH 13442 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 55
  add y 35
  
 	sub x 96
	add y 32
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand graphics
	add x 96
	sub y 32
  

  rotatesprite x y 45056 0 13441 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// CULTIST'S PISTOL===============================================================================================================

defstate drawpcpistol

  set x 205
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 226
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY

switch weaponcount

case 0
case 1
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  ife player[].weapon_pos 3 sound R_HAMMER
  state wep_drawup
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 22587 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  set GUN_PUSHBACK_DISPLAY 7
  sub x 37
  sub y 43
  rotatespritea x y 12000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 37
  add y 43

  myospal x y 22588 0 0 wep_pal
  break
case 3
  set GUN_PUSHBACK_DISPLAY 7
  sub x 37
  sub y 43
  rotatespritea x y 12000 M60FLASH 16114 10 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 37
  add y 43

  myospal x y 22589 gs 0 wep_pal
  break
case 4
  myospal x y 22590 gs 0 wep_pal
  break
case 5
  myospal x y 22591 gs 0 wep_pal
  break
case 6
  myospal x y 22592 gs 0 wep_pal
  break
case 7
  set M60FLASH 0
  myospal x y 22593 gs 0 wep_pal
  break
case 8
  myospal x y 22594 gs 0 wep_pal
  break
case 9
case 10
case 11
case 12
case 13
case 14
case 15
  add x weaponcount
  set WEAP_DISP_TEMP2 weaponcount
  mul WEAP_DISP_TEMP2 4
  add y WEAP_DISP_TEMP2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 22590 gs wep_pal 0 windowx1 windowy1 windowx2 windowy2
   break
case 16
case 17
case 18
case 19
case 20
case 21
case 22
    add x 16
	add y 60
	rotatesprite x y NORMALSIZE 60 22591 gs wep_pal 0 windowx1 windowy1 windowx2 windowy2
case 23
    add x 18
	add y 64
	rotatesprite x y NORMALSIZE 60 22591 gs wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
    add x 12
	add y 48
	rotatesprite x y NORMALSIZE 48 22593 gs wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
case 30
    add x 6
	add y 32
	rotatesprite x y NORMALSIZE 24 22594 gs wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MERLIJN'S THUNDER SWORD===============================================================================================================

defstate drawmthundersword

switch weaponcount
case 0
  set x 279
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

  ife player[].weapon_pos 9 sound DRAW_SWORD 
  state wep_drawup
  rotatesprite x y 40960 WEAP_DISP_TEMP2 10255 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  sub x 40
  rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 10276 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 40
  rotatesprite x y 40960 WEAP_DISP_TEMP2 10254 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  set x 221
  set y 198
  rotatesprite x y 36768 0 10257 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  sub x 60
  sub y 30
  rotatesprite x y NNORMALSIZE 0 10277 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 60
  add y 30
  rotatesprite x y 36768 0 10256 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  set x 221
  set y 198
  rotatesprite x y 36768 0 10257 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  sub x 50
  sub y 20
  rotatesprite x y NNORMALSIZE 0 10278 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 20
  rotatesprite x y 36768 0 10256 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
  set x 149
  set y 150
  rotatesprite x y NNORMALSIZE 0 10279 0 wep_pal 520 windowx1 windowy1 windowx2 windowy2
  add x 80
  sub y 30
  rotatesprite x y 36768 0 10258 0 wep_pal 520 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
  set x 221
  set y 107
  rotatesprite x y 40960 0 10259 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
    sub x 50
	add y 80
    rotatesprite x y NNORMALSIZE 0 10280 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  set x 221
  set y 107
  rotatesprite x y 40960 0 10260 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
    sub x 50
	add y 70
    rotatesprite x y NNORMALSIZE 0 10281 0 wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
  rotatesprite 235 100 40960 0 10261 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
  rotatesprite 182 100 40960 0 10262 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
  rotatesprite 136 145 40960 0 10263 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  rotatesprite 107 183 40960 0 10264 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// MERLIJN'S FLAME SWORD===============================================================================================================


defstate drawmflamesword

switch weaponcount
case 0
  set x 267
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1

  set y 215
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  set WEAP_DISP_TEMP2 player[].weapon_pos
   ife WEAP_DISP_TEMP2 8 sound DRAW_SWORD
  rotatesprite x y 32768 0 10267 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	add y 82
	add x 5 
	rotatesprite x y NNORMALSIZE 0 10314 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	sub y 82
	add x 5 
	rotatespritea x y NNORMALSIZE 0 18104 0 0 520 -255 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
	  set x 244
	  set y 144
	  rotatesprite x y 32768 0 10268 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
	  add y 40
	  add x 25
	  rotatesprite x y NNORMALSIZE 0 18107 0 0 520 windowx1 windowy1 windowx2 windowy2
	add y 22
	sub x 30
	rotatespritea x y NNORMALSIZE 128 10314 shade wep_pal 520 -255 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
		set x 257
		set y 116
		rotatesprite x y 32768 0 10269 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
		add y 76
		sub x 20
		rotatesprite x y NNORMALSIZE 64 10314 shade wep_pal 520 windowx1 windowy1 windowx2 windowy2
  break
case 5
		set x 202
		set y 65
		rotatesprite x y 32768 0 10270 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		add y 78
		add x 60
		rotatesprite x y NNORMALSIZE 0 10315 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 6
		set x 190
		set y 70
		rotatesprite x y 32768 0 10270 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
		add y 78
		add x 60
		rotatesprite x y NNORMALSIZE 0 10315 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
	  set x 126
	  set y 95
	  rotatesprite x y 32768 0 10271 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 82
	  add x 130
	  rotatesprite x y NNORMALSIZE 0 10316 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
	  set x 130
	  set y 118
	  rotatesprite x y 32768 0 10272 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 70
	  add x 85
	  rotatesprite x y NNORMALSIZE 0 10317 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
	  set x 125
	  set y 167
	  rotatesprite x y 32768 0 10273 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	  add y 40
	  add x 70
	  rotatesprite x y NNORMALSIZE 0 10317 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  break
endswitch


ends

// =============================================================================================================================
// Bombshell's XM-25
// =============================================================================================================================

defstate draw_xm25

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  add y looking_arc
  sub y gun_pos
  
  clamp y 153 320
  
  ife SCOPE 1 
	{
	add y 15
	add x 15
	}

switch weaponcount
case 0
case 1
case 4
case 50
case 51
  state wep_drawup
  state gunpushback_display
  sub x 65
  add y 25
  rotatesprite x y M4A1_SIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 65
  sub y 25
  rotatesprite x y 40960 WEAP_DISP_TEMP2 10460 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  
  sub x 65
  add y 25
  rotatesprite x y 40960 0 C_ARM_2 0 0 0 windowx1 windowy1 windowx2 windowy2
  
  add x 65
  sub y 25
  
  sub x 50
  sub y 26
  displayrandvar M60FLASH 2048
  rotatespritea x y 23000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 26
  rotatesprite x y M4A1_SIZE 0 10461 0 106 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 47
case 48
case 49
  rotatesprite x y 40960 16 10460 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 44
case 45
case 46
  rotatesprite x y 40960 32 10462 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
add y 10
  rotatesprite x y 40960 48 10462 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
add y 10
  rotatesprite x y 40960 64 10463 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 25
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y NORMALSIZE 1024 10473 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 26
add y 15
  rotatesprite x y 40960 68 10463 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
case 36
case 40
case 41
case 42
case 43 
add y 10
  rotatesprite x y 40960 68 10463 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  add y 20
  rotatesprite x y 40960 58 10463 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends


// BOMBSHELL'S DEAGLE================================================================================================

defstate draw_deagle

 ifl weaponcount 5
 {
    set x 213 // 195-12
    add x weapon_xoffset
    ife weaponcount 3
    {
        sub x 3
    }
    sub x looking_angSR1
	sub x WEAPSWAYX

    set y 244
    add y looking_arc
    sub y gun_pos
	sub y WEAPSWAYY
	
    
    set tilenum 10455
    switch weaponcount
        case 1
            add tilenum 1

			  sub y 33
			  sub x 30
			  displayrandvar M60FLASH 2048
			  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			  add y 33
			  add x 30
            break
        case 2
            add tilenum 2
			displayrandvar GUN_PUSHBACK_DISPLAY 12
			add x GUN_PUSHBACK_DISPLAY
			add y GUN_PUSHBACK_DISPLAY

			  sub y 33
			  sub x 30
			  displayrandvar M60FLASH 2048
			  rotatespritea x y 18000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			  add y 33
			  add x 30
            break
    endswitch
	
	state gunpushback_display
            
    set orientation 2
	ife player[].weapon_pos 9 sound SELECT_PISTOL
	state wep_drawup
	rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 }
 else
 {
    ifl weaponcount 10
    {
        set x 244
        sub x looking_angSR1
        
        set y 244
        add y looking_arc
        sub y gun_pos
        ife RELOAD_TYPE 1 set tilenum 10458 else set tilenum 14580
        myospal x y tilenum shade orientation wep_pal
        
    }
    else ifl weaponcount 15
    {	
        set x 144
        set wp_temp weaponcount
        mulvar wp_temp 2 // <<1
        mulvar wp_temp 4 // << 2
        mulvar wp_temp 8 // << 3
        sub x wp_temp
        sub x looking_angSR1
		shiftvarr x 4
		add x 240
        
        set y 230
        add y looking_arc
        mulvarvar wp_temp wp_temp // << 4
        add y wp_temp
        sub y gun_pos
		shiftvarr y 14
		add y 135

        // myospal x y 22650 shade orientation wep_pal
// ///////      
        set x 264
        sub x looking_angSR1
        
        set y 220
        add y looking_arc
        sub y gun_pos
		clamp y 143 320
		ife RELOAD_TYPE 1 set tilenum 10458 else set tilenum 14580
        myospal x y tilenum shade orientation wep_pal
        
    }
    else ifl weaponcount 20
    {	
        set x 140
        set wp_temp weaponcount
        mulvarvar wp_temp wp_temp // <<1
		divvar wp_temp 2
        add x wp_temp
        sub x looking_angSR1
		sub x 150
        
        set y 30
        add y looking_arc
        mulvarvar wp_temp wp_temp // << 2
        mulvarvar wp_temp wp_temp // << 3
        sub y wp_temp
        sub y gun_pos
		shiftvarr y 26
		add y 200

        myospal x y 14578 shade orientation wep_pal
// ///////      
        set x 264
        sub x looking_angSR1
        
        set y 220
        add y looking_arc
        sub y gun_pos
        
		ife RELOAD_TYPE 1 set tilenum 10458 else set tilenum 14580
        myospal x y tilenum shade orientation wep_pal
        
    }
    else ifl weaponcount 23
    {
	
        set x 184
        sub x looking_angSR1
        
        set y 235
        add y looking_arc
        sub y gun_pos
		
		clamp y 164 320

        myospal x y 14579 shade orientation wep_pal
// ///////      
        set x 264
        sub x looking_angSR1
        
        set y 210
        add y looking_arc
        sub y gun_pos
		
        ife RELOAD_TYPE 1 set tilenum 10458 else set tilenum 14580
        myospal x y tilenum shade orientation wep_pal
        
    }
    else ifl weaponcount 25
    {
        set x 164
        sub x looking_angSR1
        
        set y 245
        add y looking_arc
        sub y gun_pos
		
		clamp y 164 320

        myospal x y 14579 shade orientation wep_pal
// ///////      
        set x 264
        sub x looking_angSR1
        
        set y 220
        add y looking_arc
        sub y gun_pos
        
		ife RELOAD_TYPE 1 set tilenum 10458 else set tilenum 14580
        myospal x y tilenum shade orientation wep_pal
    }
    else ifl weaponcount 27
    {
        set x 254
        sub x looking_angSR1
        
        set y 235
        add y looking_arc
        sub y gun_pos
		ife RELOAD_TYPE 1 set tilenum 10458 else set tilenum 14580
        myospal x y tilenum shade orientation wep_pal
    }
    else ifl weaponcount 30
    {
        set x 252
        sub x looking_angSR1
        
        set y 233
        add y looking_arc
        sub y gun_pos
		ife RELOAD_TYPE 1 set tilenum 10458 else set tilenum 14580
        myospal x y tilenum shade orientation wep_pal
    }
 }
ends
 
// Bombshell's M4A1===============================================================================================================

defstate drawm4a1
  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 257
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
    
ifand GUNFIREMODE 32768 // Using the M16's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 state wep_drawup
 rotatesprite x y 45152 WEAP_DISP_TEMP2 10441 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 45152 0 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 45152 32 10437 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 45152 32 12075 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 45152 0 12075 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 90
		add y 5		
		ife CHAR 4 
			{
			ifand CHAR_APP 2 rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2 else
			rotatesprite x y NORMALSIZE 0 6190 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			}
		else rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 45152 64 12074 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 105
		
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 45152 0 12074 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 45152 32 10437 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
	  
 rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

 rotatesprite x y 45152 0 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 45152 WEAP_DISP_TEMP2 12108 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using M16's mainfiring mode
	{
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	  state tempm16_arm
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		rotatesprite x y 45152 WEAP_DISP_TEMP2 10441 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 2
	displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  sub x 65
	  sub y 60
	  state random_AR_flash
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 65
	  add y 60
	   state tempm16_arm
	  rotatesprite x y 45152 0 10442 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 10444 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 15
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 10440 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 10443 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

// JAMES' AUTO-5===============================================================================================================

defstate draw_auto5

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
case 36
  state gunpushback_display
  ife player[].weapon_pos 8 sound AUTO5_DEPLOY 
  state wep_drawup
  
    ifand GUNFIREMODE 16384 { sub y 10 sub x 77 rotatesprite x y NORMALSIZE 0 13377 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 }
	else
	{
	  sub x 70
	  add y 35
	  rotatesprite x y NNORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 35
	rotatesprite x y 40960 WEAP_DISP_TEMP2 13379 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    }
  break
case 2
case 3
    set GUN_PUSHBACK_DISPLAY 10
	ifand GUNFIREMODE 16384
	{ 
	sub y 10 
	displayrandvar M60FLASH 2048
  sub x 77
  sub y 60
  rotatespritea x y 16000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
    add x 77
  add y 60
   sub x 77
	rotatesprite x y NORMALSIZE 0 13378 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	}
	else
		{
	   displayrandvar M60FLASH 2048
	  sub x 53
	  sub y 52
	  rotatespritea x y 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 53
	  add y 52
	  
	  sub x 70
	  add y 35
	  rotatesprite x y NNORMALSIZE 0 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 35
	  
	  rotatesprite x y 40960 0 13380 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
		}
  break
case 4
case 5
case 6
  state gunpushback_display
  ifand GUNFIREMODE 16384 { sub y 30 sub x 77 rotatesprite 160 y NORMALSIZE 0 13377 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 }
  else rotatesprite x y 40960 20 13379 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 	case 13
	case 14
	  add x 10
	  sub y 20
	  rotatesprite x y 40960 0 13379 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 15
	case 16
	  add x 10
	  sub y 20
	  rotatesprite x y 40960 32 13379 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 17
	case 18
	  add x 10
	  sub y 18
	  rotatesprite x y 40960 5 13382 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 60
	  add y 40
	  rotatesprite x y NNORMALSIZE 1024 7893 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  ifand AMMO_TYPES[CURWEAP] 1 ifg explosive_shells 0 rotatesprite x y NNORMALSIZE 1024 7903 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  ifand AMMO_TYPES[CURWEAP] 4 ifg flechete_shells 0 rotatesprite x y NNORMALSIZE 1024 7867 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  break
	case 19
	case 20
	  add x 10
	  sub y 18
	  rotatesprite x y 40960 20 13382 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 50
	  add y 60
	  rotatesprite x y NNORMALSIZE 1024 7893 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  ifand AMMO_TYPES[CURWEAP] 1 ifg explosive_shells 0 rotatesprite x y NNORMALSIZE 1024 7903 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  ifand AMMO_TYPES[CURWEAP] 4 ifg flechete_shells 0 rotatesprite x y NNORMALSIZE 1024 7867 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	  break
	case 21
	  add x 10
	  rotatesprite x y 40960 20 13382 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 22
	  add x 10
	  rotatesprite x y 40960 10 13382 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 23
	case 24
	  add x 10
	  rotatesprite x y 40960 20 13382 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 25
	case 26
	case 27
	rotatesprite x y 40960 40 13382 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
	case 28
	case 29
	case 30
	  sub y 10
	  rotatesprite x y 40960 20 13381 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
endswitch

ends

// James' AN-94===============================================================================================================

defstate draw_an94

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 237
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
 ifand GUNFIREMODE 32768 // Using the GL?
{
	switch GL_COUNTDOWN 
	case 0
	case 43
	case 42
	case 41
	state wep_drawup
	 rotatesprite x y 40960 WEAP_DISP_TEMP2 13356 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 1
	case 2
	case 3
	case 4
	 rotatesprite x y 40960 0 13356 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 5
	case 6
	case 7
	case 8
	 rotatesprite x y 40960 32 13356 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 9
	case 10
	case 11
	case 12
	case 13
	 rotatesprite x y 40960 32 13363 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 14
	case 15
	case 16
	 rotatesprite x y 40960 0 13355 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			sub x 20
			add y 20
			rotatesprite x y NNORMALSIZE 1024 7894 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	 break
	case 17
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	 rotatesprite x y 40960 64 13355 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			set WEAP_DISP_TEMP7 GL_COUNTDOWN
			mulvar WEAP_DISP_TEMP7 2
			sub WEAP_DISP_TEMP7 20
			add y WEAP_DISP_TEMP7
			sub x 20
			rotatesprite x y NORMALSIZE 0 11893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 512 rotatesprite x y NORMALSIZE 0 16122 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 2048 rotatesprite x y NORMALSIZE 0 6132 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 4096 rotatesprite x y NORMALSIZE 0 6133 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else rotatesprite x y NORMALSIZE 0 16127 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 30
	case 31
	case 32
	 rotatesprite x y 40960 0 13363 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 33
	case 34
	case 35
	case 36
	 rotatesprite x y 40960 32 13363 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 37
	case 38
	case 39
	case 40
	 rotatesprite x y 40960 0 13363 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 44
	case 45
	case 46
	case 47
	case 48
			set WEAP_DISP_TEMP6 x
			sub WEAP_DISP_TEMP6 48
			set WEAP_DISP_TEMP7 y
			sub WEAP_DISP_TEMP7 32
			displayrandvar M60FLASH 2048
			rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			rotatesprite x y 40960 0 13357 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	endswitch
}
else
switch weaponcount
case 0
case 2
case 4
case 5
case 6
  ifand GUNFIREMODE 16384 // Ironsight?
  {
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 13362 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 40
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 142
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 13361 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holographic sight
	  	ifl player_shade_diff -5
			{
			set WEAP_DISP_TEMP3 player_shade_diff
			mulvar WEAP_DISP_TEMP3 2
			sub y 45
			rotatespritea x y 6096 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
			}
  }
  else
	  {
	  state wep_drawup
	  state gunpushback_display
	  sub x 45
	  add y 40
	  rotatesprite x y 57344 WEAP_DISP_TEMP2 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 45
	  sub y 40
	  rotatesprite x y 40960 WEAP_DISP_TEMP2 13356 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  }
  break
case 1
case 3
  ifand GUNFIREMODE 16384
  {
state random_AR_flash
	rotatespritea 160 120 22000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	set GUN_PUSHBACK_DISPLAY 10
	state gunpushback_sight_display
  rotatesprite 160 142 WEAP_DISP_TEMP8 0 13362 0 106 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea 160 100 QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
  rotatesprite 160 142 WEAP_DISP_TEMP8 0 13361 0 108 0 windowx1 windowy1 windowx2 windowy2
  }
  else
  {
  displayrandvar WEAP_DISP_TEMP 5
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  set GUN_PUSHBACK_DISPLAY WEAP_DISP_TEMP
	  sub x 60
	  sub y 60
	state random_AR_flash
		rotatespritea x y 20500 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  add y 60
		  sub x 45
		  add y 40
		  rotatesprite x y 57344 WEAP_DISP_TEMP2 C_ARM_1 0 107 0 windowx1 windowy1 windowx2 windowy2
		  add x 45
		  sub y 40
  rotatesprite x y 40960 0 13357 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 7
case 8
case 9
case 10
	  sub x 45
	  add y 40
	  rotatesprite x y 57344 0 C_ARM_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 45
	  sub y 40
  rotatesprite x y 40960 0 13356 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  rotatesprite x y 40960 64 13356 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
  add y 5
  add x 5
  rotatesprite x y 40960 96 13358 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 34
case 35
  add y 5
  add x 5
  rotatesprite x y 40960 128 13359 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 32
case 33
  sub y 5
  sub x 5
  rotatesprite x y 40960 96 13359 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 25
case 26
case 27
case 28
case 29
case 30
case 31
  sub y 5
  sub x 5
  rotatesprite x y 40960 64 13360 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start reloading
case 58
  rotatesprite x y 40960 0 13358 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 57
  rotatesprite x y 40960 16 13358 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 56
  rotatesprite x y 40960 32 13358 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 55
  rotatesprite x y 40960 32 13358 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 42
case 54
  rotatesprite x y 40960 32 13358 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 53
  add y 15
  rotatesprite x y 40960 48 13358 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 52
  add y 20
  rotatesprite x y 40960 64 13358 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 45
case 51
  add y 25
  rotatesprite x y 40960 76 13359 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 50
  add y 30
  rotatesprite x y 40960 96 13359 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 47
case 48
case 49
  add y 45
  rotatesprite x y 40960 104 13359 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// James'S Gilboa =========================================================================================

defstate draw_gilboa
    set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 247
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

ifand GUNFIREMODE 32768 // Using the M16's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 state wep_drawup
 rotatesprite x y 45152 WEAP_DISP_TEMP2 19848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 45152 0 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 45152 32 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 45152 32 19856 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 45152 0 19855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 90
		add y 5		
		 rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 45152 64 19855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 105
		
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 45152 0 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 45152 32 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
 state tempm16_arm
 rotatesprite x y 45152 0 19848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 45152 WEAP_DISP_TEMP2 19849 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using gilboa's mainfiring mode
	{
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	ifand GUNFIREMODE 16384 // Ironsight?
	  {
		  set x 160
		  set WEAP_DISP_TEMP2 WEAPSWAYX
		  divvar WEAP_DISP_TEMP2 2
		  sub x WEAP_DISP_TEMP2
		  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
		  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
		  add x WEAP_DISP_TEMP4 // add it to x
		  sub x 5 // offset it by 5
		  set y 135
		  set WEAP_DISP_TEMP3 WEAPSWAYY
		  divvar WEAP_DISP_TEMP3 2
		  sub y WEAP_DISP_TEMP3
		  state gunpushback_sight_display
		  rotatesprite x y WEAP_DISP_TEMP8 0 19852 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // barrel part of ironsight
		  sub y 35
		  rotatespritea x y 4096 0 11047 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
		  set x 160
		  sub x WEAPSWAYX
		  add x weapon_xoffset // add weaponxsway to position
		  sub x 10 // offset it by 10
		  set y 132
		  sub y WEAPSWAYY
		  rotatesprite x y WEAP_DISP_TEMP8 0 19851 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
		  ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				sub y 30
				rotatespritea x y 12192 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
				}
	  }
	else
		{
		 state tempm16_arm
			ife player[].weapon_pos 9 soundonce SELECT_WEAPON
			state wep_drawup
			rotatesprite x y 40960 WEAP_DISP_TEMP2 19848 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		}
	  break
	case 2
     ifand GUNFIREMODE 16384
		  {
			  set x 160
			  set WEAP_DISP_TEMP2 WEAPSWAYX
			  divvar WEAP_DISP_TEMP2 2
			  sub x WEAP_DISP_TEMP2
			  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
			  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
			  add x WEAP_DISP_TEMP4 // add it to x
			  sub x 5 // offset it by 5
			  set y 135
			  set WEAP_DISP_TEMP3 WEAPSWAYY
			  divvar WEAP_DISP_TEMP3 2
			  sub y WEAP_DISP_TEMP3
		  ifand GUNFIREMODE 65536 nullop else
			  {
			  state random_AR_flash
			  rotatespritea 160 120 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			  }
			set GUN_PUSHBACK_DISPLAY 10
			 state gunpushback_sight_display
		  rotatesprite x y WEAP_DISP_TEMP8 0 19852 0 106 0 windowx1 windowy1 windowx2 windowy2
		  rotatesprite x y WEAP_DISP_TEMP8 0 19851 0 108 0 windowx1 windowy1 windowx2 windowy2
		  sub y 35
		  rotatespritea x y 4096 0 11047 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // holotech dot
		  }
	else
		{
		displayrandvar WEAP_DISP_TEMP 5
		  add x WEAP_DISP_TEMP
		  add y WEAP_DISP_TEMP
		  sub x 65
		  sub y 60
		  state random_AR_flash
		  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		  add x 65
		  add y 60
		 state tempm16_arm
		  rotatesprite x y 40960 0 19849 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
		}
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 19853 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 60
	  add y 50
	  rotatesprite x y 50000 200 5243 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 19854 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 19850 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

// Rusty's AK-74===============================================================================================================


defstate draw_ak74

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 227
  clamp y 155 320
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
 ifand GUNFIREMODE 32768 // Using the GL?
{
	switch GL_COUNTDOWN 
	case 0
	case 43
	case 42
	case 41	
	  state wep_drawup
	 rotatesprite x y 40960 WEAP_DISP_TEMP2 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 1
	case 2
	case 3
	case 4
	 rotatesprite x y 40960 0 13407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 5
	case 6
	case 7
	case 8
	 rotatesprite x y 40960 32 13410 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 9
	case 10
	case 11
	case 12
	case 13
	 rotatesprite x y 40960 32 13410 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 14
	case 15
	case 16
	 rotatesprite x y 40960 0 13411 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			sub x 20
			add y 25
			rotatesprite x y NNORMALSIZE 1024 7896 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	 break
	case 17
	case 18
	case 19
	case 20
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	case 27
	case 28
	case 29
	 rotatesprite x y 40960 64 13411 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			set WEAP_DISP_TEMP7 GL_COUNTDOWN
			mulvar WEAP_DISP_TEMP7 2
			sub WEAP_DISP_TEMP7 20
			add y WEAP_DISP_TEMP7
			sub x 20
			rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			ifand AMMO_TYPES[CURWEAP] 512 rotatesprite x y NORMALSIZE 0 16122 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 2048 rotatesprite x y NORMALSIZE 0 6132 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else ifand AMMO_TYPES[CURWEAP] 4096 rotatesprite x y NORMALSIZE 0 6133 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
			else rotatesprite x y NORMALSIZE 0 16127 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 30
	case 31
	case 32
	 rotatesprite x y 40960 0 13410 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 33
	case 34
	case 35
	case 36
	 rotatesprite x y 40960 32 13410 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 37
	case 38
	case 39
	case 40
	 rotatesprite x y 40960 0 13407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	case 44
	case 45
	case 46
	case 47
	case 48
			set WEAP_DISP_TEMP6 x
			sub WEAP_DISP_TEMP6 48
			set WEAP_DISP_TEMP7 y
			sub WEAP_DISP_TEMP7 32
			displayrandvar M60FLASH 2048
			rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
			rotatesprite x y 40960 0 13406 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	 break
	endswitch
}
else
switch weaponcount
case 0
case 1
case 4
case 5
case 6
  ifand GUNFIREMODE 16384 // Ironsight?
  {
	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 10
	  state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12172 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 147
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12165 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
	  
	  		ifl player_shade_diff -5
				{
				set WEAP_DISP_TEMP3 player_shade_diff
				mulvar WEAP_DISP_TEMP3 2
				sub y 30
				rotatespritea x y 6096 0 2587 player_shade_diff wall_pal 33 WEAP_DISP_TEMP3 windowx1 windowy1 windowx2 windowy2 // Glass in holosight
				}

  }
  else
  {
  state wep_drawup
  state gunpushback_display
  sub x 70
  add y 50
  rotatesprite x y 49152 WEAP_DISP_TEMP2 9011 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 40960 WEAP_DISP_TEMP2 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 2
case 3
  ifand GUNFIREMODE 16384
  {
  	  set x 160
	  set WEAP_DISP_TEMP2 WEAPSWAYX
	  divvar WEAP_DISP_TEMP2 2
	  sub x WEAP_DISP_TEMP2
	  set y 140
	  set WEAP_DISP_TEMP3 WEAPSWAYY
	  divvar WEAP_DISP_TEMP3 2
	  sub y WEAP_DISP_TEMP3
	  set WEAP_DISP_TEMP4 weapon_xoffset // set the weapon x sway to displaytemp4
	  divvar WEAP_DISP_TEMP4 2 // divide it by 2 
	  add x WEAP_DISP_TEMP4 // add it to x
	  sub x 5 // offset it by 5
	  sub y 5
	  state random_AR_flash
	  sub y 10
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 5
	  set GUN_PUSHBACK_DISPLAY 10
		state gunpushback_sight_display
	  rotatesprite x y WEAP_DISP_TEMP8 0 12172 0 106 0 windowx1 windowy1 windowx2 windowy2 // Barrel
	  sub y 30
	  rotatespritea x y QUARTERSIZE 0 11046 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // red dot
	  set x 160
	  sub x WEAPSWAYX
	  sub x 10
	  add x weapon_xoffset
	  set y 147
	  sub y WEAPSWAYY
	  rotatesprite x y WEAP_DISP_TEMP8 0 12165 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // holotech sight
  
  }
  else
  {
 displayrandvar GUN_PUSHBACK_DISPLAY 7
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 40
  sub y 40
  state random_AR_flash
  rotatespritea x y 20500 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 40
  add y 40
	  sub x 70
	  add y 50
	  rotatesprite x y 49152 0 9011 0 107 0 windowx1 windowy1 windowx2 windowy2
	  add x 70
	  sub y 50
  rotatesprite x y 40960 0 13406 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  }
  break
case 7
case 8
case 9
case 10
  sub x 70
  add y 50
  rotatesprite x y 49152 0 9011 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
  add x 70
  sub y 50
  rotatesprite x y 40960 0 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  rotatesprite x y 40960 64 13407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
case 36
case 37
  add y 5
  add x 5
  rotatesprite x y 40960 96 13407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 34
case 35
  add y 5
  add x 5
  rotatesprite x y 40960 128 13407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 24
case 25
case 32
case 33
  sub y 5
  sub x 5
  rotatesprite x y 40960 96 13408 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
case 28
case 29
case 30
case 31
  sub y 5
  sub x 5
  rotatesprite x y 40960 64 13409 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 38 // start reloading
case 58
  rotatesprite x y 40960 0 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 57
  rotatesprite x y 40960 16 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 40
case 56
  rotatesprite x y 40960 32 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 41
case 55
  rotatesprite x y 40960 32 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 42
case 54
  rotatesprite x y 40960 32 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 43
case 53
  add y 15
  rotatesprite x y 40960 48 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 44
case 52
  add y 20
  rotatesprite x y 40960 64 13405 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 45
case 51
  add y 25
  rotatesprite x y 40960 76 13407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 46
case 50
  add y 30
  rotatesprite x y 40960 96 13407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 47
case 48
case 49
  add y 45
  rotatesprite x y 40960 104 13407 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// MAARTEN'S SUNSTAFF==============================================================================

defstate drawsunstaff

  set x 150
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 237
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 4
  getp[].ammo_amount 3 WEAP_DISP_TEMP
  ife WEAP_DISP_TEMP 0 set tilenum 12015 else set tilenum 12007
  myospal x y tilenum shade 0 wep_pal
  break
case 1
  myospal x y 12011 shade 0 wep_pal
  break
case 2
  myospal x y 12011 shade 0 wep_pal
  break
case 3
  myospal x y 12011 shade 0 wep_pal
  break
endswitch
ends

// MAARTEN'S MORNING STAR=============================================================================================

defstate draw_morningstar

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 237
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 11996 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
case 3
  sub x 18
  rotatesprite x y NORMALSIZE 0 11997 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
  add x 54
  sub y 10
  rotatesprite x y NORMALSIZE 0 11998 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
  sub x 10
  sub y 10
  rotatesprite x y NORMALSIZE 0 11999 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
  sub x 20
  rotatesprite x y NORMALSIZE 0 12000 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 28
case 29
case 30
 break
case 16
case 17
case 18
  sub x 40
  rotatesprite x y NORMALSIZE 0 12001 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 19
case 20
case 21
  sub x 30
  rotatesprite x y NORMALSIZE 0 12002 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  rotatesprite x y NORMALSIZE 0 12003 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 25
case 26
case 27
  rotatesprite x y NORMALSIZE 0 12000 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ===========================================================================================================================
// Bombshell's AA12
// ===========================================================================================================================

defstate draw_aa12

  set x 215
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 220
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 139 320
  
switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 76
  state wep_drawup
  state gunpushback_display
  
  sub x 73
  add y 30
  rotatesprite x y NNORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 73
  sub y 30
  
  rotatesprite x y 40960 WEAP_DISP_TEMP2 13313 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
 
  displayrandvar M60FLASH 2048
  sub x 45
  sub y 30
  rotatespritea x y 18000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 45
  add y 30
  
  sub x 73
  add y 30
  rotatesprite x y NNORMALSIZE 0 C_ARM_2 0 106 0 windowx1 windowy1 windowx2 windowy2
  add x 73
  sub y 30
  
  rotatesprite x y 40960 0 13320 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  state gunpushback_display
  sub x 45
  sub y 30
  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 45
  add y 30
  
  sub x 73
  add y 30
  rotatesprite x y NNORMALSIZE 0 C_ARM_2 0 107 0 windowx1 windowy1 windowx2 windowy2
  add x 73
  sub y 30
  
  rotatesprite x y 40960 0 13320 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 10
case 11
case 12
case 47
case 48
case 49
case 50
case 51
  rotatesprite x y 40960 0 13314 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
sub x 65
add y 55
	rotatesprite x y 49152 1088 CHOLDING_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 16
  rotatesprite x y 40960 0 13315 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	sub x 65
	add y 55
	rotatesprite x y 49152 1024 CHOLDING_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 42
case 43
case 44
case 45
case 46
  rotatesprite x y 40960 32 13315 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
sub x 68
add y 55
	rotatesprite x y 49152 1056 CHOLDING_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 21
case 22
case 23
case 39
case 40
case 41
  rotatesprite x y 40960 0 13316 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 36
case 37
case 38
  rotatesprite x y 40960 0 13316 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
  rotatesprite x y 40960 0 13317 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
// NOT USED YET
case 52
case 53
case 54
case 55
case 56
case 71
case 72
case 73
case 74
case 75
  add y 5
  rotatesprite x y 40960 0 13318 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 57
case 58
case 59
case 60
case 68
case 69
case 70
  rotatesprite x y 40960 0 13319 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 61
case 62
case 63
case 64
  rotatesprite x y 40960 0 13320 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 65
case 66
case 67
  rotatesprite x y 40960 -64 13320 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ===========================================================================================================================
// Bombshell's M99
// ===========================================================================================================================

defstate display_M99

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 150 320
    
  ifg SCOPE 0 { add x 40 add y 40 set WEAP_DISP_TEMP9 NORMALSIZE }
else set WEAP_DISP_TEMP9 FNFAL_SIZE

switch weaponcount
case 0
case 1
case 4
case 5
  ife player[].weapon_pos 9 sound SELECT_WEAPON2
  state wep_drawup
  state gunpushback_display
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 15080 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
   displayrandvar GUN_PUSHBACK_DISPLAY 5
   add GUN_PUSHBACK_DISPLAY 40
   ife KICKBACKPIC 3
   {
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  }

    displayrandvar M60FLASH 2048
	sub x 60
	sub y 40
	state random_AR_flash
	rotatespritea x y 26638 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	add x 60
	add y 40
  rotatesprite x y WEAP_DISP_TEMP9 0 15081 0 0 0 windowx1 windowy1 windowx2 windowy2
  

  break
case 6
case 7
case 8
case 18
case 19
case 20
  state gunpushback_display
  rotatesprite x y WEAP_DISP_TEMP9 0 15082 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 15
case 16
case 17
  state gunpushback_display
  rotatesprite x y WEAP_DISP_TEMP9 16 15083 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
  state gunpushback_display
  rotatesprite x y WEAP_DISP_TEMP9 32 15084 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// =============================================================================================================================
// Snowfall's pistol
// =============================================================================================================================

defstate draw_hblaster

ifand GUNFIREMODE 64 // doubled up?
{

  set x 103
  sub x WEAPSWAYX
  sub x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch KICKBACKPIC_2
case 0
case 1
case 4
  set WEAP_DISP_TEMP6 player[].weapon_pos
  mulvar WEAP_DISP_TEMP6 -20
  add WEAP_DISP_TEMP6 1024
  rotatesprite x y 40960 WEAP_DISP_TEMP6 20800 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar WEAP_DISP_TEMP 10
  sub x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
	sub y 35
	add x 30
  displayrandvar M60FLASH 2048
  rotatespritea x y INVENSIZE M60FLASH 3605 0 1 33 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  sub x 30
  rotatesprite x y 40960 1024 20801 0 wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
  set WEAP_DISP_TEMP6 player[].weapon_pos
  mulvar WEAP_DISP_TEMP6 -20
  add WEAP_DISP_TEMP6 1024
  rotatesprite x y 40960 WEAP_DISP_TEMP6 20800 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
endswitch
}

  set x 213
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 4
  
  ife player[].weapon_pos 9 sound SELECT_PISTOL
  state wep_drawup
  ifg GUN_CHARGE 0
	{
	 displayrandvar WEAP_DISP_TEMP 10

	set WEAP_DISP_TEMP2 GUN_CHARGE
	div WEAP_DISP_TEMP2 10
	clamp WEAP_DISP_TEMP 0 WEAP_DISP_TEMP2
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP		
	sub y 35
	sub x 30
  displayrandvar M60FLASH 2048
  set WEAP_DISP_TEMP3 256
  mul WEAP_DISP_TEMP3 GUN_CHARGE
  rotatespritea x y WEAP_DISP_TEMP3 M60FLASH 3605 0 0 33 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 30
	}
  rotatesprite x y 40960 WEAP_DISP_TEMP2 20800 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  /*
  ifg GUN_CHARGE 0
	{
	ifg GUN_CHARGE 89 set tilenum 20801
	else ifg GUN_CHARGE 59 set tilenum 21215
	else ifg GUN_CHARGE 29 set tilenum 21214	
	else set tilenum 3587
	rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum 0 0 0 windowx1 windowy1 windowx2 windowy2
	}
  */
  break
case 2
case 3
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
	sub y 35
	sub x 30
  displayrandvar M60FLASH 2048
  rotatespritea x y INVENSIZE M60FLASH 3605 0 1 33 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 30
  rotatesprite x y 40960 0 20801 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
  rotatesprite x y 40960 0 20800 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// =============================================================================================================================
// Snowfall's Shotgun
// =============================================================================================================================

defstate draw_sf_shotgun

ifand GUNFIREMODE_2 64
{

  set x 113
  sub x WEAPSWAYX
  sub x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch KICKBACKPIC_2
case 0
case 1
case 4
 state wep_drawup_rev
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 WEAP_DISP_TEMP2 tilenum shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  sub x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
	sub y 35
	add x 40
  displayrandvar M60FLASH 2048
  rotatespritea x y INVENSIZE M60FLASH 16114 0 0 289 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  sub x 40
  ifand SNOWFALL_UPGRADE 16 set tilenum 20820 else set tilenum 20818
  rotatesprite x y 47152 1024 tilenum 0 wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
case 5
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 1040 tilenum shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
case 6
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 1056 tilenum shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
case 7
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 1024 tilenum shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
case 8
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 992 tilenum shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
endswitch

}

  set x 213
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 4
  state wep_drawup
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 WEAP_DISP_TEMP2 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
	sub y 35
	sub x 50
  displayrandvar M60FLASH 2048
  rotatespritea x y INVENSIZE M60FLASH 16114 0 0 545 -255 windowx1 windowy1 windowx2 windowy2
  add y 35
  add x 50
  ifand SNOWFALL_UPGRADE 16 set tilenum 20820 else set tilenum 20818
  rotatesprite x y 47152 0 tilenum 0 wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 5
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 16 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 6
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 32 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 7
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 0 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 8
  state gunpushback_display
  ifand SNOWFALL_UPGRADE 16 set tilenum 20819 else set tilenum 20817
  rotatesprite x y 47152 -32 tilenum shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// =============================================================================================================================
// Snowfall's AR
// =============================================================================================================================

defstate draw_SF_AR

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  add y looking_arc
  sub y gun_pos
  
  ife SCOPE 1 
	{
	add y 15
	add x 15
	}

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  sub x 65
  add y 25
  rotatesprite x y M4A1_SIZE 0 20813 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 65
  sub y 25
  rotatesprite x y 40960 WEAP_DISP_TEMP2 20823 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  
  sub x 65
  add y 25
  rotatesprite x y M4A1_SIZE 0 20813 0 106 0 windowx1 windowy1 windowx2 windowy2
  add x 65
  sub y 25
  
  sub x 50
  sub y 26
 state random_AR_flash
	  rotatespritea x y 23000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 50
  add y 26
  rotatesprite x y 40960 0 20824 0 0 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 50
case 51
  rotatesprite x y 40960 0 20823 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 47
case 48
case 49
  rotatesprite x y 40960 16 20825 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 44
case 45
case 46
  rotatesprite x y 40960 32 20826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
add y 10
  rotatesprite x y 40960 48 20826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
add y 10
  rotatesprite x y 40960 64 20826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 25
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y NORMALSIZE 0 20813 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 26
add y 15
  rotatesprite x y 40960 68 20827 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
case 36
case 40
case 41
case 42
case 43 
add y 10
  rotatesprite x y 40960 68 20826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  add y 20
  rotatesprite x y 40960 58 20826 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// =============================================================================================================================
// Snowfall's TAR
// =============================================================================================================================

defstate draw_SF_TAR

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 237
  sub y WEAPSWAYY
  add y looking_arc
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 20807 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 65
  add y 20
  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 65
  sub y 20
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 10
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
  sub x 60
  sub y 36
 state random_AR_flash
	  rotatespritea x y 23000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 60
  add y 36
  rotatesprite x y 40960 0 20808 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    sub x 65
  add y 20
  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add x 65
  sub y 20
  break
case 4
case 50
case 51
  rotatesprite x y 40960 0 20807 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 47
case 48
case 49
  rotatesprite x y 40960 16 20807 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 44
case 45
case 46
  rotatesprite x y 40960 32 20809 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
add y 10
  rotatesprite x y 40960 48 20810 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 16
case 17
case 18
case 19
case 20
case 21
case 22
add y 10
  rotatesprite x y 40960 64 20810 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 25
  set WEAP_DISP_TEMP KICKBACKPIC
  mulvar WEAP_DISP_TEMP 3
  sub x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  rotatesprite x y NORMALSIZE 0 20813 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 26
add y 15
  rotatesprite x y 40960 68 20810 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 27
case 28
case 29
case 30
case 31
case 32
case 33
case 34
case 35
case 36
case 40
case 41
case 42
case 43 
add y 10
  rotatesprite x y 40960 68 20811 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 37
case 38
case 39
  add y 20
  rotatesprite x y 40960 58 20812 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// ===============================================================================================================
// Snowfall's RPG
// ===============================================================================================================

defstate draw_sf_rocket

  set x 235
  set WEAP_DISP_TEMP4 WEAPSWAYX
  divvar WEAP_DISP_TEMP4 2
  sub x WEAP_DISP_TEMP4
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

switch weaponcount
case 0
case 3
case 10
case 11
case 12
case 13
case 14
case 15
case 16
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 20832 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
  sub x 48
  sub y 55
 displayrandvar M60FLASH 2048
  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 48
  add y 55
  rotatesprite x y 40960 0 20833 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
case 8
case 9
  add x KICKBACKPIC
  add y KICKBACKPIC
  set GUN_PUSHBACK_DISPLAY KICKBACKPIC
  rotatesprite x y 40960 0 20832 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
 
ends

// ===============================================================================================================
// Snowfall's cannon
// ===============================================================================================================

defstate draw_sf_cannon

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 235
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  state wep_drawup
  state gunpushback_display
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 20847 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ife CURWEAP 11 rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 20848 0 1 0 -255 windowx1 windowy1 windowx2 windowy2
  else rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 20848 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
  sub x 15
  sub y 10
  ife CURWEAP 11
  {
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 20858 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 20859 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  }
  else
  {
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 20849 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 20850 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  }
  break
case 4
case 5
  sub x 15
  sub y 10
  ife CURWEAP 11
  {
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 20858 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 8
  sub y 8
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 20860 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  }
  else
  {
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 20849 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  sub x 8
  sub y 8
  rotatespritea x y NORMALSIZE WEAP_DISP_TEMP2 20851 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  }  
  break
case 6
case 7
  set GUN_PUSHBACK_DISPLAY 10
  state gunpushback_display
  rotatesprite x y NORMALSIZE 0 20847 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y NORMALSIZE 0 20848 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 26
case 27
case 28
  state gunpushback_display
  add x 3
  sub y 10
  rotatesprite x y NORMALSIZE 0 20852 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  state gunpushback_display
  add x 6
  sub y 10
  rotatesprite x y NORMALSIZE 0 20853 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  state gunpushback_display
  add x 9
  sub y 10
  ife wep_pal 0 { ife CURWEAP 11 set wep_pal 3 else set wep_pal 22 }
  rotatesprite x y NORMALSIZE 0 20854 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
  state gunpushback_display
    add x 12
  sub y 10
  ife wep_pal 0 { ife CURWEAP 11 set wep_pal 3 else set wep_pal 22 }
  rotatesprite x y NORMALSIZE 0 20855 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 20
case 21
case 22
  state gunpushback_display
    add x 15
  sub y 10
  ife wep_pal 0 { ife CURWEAP 11 set wep_pal 3 else set wep_pal 22 }
  rotatesprite x y NORMALSIZE 0 20856 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
  state gunpushback_display
    add x 18
  sub y 10
  ife wep_pal 0 { ife CURWEAP 11 set wep_pal 3 else set wep_pal 22 }
  rotatesprite x y NORMALSIZE 0 20857 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// ===============================================================================================================
// Snowfall's lightning gun
// ===============================================================================================================

defstate draw_sf_lightning

  set x 210
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 232
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 153 320
  
  ifg SCOPE 0
  {
  set WEAP_DISP_TEMP 10
  mul WEAP_DISP_TEMP ZOOMAMOUNT
   add x WEAP_DISP_TEMP
   add y WEAP_DISP_TEMP
   }

switch weaponcount
case 0
case 1
case 2
case 16
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 20836 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
	displayrandvar M60FLASH 2048
  sub x 50
  sub y 50
  rotatespritea x y DOUBLESIZE M60FLASH 8623 0 1 33 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball glow
  rotatespritea x y DOUBLESIZE M60FLASH 6197 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 // Lightning ball
  add x 50
  add y 50
  rotatesprite x y 40960 0 20837 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
  state gunpushback_display
  rotatesprite x y 40960 0 20837 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 7
  set GUN_PUSHBACK_DISPLAY 15
  state gunpushback_display
  rotatesprite x y 40960 0 20836 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
  state gunpushback_display
  rotatesprite x y 40960 0 20836 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 12
case 13
  state gunpushback_display
  rotatesprite x y 40960 0 20836 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
  state gunpushback_display
  rotatesprite x y 40960 0 20836 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
ends

// ===============================================================================================================
// Snowfall's HMG
// ===============================================================================================================

defstate draw_sf_hmg

  set x 220
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  clamp y 145 320

switch weaponcount
case 0
case 1
case 4
  ife player[].weapon_pos 8 soundonce SF_HMG_SEL
  state wep_drawup
  state gunpushback_display
  rotatesprite x y 40960 WEAP_DISP_TEMP2 20828 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
set GUN_PUSHBACK_DISPLAY 6
state random_AR_flash
	sub x 40
	sub y 30
	rotatespritea x y 30000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	add x 40
	add y 30
  rotatesprite x y 40960 0 20829 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// JANE's handlaser

defstate draw_handlaser

  set x 213
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 4
case 5
case 6
case 7
case 8
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12903 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
 displayrandvar WEAP_DISP_TEMP 5
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
	ifand GUNFIREMODE 32768 set WEAP_DISP_TEMP 2 else set WEAP_DISP_TEMP 1
	sub y 20
	sub x 10
  displayrandvar M60FLASH 2048
  rotatespritea x y NORMALSIZE M60FLASH 8623 0 WEAP_DISP_TEMP 33 -255 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y F_SIZE M60FLASH 8623 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  rotatesprite x y NORMALSIZE 0 12904 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
 displayrandvar WEAP_DISP_TEMP 10
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
	ifand GUNFIREMODE 32768 set WEAP_DISP_TEMP 2 else set WEAP_DISP_TEMP 1
	sub y 20
	sub x 10
  displayrandvar M60FLASH 2048
  rotatespritea x y 80000 M60FLASH 8623 0 WEAP_DISP_TEMP 33 -255 windowx1 windowy1 windowx2 windowy2
  rotatespritea x y 70000 M60FLASH 8623 0 WEAP_DISP_TEMP 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  rotatesprite x y NORMALSIZE 0 12921 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// JANE's cluster bomb

defstate draw_handbomb

  set x 213
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12903 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
add x 5
add y 5
  rotatesprite x y NORMALSIZE 0 12903 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
case 18
case 19
case 20
add x 5
add y 5
  rotatesprite x y NORMALSIZE 0 12904 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 11
case 12
case 16
case 17
add x 7
add y 7
  rotatesprite x y NORMALSIZE 0 12904 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
add x 10
add y 10
	sub y 20
	sub x 10
  displayrandvar M60FLASH 2048
  rotatespritea x y 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 10
  rotatesprite x y NORMALSIZE 0 12920 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// JANE'S PLASMA GUN===============================================================================================================

defstate drawlplasma

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 1
case 2
case 3
displayrandvar WEAP_DISP_TEMP3 7
add y WEAP_DISP_TEMP3
add x WEAP_DISP_TEMP3
	sub y 25
	sub x 50
  displayrandvar M60FLASH 2048
  rotatespritea x y 66638 M60FLASH 5372 0 0 1 -255 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 50
  rotatesprite x y NORMALSIZE 0 12890 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 12895 0 0 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 12894 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 0
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12889 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  getp[].random_club_frame WEAP_DISP_TEMP
   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
   divvar WEAP_DISP_TEMP 1024 // 2^10
   add WEAP_DISP_TEMP 16 
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12895 WEAP_DISP_TEMP 0 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12894 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// JANE'S BLASTER===============================================================================================================

defstate drawlblaster

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 1
add y 5
add x 5
case 2
case 3
sub x 5
sub y 5
	sub y 25
	sub x 50
  displayrandvar M60FLASH 2048
  rotatespritea x y 96638 M60FLASH 6197 0 WEAP_DISP_TEMP 1 -255 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 50
case 4
case 0
case 26
  state wep_drawup
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12893 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12894 shade wep_pal 33 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 23
case 24
case 25
  rotatesprite x y NORMALSIZE 0 12896 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 8
case 9
case 10
case 20
case 21
case 22
  rotatesprite x y NORMALSIZE 0 12897 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
case 17
case 18
case 19
  rotatesprite x y NORMALSIZE 0 12898 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  rotatesprite x y NORMALSIZE 0 12899 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// M249===============================================================================================================

defstate L_M249CHAIN1
getp[].ammo_amount 9 WEAP_DISP_TEMP6
ife WEAP_DISP_TEMP6 9 set tilenum 6895 else
ife WEAP_DISP_TEMP6 8 set tilenum 6896 else
ife WEAP_DISP_TEMP6 7 set tilenum 6897 else
ife WEAP_DISP_TEMP6 6 set tilenum 6898 else
ife WEAP_DISP_TEMP6 5 set tilenum 6899 else
ife WEAP_DISP_TEMP6 4 set tilenum 6900 else
ife WEAP_DISP_TEMP6 3 set tilenum 6901 else
ife WEAP_DISP_TEMP6 2 set tilenum 6902 else
ife WEAP_DISP_TEMP6 1 set tilenum 6903 else
ife WEAP_DISP_TEMP6 0 set tilenum 6903 else
set tilenum 5180
ends

defstate L_M249CHAIN2
getp[].ammo_amount 9 WEAP_DISP_TEMP6
ife WEAP_DISP_TEMP6 9 set tilenum 6904 else
ife WEAP_DISP_TEMP6 8 set tilenum 6905 else
ife WEAP_DISP_TEMP6 7 set tilenum 6906 else
ife WEAP_DISP_TEMP6 6 set tilenum 6907 else
ife WEAP_DISP_TEMP6 5 set tilenum 6908 else
ife WEAP_DISP_TEMP6 4 set tilenum 6909 else
ife WEAP_DISP_TEMP6 3 set tilenum 6910 else
ife WEAP_DISP_TEMP6 2 set tilenum 6911 else
ife WEAP_DISP_TEMP6 1 set tilenum 6903 else
ife WEAP_DISP_TEMP6 0 set tilenum 6903 else
set tilenum 5181
ends

defstate drawl_m249

displayrandvar WEAP_DISP_TEMP6 10

switch weaponcount
case 0
  set x 250
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  ife player[].weapon_pos 8 soundonce DRAW_BIGGUN
  state wep_drawup
  state gunpushback_display
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 12916 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
state L_M249CHAIN1
  sub x 70
  add y 20
  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 4
set GUN_PUSHBACK_DISPLAY 6
  set x 180
  add x WEAP_DISP_TEMP6
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 190
  add y WEAP_DISP_TEMP6
  add y looking_arc
  sub y gun_pos
state random_AR_flash
	rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
//GUN
  set x 252
  add x WEAP_DISP_TEMP6
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 242
  add y WEAP_DISP_TEMP6
  add y looking_arc
  sub y gun_pos
  myospal x y 12917 gs 0 wep_pal
state L_M249CHAIN1
  sub x 70
  add y 20
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 3
set GUN_PUSHBACK_DISPLAY 6
  set x 180
  add x WEAP_DISP_TEMP6
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 190
  add y WEAP_DISP_TEMP6
  add y looking_arc
  sub y gun_pos
state random_AR_flash
	rotatespritea x y 22000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  set x 251
  add x WEAP_DISP_TEMP6
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 241
  add y WEAP_DISP_TEMP6
  add y looking_arc
  sub y gun_pos
  myospal x y 12917 gs 0 wep_pal
state L_M249CHAIN2
  sub x 80
  add y 20
  rotatesprite x y NORMALSIZE 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
break
endswitch
ends

// Micky's Pistol===============================================================================================================

defstate draw_metalstorm_pistol

  set x 199
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
  ifand MICKY_UPGRADE 1 { ife PISTOLMAG 0 set tilenum 16485 else set tilenum 16483 } else { ife PISTOLMAG 0 set tilenum 16480 else set tilenum 16478 }
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 33
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  ifand MICKY_UPGRADE 1 set tilenum 16484 else set tilenum 16479
  rotatesprite x y 40960 0 tilenum 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
  ifand MICKY_UPGRADE 1 set tilenum 16485 else set tilenum 16480
  rotatesprite x y 40960 8 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 8 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  ifand MICKY_UPGRADE 1 { ife PISTOLMAG 0 set tilenum 16485 else set tilenum 16483 } else { ife PISTOLMAG 0 set tilenum 16480 else set tilenum 16478 }
  rotatesprite x y 40960 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  ifand MICKY_UPGRADE 1 { ife PISTOLMAG 0 set tilenum 16485 else set tilenum 16483 } else { ife PISTOLMAG 0 set tilenum 16480 else set tilenum 16478 }
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
  ifand MICKY_UPGRADE 1 { ife PISTOLMAG 0 set tilenum 16486 else set tilenum 16487 } else { ife PISTOLMAG 0 set tilenum 16481 else set tilenum 16482 }
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 22
  sub x 6
  rotatesprite x y 65536 64 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  ifand MICKY_UPGRADE 1 { ife PISTOLMAG 0 set tilenum 16486 else set tilenum 16487 } else { ife PISTOLMAG 0 set tilenum 16481 else set tilenum 16482 }
    rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 6
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  ifand MICKY_UPGRADE 1 { ife PISTOLMAG 0 set tilenum 16486 else set tilenum 16487 } else { ife PISTOLMAG 0 set tilenum 16481 else set tilenum 16482 }
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
  ifand MICKY_UPGRADE 1 { ife PISTOLMAG 0 set tilenum2 16486 else set tilenum2 16487 } else { ife PISTOLMAG 0 set tilenum2 16481 else set tilenum2 16482 }
    rotatesprite x y 40960 96 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
    rotatesprite x y 40960 98 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 65536 162 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  ife tilenum2 16481 ife weaponcount 40 sound MC_PISTOL_SLIDE
  ife tilenum2 16486 ife weaponcount 40 sound MC_PISTOL_SLIDE
  ifand MICKY_UPGRADE 1 set tilenum 16487 else set tilenum 16482
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// Micky's Gold Pistol===============================================================================================================

defstate draw_gold_metalstorm_pistol

  set x 199
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
 ife PISTOLMAG 0 set tilenum 16556 else set tilenum 16554
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 33
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  rotatesprite x y 40960 0 16555 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
 set tilenum 16556
  rotatesprite x y 40960 8 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 8 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  ife PISTOLMAG 0 set tilenum 16556 else set tilenum 16554
  rotatesprite x y 40960 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  ife PISTOLMAG 0 set tilenum 16556 else set tilenum 16554
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 25
  add x 8
  rotatesprite x y 65536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
  ife PISTOLMAG 0 set tilenum 16557 else set tilenum 16558
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 22
  sub x 6
  rotatesprite x y 65536 64 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  ife PISTOLMAG 0 set tilenum 16557 else set tilenum 16558
    rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 6
  rotatesprite x y 65536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  ife PISTOLMAG 0 set tilenum 16557 else set tilenum 16558
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
  ife PISTOLMAG 0 set tilenum2 16557 else set tilenum2 16558
    rotatesprite x y 40960 96 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 65536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
    rotatesprite x y 40960 98 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 65536 162 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  ife tilenum2 16557 ife weaponcount 40 sound MC_PISTOL_SLIDE
  ife tilenum2 16486 ife weaponcount 40 sound MC_PISTOL_SLIDE
  set tilenum 16558
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 65536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// Micky's Longslide===============================================================================================================

defstate draw_longside

   set x 199
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
  set WEAP_DISP_TEMP2 player[].weapon_pos
  ife WEAP_DISP_TEMP2 8 soundonce SELECT_PISTOL
  state wep_drawup
  state gunpushback_display
 ife PISTOLMAG 0 set tilenum 17985 else set tilenum 17983
  rotatesprite x y 40960 WEAP_DISP_TEMP2 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 8
  rotatesprite x y 52536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
displayrandvar GUN_PUSHBACK_DISPLAY 15
add x GUN_PUSHBACK_DISPLAY
add y GUN_PUSHBACK_DISPLAY
  displayrandvar M60FLASH 2048
  sub y 40
  sub x 33
  rotatespritea x y 16000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add y 40
  add x 33
  rotatesprite x y 40960 0 17984 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 8
  rotatesprite x y 52536 0 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
case 4
  state gunpushback_display
 set tilenum 17985
  rotatesprite x y 40960 8 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 8
  rotatesprite x y 52536 8 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 7
case 8
case 9
case 10
  add y 5
  ife PISTOLMAG 0 set tilenum 17985 else set tilenum 17983
  rotatesprite x y 40960 16 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 8
  rotatesprite x y 52536 16 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 13
  add y 7
  ife PISTOLMAG 0 set tilenum 17985 else set tilenum 17983
  rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  add x 8
  rotatesprite x y 52536 0 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 14
case 15
case 16
  add y 7
  ife weaponcount 16 add y 5
  ife PISTOLMAG 0 set tilenum 17986 else set tilenum 17987
    rotatesprite x y 40960 0 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 22
  sub x 6
  rotatesprite x y 52536 64 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
  ife PISTOLMAG 0 set tilenum 17986 else set tilenum 17987
    rotatesprite x y 40960 32 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 20
  sub x 6
  rotatesprite x y 52536 96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 24
case 25
case 26
case 27
case 28
case 29
case 30
  add y 5
  ife PISTOLMAG 0 set tilenum 17986 else set tilenum 17987
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 52536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 31
case 32
case 33
case 34
    ife weaponcount 32 add y 5
  ife PISTOLMAG 0 set tilenum2 17986 else set tilenum2 17987
    rotatesprite x y 40960 96 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 52536 160 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 35
case 36
case 37
case 38
    rotatesprite x y 40960 98 tilenum2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 14
  sub x 8
  rotatesprite x y 52536 162 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 39
case 40
case 41
case 42
case 43
  add y 5
  ife tilenum2 17986 ife weaponcount 40 sound S1911_SLIDE
  set tilenum 17987
    rotatesprite x y 40960 64 tilenum shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  add y 18
  sub x 8
  rotatesprite x y 52536 128 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// Micky's tec-smg===============================================================================================================

defstate draw_tecsmg

  set x 225
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  clamp y 143 320
  
 ifand GUNFIREMODE 16384 
	{
	add x 15 
	add y 15
	}

switch weaponcount
case 0
case 1
case 35
case 4
case 5
    ife player[].weapon_pos 9 sound SELECT_PISTOL
	state wep_drawup
	rotatesprite x y 40960 WEAP_DISP_TEMP2 19879 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 2
	  sub y 15
	  sub x 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 18000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add y 15
	  add x 30
	add x 2
	add y 2
	  rotatesprite x y 40960 0 19875 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 3
	add x 4
	add y 4
	  rotatesprite x y 40960 0 19879 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 6
	rotatesprite x y 40960 16 19879 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 7
	rotatesprite x y 40960 32 19879 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 8
case 9
	rotatesprite x y 40960 0 19876 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 10
case 11
	sub y 10
	rotatesprite x y 40960 0 19876 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 12
case 13
	sub y 15
	rotatesprite x y 40960 0 19876 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 14
case 15
	sub y 20
	rotatesprite x y 40960 0 19876 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 16
case 17
	sub y 20
	rotatesprite x y 40960 0 19877 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 18
case 19
	sub y 20
	rotatesprite x y 40960 0 19877 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 20
case 21
	sub y 20
	rotatesprite x y 40960 0 19877 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 22
case 23
case 24
case 28
case 29
case 30
	rotatesprite x y 40960 0 19876 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 25
case 26
case 27
	add y 5
	rotatesprite x y 40960 0 19876 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 31
case 32
	 rotatesprite x y 40960 32 19876 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
case 33
case 34
	rotatesprite x y 40960 16 19879 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	break
endswitch
ends

// MICKY'S Pulsegun ===============================================================================================================

defstate draw_mc_shotgun

  set x 207
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifand SCOPE 1 { add x 20 add y 20 set WEAP_DISP_TEMP9 55056 }
else set WEAP_DISP_TEMP9 49151  
  

switch weaponcount
case 0
case 3
case 4
  ife player[].weapon_pos 9 sound SELECT_WEAPON
  state wep_drawup
  rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 16468 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
   ifand MICKY_UPGRADE 2 rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 16473 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
case 2
 displayrandvar WEAP_DISP_TEMP 5
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  sub x 6
  sub y 30
 displayrandvar M60FLASH 2048
  rotatespritea x y 18000 M60FLASH 16113 0 11 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 6
  add y 30
  rotatesprite x y WEAP_DISP_TEMP9 0 16469 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MICKY_UPGRADE 2 rotatesprite x y WEAP_DISP_TEMP9 0 16517 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 31
case 32
  rotatesprite x y 49151 0 16470 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MICKY_UPGRADE 2 rotatesprite x y 49151 0 16474 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 29
case 30
  rotatesprite x y 49151 25 16470 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MICKY_UPGRADE 2 rotatesprite x y 49151 25 16474 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 27
case 28
  rotatesprite x y 49151 0 16471 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MICKY_UPGRADE 2 rotatesprite x y 49151 0 16475 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 25
case 26
  rotatesprite x y 49151 -15 16471 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MICKY_UPGRADE 2 rotatesprite x y 49151 -15 16475 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 23
case 24
  rotatesprite x y 49151 0 16472 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MICKY_UPGRADE 2 rotatesprite x y 49151 0 16475 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 21
case 22
  rotatesprite x y 49151 -15 16472 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MICKY_UPGRADE 2 rotatesprite x y 49151 -15 16475 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
  sub x 5
  sub y 10
  rotatesprite x y 49151 -25 16472 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  ifand MICKY_UPGRADE 2 rotatesprite x y 49151 -25 16475 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// MICKY'S Gold shotgun ===============================================================================================================

defstate draw_mc_gold_shotgun

  set x 247
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 230
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  


switch weaponcount
case 0
case 1
case 4
  state wep_drawup
  ife player[].weapon_pos 9 sound SELECT_WEAPON
  state gunpushback_display
	sub x 72
	add y 50
	rotatesprite x y 45056 0 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 72
	sub y 50
  rotatesprite x y 45056 WEAP_DISP_TEMP2 19831 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
    sub x 5
  sub y 45
  state gold_sparkle
  add x 5
  add y 45
  break
case 2
case 3
 displayrandvar GUN_PUSHBACK_DISPLAY 5
  add x GUN_PUSHBACK_DISPLAY
  add y GUN_PUSHBACK_DISPLAY
		  sub x 46
		  sub y 30
		 displayrandvar M60FLASH 2048
		  rotatespritea x y 26000 M60FLASH 16115 0 2 0 -255 windowx1 windowy1 windowx2 windowy2
		  add x 46
		  add y 30
	sub x 72
	add y 50
	rotatesprite x y 45056 0 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 72
	sub y 50
  rotatesprite x y 45056 0 19832 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
case 31
case 32
	sub x 72
	add y 50
	rotatesprite x y 45056 0 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 72
	sub y 50
  rotatesprite x y 45056 0 19831 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 29
case 30
	sub x 80
	add y 50
	rotatesprite x y 45056 25 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 80
	sub y 50
  rotatesprite x y 45056 25 19831 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 27
case 28
	sub x 77
	add y 40
	rotatesprite x y 45056 25 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 77
	sub y 40
  rotatesprite x y 45056 0 19833 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 11
case 12
case 25
case 26
	sub x 77
	add y 42
	rotatesprite x y 45056 10 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 77
	sub y 42
  rotatesprite x y 45056 -15 19833 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 23
case 24
  sub y 10
	sub x 72
	add y 32
	rotatesprite x y 45056 10 9008 shade wep_pal 8 windowx1 windowy1 windowx2 windowy2
	add x 72
	sub y 32
  rotatesprite x y 45056 0 19834 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 21
case 22
  sub y 15
	sub x 67
	add y 52
	rotatesprite x y 45056 10 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 67
	sub y 52
  rotatesprite x y 45056 -15 19835 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 17
case 18
case 19
case 20
  sub x 5
  sub y 20
  	sub x 67
	add y 52
	rotatesprite x y 45056 0 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 67
	sub y 52
  rotatesprite x y 45056 -15 19835 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

ends

// MICKY'S WHIPLASH SHOTGUNS ==================================================================================================

defstate draw_mc_whiplash_2

  set x 97
  sub x WEAPSWAYX
  sub x weapon_xoffset
  add x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch KICKBACKPIC_2
case 0
case 1
case 21
  state wep_drawup_rev
  rotatesprite x y 32672 WEAP_DISP_TEMP2 18020 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	sub x 5
	add y 20
	add WEAP_DISP_TEMP2 96
	rotatesprite x y NNORMALSIZE WEAP_DISP_TEMP2 C_PISTOL_1 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar WEAP_DISP_TEMP 5
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  add x 42
  sub y 40
 displayrandvar M60FLASH 2048
  rotatespritea x y 26638 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  sub x 42
  add y 40
  rotatesprite x y 32672 1024 18021 0 wep_pal 4 windowx1 windowy1 windowx2 windowy2
	sub x 5
	add y 20
	rotatesprite x y NNORMALSIZE 1120 C_PISTOL_1 0 107 4 windowx1 windowy1 windowx2 windowy2
  break
case 4
  rotatesprite x y 32672 1024 18022 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
  rotatesprite x 100 32672 1024 18023 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
	sub x 30
	rotatesprite x 170 NNORMALSIZE 1024 CHOLDING_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
  rotatesprite 34 137 32672 1024 18024 shade wep_pal 260 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10 
case 11
  rotatesprite x y 32672 1024 18025 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
  rotatesprite x y 32672 1024 18026 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
  rotatesprite x y 32672 1024 18027 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
  rotatesprite x y 32672 1024 18028 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
  
ends

defstate draw_mc_whiplash

  set x 227
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
switch weaponcount
case 0
case 1
case 21
  ife player[].weapon_pos 8 sound WHIPLASH_LOAD2
  state wep_drawup
  rotatesprite x y 32672 WEAP_DISP_TEMP2 18020 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 5
	add y 20
	rotatesprite x y NNORMALSIZE -96 C_PISTOL_1 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
case 3
 displayrandvar WEAP_DISP_TEMP 5
  add x WEAP_DISP_TEMP
  add y WEAP_DISP_TEMP
  sub x 42
  sub y 40
 displayrandvar M60FLASH 2048
  rotatespritea x y 26638 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 42
  add y 40
  rotatesprite x y 32672 0 18021 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 5
	add y 20
	rotatesprite x y NNORMALSIZE -96 C_PISTOL_1 0 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
  rotatesprite x y 32672 0 18022 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 6
  rotatesprite x 100 32672 0 18023 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 30
	rotatesprite x 170 NNORMALSIZE 0 CHOLDING_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
  rotatesprite 287 137 32672 0 18024 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10 
case 11
  rotatesprite x y 32672 0 18025 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 12
case 13
case 14
  rotatesprite x y 32672 0 18026 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 15
case 16
case 17
  rotatesprite x y 32672 0 18027 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
  rotatesprite x y 32672 0 18028 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
 endswitch
 
ifand GUNFIREMODE_2 64 state draw_mc_whiplash_2
 
ends
 
// MICKY'S AR ===============================================================================================================

defstate draw_mc_ar

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 257
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifand GUNFIREMODE 16384 { add y 15 add x 15 }
    
ifand GUNFIREMODE 32768 // Using the AR's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 state wep_drawup
 rotatesprite x y 45152 WEAP_DISP_TEMP2 16489 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 45152 0 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 45152 32 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 45152 32 16509 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 45152 0 16508 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 90
		add y 5		
		rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 45152 64 16508 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 105
		
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 45152 0 16508 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 45152 32 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
	  
 rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

 rotatesprite x y 45152 0 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 45152 WEAP_DISP_TEMP2 16490 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using AR's mainfiring mode
	{
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	  state tempm16_arm
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		rotatesprite x y 45152 WEAP_DISP_TEMP2 16489 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 2
	displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  sub x 55
	  sub y 50
	  state random_AR_flash
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 50
	   state tempm16_arm
	  rotatesprite x y 45152 0 16490 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 16492 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  sub x 75
	  add y 15
	  rotatesprite x y NORMALSIZE 96 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break 
	case 18
	case 19
	case 20
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 16493 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 	
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 16494 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 16491 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

defstate draw_mc_ar_gl

  set x 245
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 257
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
  ifand GUNFIREMODE 16384 { add y 15 add x 15 }
    
ifand GUNFIREMODE 32768 // Using the M16's GL?
switch GL_COUNTDOWN 
case 0
case 43
case 42
case 41
 state wep_drawup
 rotatesprite x y 45152 WEAP_DISP_TEMP2 17990 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 1
case 2
case 3
case 4
 rotatesprite x y 45152 0 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 5
case 6
case 7
case 8
 rotatesprite x y 45152 32 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 9
case 10
case 11
case 12
case 13
 rotatesprite x y 45152 32 17996 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 14
case 15
case 16
 rotatesprite x y 45152 0 17995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		sub x 90
		add y 5		
		rotatesprite x y NORMALSIZE 1024 C_HAND_2 shade wep_pal 4 windowx1 windowy1 windowx2 windowy2
 break
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
case 26
case 27
case 28
case 29
 rotatesprite x y 45152 64 17995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		set WEAP_DISP_TEMP7 GL_COUNTDOWN
		mulvar WEAP_DISP_TEMP7 2
		sub WEAP_DISP_TEMP7 20
		add y WEAP_DISP_TEMP7
		sub x 105
		
		rotatesprite x y NORMALSIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		ifand AMMO_TYPES[CURWEAP] 32 rotatesprite x y NORMALSIZE 0 16124 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 128 rotatesprite x y NORMALSIZE 0 16125 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else ifand AMMO_TYPES[CURWEAP] 256 rotatesprite x y NORMALSIZE 0 16126 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
		else rotatesprite x y NORMALSIZE 0 16123 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 30
case 31
case 32
 rotatesprite x y 45152 0 17995 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 33
case 34
case 35
case 36
 rotatesprite x y 45152 32 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 37
case 38
case 39
case 40
	  
 rotatesprite x y NORMALSIZE 0 C_ARM_2 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

 rotatesprite x y 45152 0 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
case 44
case 45
case 46
case 47
case 48
		set WEAP_DISP_TEMP6 x
		sub WEAP_DISP_TEMP6 58
		set WEAP_DISP_TEMP7 y
		sub WEAP_DISP_TEMP7 52
		displayrandvar M60FLASH 2048
		rotatespritea WEAP_DISP_TEMP6 WEAP_DISP_TEMP7 14000 M60FLASH 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
		rotatesprite x y 45152 WEAP_DISP_TEMP2 17991fr shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
 break
endswitch
else // using AR's mainfiring mode
	{
	switch weaponcount
	case 0
	case 1
	case 3
	case 4
	  state tempm16_arm
		ife player[].weapon_pos 9 soundonce SELECT_WEAPON
		state wep_drawup
		rotatesprite x y 45152 WEAP_DISP_TEMP2 17990 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 2
	displayrandvar WEAP_DISP_TEMP 5
	  add x WEAP_DISP_TEMP
	  add y WEAP_DISP_TEMP
	  sub x 55
	  sub y 50
	  state random_AR_flash
	  rotatespritea x y 20000 0 M60FLASH 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 50
	   state tempm16_arm
	  rotatesprite x y 45152 0 17991 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 5
	case 6
	case 7
	case 8
	case 9
	case 10
	case 11
	case 36
	case 37
	case 38
	case 39
	case 40
	case 41
	case 42
	  rotatesprite x y 40960 0 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break
	case 12
	case 13
	case 14
	case 15
	case 16
	case 17
	case 30
	case 31
	case 32
	case 33
	case 34
	case 35
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 17993 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	case 18
	case 19
	case 20
	case 27
	case 28
	case 29
	  sub y 15
	  ife KICKBACKPIC 30 sub y 5
	  rotatesprite x y 40960 0 17994 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 	
	case 21
	case 22
	case 23
	case 24
	case 25
	case 26
	  sub y 15
	  ife KICKBACKPIC 18 add y 5
	  rotatesprite x y 40960 0 16494 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 
	  break 
	// PRESS BOLT CATCH RELOAD
	case 43
	case 61
	  rotatesprite x y 40960 0 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 44
	case 60
	  rotatesprite x y 40960 16 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 45
	case 59
	  rotatesprite x y 40960 32 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 46
	case 58
	  rotatesprite x y 40960 32 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 50
	  add y 20
	  break
	case 47
	case 57
	  rotatesprite x y 40960 32 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 55
	  add y 20
	  break
	case 48
	case 56
	  add y 5
	  rotatesprite x y 40960 48 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 49
	case 55
	  add y 10
	  rotatesprite x y 40960 64 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 50
	case 54
	  add y 15
	  rotatesprite x y 40960 76 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  add x 57
	  add y 50
	  break
	case 51
	case 53
	  add y 20
	  rotatesprite x y 40960 96 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 0 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 52
	  add y 35
	  rotatesprite x y 40960 104 17992 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  sub x 57
	  add y 18
	  rotatesprite x y M4A1_SIZE 104 CHOLDING_3 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
	}
ends

// MICKY'S ROCKET LAUNCHER ===============================================================================================================

defstate draw_mc_rocket

  set x 260
  set WEAP_DISP_TEMP4 WEAPSWAYX
  divvar WEAP_DISP_TEMP4 2
  sub x WEAP_DISP_TEMP4
  add x weapon_xoffset
  sub x looking_angSR1
  
  clamp x 261 340
      
  set y 225
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos


switch weaponcount
case 0
case 3
case 35
  rotatesprite x y 49152 0 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 16500 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
	   ifvarand GUNFIREMODE 2048
		  {
		  rotatesprite x y 49152 0 16550 0 0 512 windowx1 windowy1 windowx2 windowy2
		  state reverse_shade
		  ife WEAPON_GLOW YES rotatespritea x y 49152 0 16551 WEAP_DISP_TEMP5 0 512 -255 windowx1 windowy1 windowx2 windowy2
		  }
  
  break
case 1
case 2
  sub x 28
  sub y 55
 displayrandvar M60FLASH 2048
  rotatespritea x y 20000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 28
  add y 55
  rotatesprite x y 49152 0 16498 0 0 512 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 16500 0 107 512 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 5
case 6
case 7
  add x KICKBACKPIC
  add y KICKBACKPIC
  rotatesprite x y 49152 0 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  rotatesprite x y NORMALSIZE 0 16500 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  
	   ifvarand GUNFIREMODE 2048
		  {
		  rotatesprite x y 49152 0 16550 0 0 512 windowx1 windowy1 windowx2 windowy2
		  state reverse_shade
		  ife WEAPON_GLOW YES rotatespritea x y 49152 0 16551 WEAP_DISP_TEMP5 0 512 -255 windowx1 windowy1 windowx2 windowy2
		  }
  
  break
case 8
case 9
case 10
case 11
case 12
case 13
case 14
case 15
  add y 10
  add y KICKBACKPIC 
  set WEAP_DISP_TEMP6 KICKBACKPIC
  mulvar WEAP_DISP_TEMP6 10
  rotatesprite x y 49152 WEAP_DISP_TEMP6 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
   add y KICKBACKPIC
  sub x 180
  rotatesprite WEAP_DISP_TEMP6 y NNORMALSIZE WEAP_DISP_TEMP6 16499 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 18
case 19
case 20
case 21
case 22
case 23
case 24
case 25
  add y 26
  rotatesprite x y 49152 150 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  set WEAP_DISP_TEMP6 KICKBACKPIC
  add y KICKBACKPIC
  mulvar WEAP_DISP_TEMP6 10
  sub x 180
  rotatesprite WEAP_DISP_TEMP6 y NNORMALSIZE WEAP_DISP_TEMP6 16499 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 26
case 27
  add y 28
  rotatesprite x y 49152 155 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
  break
case 28
case 29
  add y 26
  rotatesprite x y 49152 150 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
 break
case 30
  add y 20
  rotatesprite x y 49152 120 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
break
case 31
  add y 18
  rotatesprite x y 49152 90 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
break
case 32
  add y 16
  rotatesprite x y 49152 60 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
break
case 33
  add y 14
  rotatesprite x y 49152 30 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
break
case 34
  add y 12
  rotatesprite x y 49152 0 16497 shade wep_pal 512 windowx1 windowy1 windowx2 windowy2
break
endswitch
 
ends

// MICKY'S AUTO PULSE GUN ===============================================================================================================

defstate draw_mc_auto_pulsegun

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 202
  sub y WEAPSWAYY
  add y looking_arc
  divvar gun_pos 2
  sub y gun_pos

	switch weaponcount
	case 0
	  state wep_drawup
	  rotatesprite x y 45056 WEAP_DISP_TEMP2 16523 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 1
	case 4
	case 7
	case 10
	case 13
	case 16
	case 19
	case 22
	case 24
	case 29
	case 32
	case 35
	case 38
	case 41
	case 42
	case 48
	case 49
	case 50
	  rotatesprite x y 45056 0 16520 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 2
	case 5
	case 8
	case 11
	case 14
	case 17
	case 20
	case 25
	case 30
	case 33
	case 36
	case 39
	case 43
	case 44
	case 51
	case 52
	case 53
	  rotatesprite x y 45056 0 16521 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 3
	case 6
	case 9
	case 12
	case 15
	case 18
	case 21
	case 23
	case 31
	case 34
	case 37
	case 40
	case 45
	case 46
	case 47
	case 54
	case 55
	case 56
	case 57
		rotatesprite x y 45056 0 16522 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 26
	  sub x 60
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 55000 M60FLASH 6197 0 11 1 -255 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  add y 30
	  rotatesprite x y 45056 0 16522 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 27
	  sub x 60
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 52000 M60FLASH 6197 0 8 1 -255 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  add y 30
	  rotatesprite x y 45056 0 16521 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	case 28
	  sub x 60
	  sub y 30
	  displayrandvar M60FLASH 2048
	  rotatespritea x y 55000 M60FLASH 6197 0 8 1 -255 windowx1 windowy1 windowx2 windowy2
	  add x 60
	  add y 30
	  rotatesprite x y 45056 0 16520 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
	  break
	endswitch
ends

// MICKY'S EXPLOSIVE SHOTGUN ===========================================

defstate draw_mc_exp_shot_strap
	  getp[].angvel WEAP_DISP_TEMP3
	  mulvar WEAP_DISP_TEMP3 3
	  divvar WEAP_DISP_TEMP3 2
	  set WEAP_DISP_TEMP4 weapon_xoffset
	  mulvar WEAP_DISP_TEMP4 3
	  add WEAP_DISP_TEMP3 WEAP_DISP_TEMP4
	  add WEAP_DISP_TEMP3 WEAP_DISP_TEMP2
	  sub y 5
	  sub x 49
	  ifg KICKBACKPIC 5 ifl KICKBACKPIC 16 sub y 8
	  rotatesprite x y 58000 WEAP_DISP_TEMP3 12145 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // Gun's strap
	  ifg KICKBACKPIC 5 ifl KICKBACKPIC 16 add y 8
	  add y 5
	  add x 49
ends

defstate draw_mc_explosive_shotgun

   set x 235
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 25
case 26
case 27
case 28
case 29
case 30
case 31
  ife player[].weapon_pos 8 sound SELECT_WEAPON
  state wep_drawup
  state gunpushback_display
  state draw_mc_exp_shot_strap
  
	sub x 74
	add y 35
	rotatesprite x y 45056 0 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 74
	sub y 35

  rotatesprite x y 49152 WEAP_DISP_TEMP2 16503 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 44
  sub y 48
  rotatespritea x y 34000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 74
	add y 35
	rotatesprite x y 45056 0 9008 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 74
	sub y 35
  
  rotatesprite x y 49152 0 16504 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 6
  sub x 44
  sub y 48
  rotatespritea x y 40000 M60FLASH 16114 15 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 74
	add y 35
	rotatesprite x y 45056 0 9008 0 108 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 74
	sub y 35

  rotatesprite x y 49152 0 16504 shade 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  sub y 7
  set M60FLASH 0
  
	sub x 74
	add y 35
	rotatesprite x y 45056 16 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 74
	sub y 35
  rotatesprite x y 49152 16 16503 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  
	sub x 74
	add y 20
	rotatesprite x y 45056 32 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 74
	sub y 20

  rotatesprite x y 49152 32 16505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  
	sub x 72
	add y 14
	rotatesprite x y 45056 48 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 72
	sub y 14
  rotatesprite x y 49152 48 16505 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  
	sub x 64
	add y 30
	rotatesprite x y 49248 0 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 64
	sub y 30

  rotatesprite x y 49152 0 16506 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  
	sub x 64
	add y 30
	rotatesprite x y 49248 16 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 64
	sub y 30
  
  rotatesprite x y 49152 16 16506 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  
	sub x 55
	add y 70
	rotatesprite x y 49248 16 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 55
	sub y 70
	  
  rotatesprite x y 49152 0 16507 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch

 ends
 
 // MICKY'S MESON CANNON ===========================================

defstate draw_mc_meson_cannon

  set x 240
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 245
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos

switch weaponcount
case 0
case 1
case 25
case 26
case 27
case 28
case 29
case 30
case 31
  ife player[].weapon_pos 8 sound SELECT_WEAPON
  state wep_drawup
  state gunpushback_display
  
	sub x 97
	add y 18
	rotatesprite x y 45056 0 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 97
	sub y 18

  rotatesprite x y 49152 WEAP_DISP_TEMP2 16574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  ife M60FLASH 0 displayrandvar M60FLASH 2048
  sub x 44
  sub y 48
  rotatespritea x y 34000 M60FLASH 16114 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 97
	add y 18
	rotatesprite x y 45056 0 9008 0 107 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 97
	sub y 18
  
  rotatesprite x y 49152 0 16575 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 3
  set GUN_PUSHBACK_DISPLAY 6
  sub x 44
  sub y 48
  rotatespritea x y 40000 M60FLASH 16114 15 0 0 -255 windowx1 windowy1 windowx2 windowy2
  add x 44
  add y 48
  
	sub x 97
	add y 18
	rotatesprite x y 45056 0 9008 0 108 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 97
	sub y 18

  rotatesprite x y 49152 0 16575 shade 107 0 windowx1 windowy1 windowx2 windowy2
  break
case 22
case 23
case 24
  sub y 7
  set M60FLASH 0
  
	sub x 97
	add y 18
	rotatesprite x y 45056 16 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 97
	sub y 18
  rotatesprite x y 49152 16 16574 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 4
case 21
case 20
  sub y 7
  
	sub x 78
	add y 10
	rotatesprite x y 45056 32 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 78
	sub y 10

  rotatesprite x y 49152 32 16576 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 5
case 18
case 19
  sub y 9
  
	sub x 78
	add y 8
	rotatesprite x y 45056 48 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2 // hand
	add x 78
	sub y 8
  rotatesprite x y 49152 48 16576 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 6
case 17
case 16
  sub y 9
  
	sub x 78
	rotatesprite x y 49248 0 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 78

  rotatesprite x y 49152 0 16577 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 14
case 15
  sub y 15
  
	sub x 78
	rotatesprite x y 49248 16 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 78
  
  rotatesprite x y 49152 16 16577 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 9
case 10
case 11
case 12
case 13
  sub y 18
  
	sub x 75
	add y 18
	rotatesprite x y 49248 16 9008 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
	add x 75
	sub y 18
	  
  rotatesprite x y 49152 0 16578 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
 ends
 
 // Micky's Ice trap ===============================================================================================================

defstate draw_mc_icebomb

  switch weaponcount
   case 0
      set WEAP_DISP_TEMP 235
      set x 175
	  sub x WEAPSWAYX
      add x weapon_xoffset
      sub x looking_angSR1
      set y WEAP_DISP_TEMP
	  sub y WEAPSWAYY
      add y looking_arc
      sub y gun_pos
	  state wep_drawup
	getp[].ammo_amount 8 WEAP_DISP_TEMP
      ifg WEAP_DISP_TEMP 0 
		{ 
		 set WEAP_DISP_TEMP3 player[].weapon_pos
		myospal x y 16512 shade 0 wep_pal
		
	  getp[].random_club_frame WEAP_DISP_TEMP
	   sin WEAP_DISP_TEMP WEAP_DISP_TEMP
	   divvar WEAP_DISP_TEMP 1024 // 2^10
	   add WEAP_DISP_TEMP 10 
	  rotatesprite x y NORMALSIZE WEAP_DISP_TEMP2 16511 WEAP_DISP_TEMP 0 0 windowx1 windowy1 windowx2 windowy2
		
		}
   break
   case 1 
   case 2 
   case 3 
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
	  set WEAP_DISP_TEMP 160
	  set WEAP_DISP_TEMP2 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP2 5
	  add WEAP_DISP_TEMP WEAP_DISP_TEMP2
      set tilenum 16512
      myospal x WEAP_DISP_TEMP tilenum shade 0 wep_pal
   break
   case 4 
   case 5 
   case 6 
   case 7 
   case 8 
   case 9 
   case 10
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
	  set WEAP_DISP_TEMP 240
	  set WEAP_DISP_TEMP2 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP2 5
	  sub WEAP_DISP_TEMP WEAP_DISP_TEMP2
      set tilenum 16515
      myospal x WEAP_DISP_TEMP tilenum shade 0 wep_pal
   break 
   case 11
   case 12
   case 13
   case 14
   case 15
   case 16
      set x 175
      add x weapon_xoffset
      sub x looking_angSR1
	  set WEAP_DISP_TEMP 300
	  set WEAP_DISP_TEMP2 KICKBACKPIC
	  mulvar WEAP_DISP_TEMP2 8
	  sub WEAP_DISP_TEMP WEAP_DISP_TEMP2
      myospal x WEAP_DISP_TEMP 16535 shade 0 wep_pal
   break
  endswitch
ends

// MICKY'S FLAMETHROWER


defstate draw_mc_flamethrower

  set x 230
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 240
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  

switch weaponcount
case 0
    state wep_drawup
	sub x 60
	sub y 40
	ife WEAP_DISP_TEMP2 0 rotatespritea x y QUARTERSIZE 0 16547 0 0 0 -255 windowx1 windowy1 windowx2 windowy2
	add x 60
	add y 40
	rotatesprite x y 40962 WEAP_DISP_TEMP2 16543 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2

  break
case 1
case 2
case 3
 displayrandvar WEAP_DISP_TEMP2 8
  add x WEAP_DISP_TEMP2
 displayrandvar WEAP_DISP_TEMP2 8
  add y WEAP_DISP_TEMP2
 displayrandvar WEAP_DISP_TEMP3 2048
  sub y 38
  sub x 45
  rotatespritea x y HALFSIZE WEAP_DISP_TEMP3 16115 0 0 0 -255 windowx1 windowy1 windowx2 windowy2 
  add y 38
  add x 45
  rotatesprite x y 40962 0 16544 0 wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends

// JAMES' AUTO CROSSBOW ========================================================================================================================================================================================

defstate draw_j_autocrossbow

  set x 175
  sub x WEAPSWAYX
  add x weapon_xoffset
  sub x looking_angSR1
      
  set y 250
  sub y WEAPSWAYY
  add y looking_arc
  sub y gun_pos
  
ifg SCOPE 0 { add x 60 add y 60 set WEAP_DISP_TEMP9 71536 }
else set WEAP_DISP_TEMP9 M4A1_SIZE
  

switch weaponcount
case 0
case 3
case 4
case 5
case 6
case 42
  state wep_drawup
  state gunpushback_display
  ifl BOW_PULLBACK 10 rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 15920 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ifl BOW_PULLBACK 20 rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 16094 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ifl BOW_PULLBACK 30 rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 15921 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else ifl BOW_PULLBACK 40 rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 16095 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  else rotatesprite x y WEAP_DISP_TEMP9 WEAP_DISP_TEMP2 15919 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 1
  add x 5
  add y 5
  rotatesprite x y WEAP_DISP_TEMP9 0 15920 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 2
  add x 7
  add y 7
  set GUN_PUSHBACK_DISPLAY 7
  rotatesprite x y WEAP_DISP_TEMP9 0 15921 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 7
case 8
case 9
case 39
case 40
case 41
  add x 20
  rotatesprite x y M4A1_SIZE 0 15922 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 10
case 11
case 12
case 36
case 37
case 38
  add x 20
  rotatesprite x y M4A1_SIZE 0 15923 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 13
case 14
case 15
case 33
case 34
case 35
  add x 20
  sub y 10
  rotatesprite x y M4A1_SIZE 0 15924 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 16
case 17
case 31
case 32
  add x 20
  sub y 10
  rotatesprite x y M4A1_SIZE 0 15925 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 18
case 19
case 20
case 21
case 22
case 28
case 29
case 30
  add x 20
  sub y 10
  rotatesprite x y M4A1_SIZE 0 15926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
case 23
case 24
case 25
case 26
case 27
  add x 20
  sub y 15
  rotatesprite x y M4A1_SIZE 32 15926 shade wep_pal 0 windowx1 windowy1 windowx2 windowy2
  break
endswitch
ends
